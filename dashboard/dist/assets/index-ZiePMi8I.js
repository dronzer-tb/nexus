var $j=Object.defineProperty;var Fj=(e,t,s)=>t in e?$j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ne=(e,t,s)=>Fj(e,typeof t!="symbol"?t+"":t,s);function zj(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Hj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q2={exports:{}},hu={},Z2={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),Vj=Symbol.for("react.portal"),Wj=Symbol.for("react.fragment"),Uj=Symbol.for("react.strict_mode"),Kj=Symbol.for("react.profiler"),qj=Symbol.for("react.provider"),Yj=Symbol.for("react.context"),Xj=Symbol.for("react.forward_ref"),Gj=Symbol.for("react.suspense"),Qj=Symbol.for("react.memo"),Zj=Symbol.for("react.lazy"),vx=Symbol.iterator;function Jj(e){return e===null||typeof e!="object"?null:(e=vx&&e[vx]||e["@@iterator"],typeof e=="function"?e:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eC=Object.assign,tC={};function fo(e,t,s){this.props=e,this.context=t,this.refs=tC,this.updater=s||J2}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sC(){}sC.prototype=fo.prototype;function ev(e,t,s){this.props=e,this.context=t,this.refs=tC,this.updater=s||J2}var tv=ev.prototype=new sC;tv.constructor=ev;eC(tv,fo.prototype);tv.isPureReactComponent=!0;var xx=Array.isArray,rC=Object.prototype.hasOwnProperty,sv={current:null},nC={key:!0,ref:!0,__self:!0,__source:!0};function iC(e,t,s){var r,n={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rC.call(t,r)&&!nC.hasOwnProperty(r)&&(n[r]=t[r]);var a=arguments.length-2;if(a===1)n.children=s;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:ml,type:e,key:i,ref:o,props:n,_owner:sv.current}}function e4(e,t){return{$$typeof:ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rv(e){return typeof e=="object"&&e!==null&&e.$$typeof===ml}function t4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var yx=/\/+/g;function ed(e,t){return typeof e=="object"&&e!==null&&e.key!=null?t4(""+e.key):t.toString(36)}function Mc(e,t,s,r,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ml:case Vj:o=!0}}if(o)return o=e,n=n(o),e=r===""?"."+ed(o,0):r,xx(n)?(s="",e!=null&&(s=e.replace(yx,"$&/")+"/"),Mc(n,t,s,"",function(c){return c})):n!=null&&(rv(n)&&(n=e4(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(yx,"$&/")+"/")+e)),t.push(n)),1;if(o=0,r=r===""?".":r+":",xx(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ed(i,a);o+=Mc(i,t,s,l,n)}else if(l=Jj(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ed(i,a++),o+=Mc(i,t,s,l,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(e,t,s){if(e==null)return e;var r=[],n=0;return Mc(e,r,"","",function(i){return t.call(s,i,n++)}),r}function s4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Oc={transition:null},r4={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:sv};function oC(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Bl,forEach:function(e,t,s){Bl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!rv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=fo;ae.Fragment=Wj;ae.Profiler=Kj;ae.PureComponent=ev;ae.StrictMode=Uj;ae.Suspense=Gj;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r4;ae.act=oC;ae.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eC({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sv.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)rC.call(t,l)&&!nC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ml,type:e.type,key:n,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:Yj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qj,_context:e},e.Consumer=e};ae.createElement=iC;ae.createFactory=function(e){var t=iC.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Xj,render:e}};ae.isValidElement=rv;ae.lazy=function(e){return{$$typeof:Zj,_payload:{_status:-1,_result:e},_init:s4}};ae.memo=function(e,t){return{$$typeof:Qj,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Oc.transition;Oc.transition={};try{e()}finally{Oc.transition=t}};ae.unstable_act=oC;ae.useCallback=function(e,t){return Dt.current.useCallback(e,t)};ae.useContext=function(e){return Dt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Dt.current.useEffect(e,t)};ae.useId=function(){return Dt.current.useId()};ae.useImperativeHandle=function(e,t,s){return Dt.current.useImperativeHandle(e,t,s)};ae.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Dt.current.useMemo(e,t)};ae.useReducer=function(e,t,s){return Dt.current.useReducer(e,t,s)};ae.useRef=function(e){return Dt.current.useRef(e)};ae.useState=function(e){return Dt.current.useState(e)};ae.useSyncExternalStore=function(e,t,s){return Dt.current.useSyncExternalStore(e,t,s)};ae.useTransition=function(){return Dt.current.useTransition()};ae.version="18.3.1";Z2.exports=ae;var g=Z2.exports;const gl=Hj(g),n4=zj({__proto__:null,default:gl},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4=g,o4=Symbol.for("react.element"),a4=Symbol.for("react.fragment"),l4=Object.prototype.hasOwnProperty,c4=i4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h4={key:!0,ref:!0,__self:!0,__source:!0};function aC(e,t,s){var r,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)l4.call(t,r)&&!h4.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:o4,type:e,key:i,ref:o,props:n,_owner:c4.current}}hu.Fragment=a4;hu.jsx=aC;hu.jsxs=aC;Q2.exports=hu;var h=Q2.exports,Np={},lC={exports:{}},rs={},cC={exports:{}},hC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,B){var V=j.length;j.push(B);e:for(;0<V;){var Y=V-1>>>1,D=j[Y];if(0<n(D,B))j[Y]=B,j[V]=D,V=Y;else break e}}function s(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],V=j.pop();if(V!==B){j[0]=V;e:for(var Y=0,D=j.length,K=D>>>1;Y<K;){var X=2*(Y+1)-1,z=j[X],Z=X+1,de=j[Z];if(0>n(z,V))Z<D&&0>n(de,z)?(j[Y]=de,j[Z]=V,Y=Z):(j[Y]=z,j[X]=V,Y=X);else if(Z<D&&0>n(de,V))j[Y]=de,j[Z]=V,Y=Z;else break e}}return B}function n(j,B){var V=j.sortIndex-B.sortIndex;return V!==0?V:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var B=s(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=j)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=s(c)}}function w(j){if(v=!1,_(j),!p)if(s(l)!==null)p=!0,A(S);else{var B=s(c);B!==null&&F(w,B.startTime-j)}}function S(j,B){p=!1,v&&(v=!1,x(C),C=-1),m=!0;var V=f;try{for(_(B),d=s(l);d!==null&&(!(d.expirationTime>B)||j&&!M());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var D=Y(d.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?d.callback=D:d===s(l)&&r(l),_(B)}else r(l);d=s(l)}if(d!==null)var K=!0;else{var X=s(c);X!==null&&F(w,X.startTime-B),K=!1}return K}finally{d=null,f=V,m=!1}}var E=!1,k=null,C=-1,N=5,P=-1;function M(){return!(e.unstable_now()-P<N)}function T(){if(k!==null){var j=e.unstable_now();P=j;var B=!0;try{B=k(!0,j)}finally{B?L():(E=!1,k=null)}}else E=!1}var L;if(typeof b=="function")L=function(){b(T)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=T,L=function(){O.postMessage(null)}}else L=function(){y(T,0)};function A(j){k=j,E||(E=!0,L())}function F(j,B){C=y(function(){j(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,A(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var V=f;f=B;try{return j()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=f;f=j;try{return B()}finally{f=V}},e.unstable_scheduleCallback=function(j,B,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=V+D,j={id:u++,callback:B,priorityLevel:j,startTime:V,expirationTime:D,sortIndex:-1},V>Y?(j.sortIndex=V,t(c,j),s(l)===null&&j===s(c)&&(v?(x(C),C=-1):v=!0,F(w,V-Y))):(j.sortIndex=D,t(l,j),p||m||(p=!0,A(S))),j},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(j){var B=f;return function(){var V=f;f=B;try{return j.apply(this,arguments)}finally{f=V}}}})(hC);cC.exports=hC;var u4=cC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=g,ss=u4;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uC=new Set,Ra={};function pi(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(Ra[e]=t,e=0;e<t.length;e++)uC.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=Object.prototype.hasOwnProperty,f4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_x={},bx={};function p4(e){return jp.call(bx,e)?!0:jp.call(_x,e)?!1:f4.test(e)?bx[e]=!0:(_x[e]=!0,!1)}function m4(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function g4(e,t,s,r){if(t===null||typeof t>"u"||m4(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,s,r,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var nv=/[\-:]([a-z])/g;function iv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nv,iv);yt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nv,iv);yt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nv,iv);yt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function ov(e,t,s,r){var n=yt.hasOwnProperty(t)?yt[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g4(t,s,n,r)&&(s=null),r||n===null?p4(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,r=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Pr=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),cv=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),wx=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=wx&&e[wx]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,td;function ea(e){if(td===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);td=t&&t[1]||""}return`
`+td+e}var sd=!1;function rd(e,t){if(!e||sd)return"";sd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=r.stack.split(`
`),o=n.length-1,a=i.length-1;1<=o&&0<=a&&n[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||n[o]!==i[a]){var l=`
`+n[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ea(e):""}function v4(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=rd(e.type,!1),e;case 11:return e=rd(e.type.render,!1),e;case 1:return e=rd(e.type,!0),e;default:return""}}function Mp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case Ei:return"Portal";case Pp:return"Profiler";case av:return"StrictMode";case Tp:return"Suspense";case Lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fC:return(e.displayName||"Context")+".Consumer";case dC:return(e._context.displayName||"Context")+".Provider";case lv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cv:return t=e.displayName||null,t!==null?t:Mp(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return Mp(e(t))}catch{}}return null}function x4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mp(t);case 8:return t===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y4(e){var t=mC(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=y4(e))}function gC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=mC(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Op(e,t){var s=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Sx(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=pn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vC(e,t){t=t.checked,t!=null&&ov(e,"checked",t,!1)}function Rp(e,t){vC(e,t);var s=pn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,s):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Dp(e,t,s){(t!=="number"||ph(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ta=Array.isArray;function Ui(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+pn(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ap(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(H(92));if(ta(s)){if(1<s.length)throw Error(H(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:pn(s)}}function xC(e,t){var s=pn(t.value),r=pn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Ex(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fl,_C=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fl=Fl||document.createElement("div"),Fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Da(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_4=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(e){_4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pa[t]=pa[e]})});function bC(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||pa.hasOwnProperty(e)&&pa[e]?(""+t).trim():t+"px"}function wC(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,n=bC(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}var b4=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(e,t){if(t){if(b4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function hv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zp=null,Ki=null,qi=null;function Nx(e){if(e=yl(e)){if(typeof zp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=mu(t),zp(e.stateNode,e.type,t))}}function SC(e){Ki?qi?qi.push(e):qi=[e]:Ki=e}function CC(){if(Ki){var e=Ki,t=qi;if(qi=Ki=null,Nx(e),t)for(e=0;e<t.length;e++)Nx(t[e])}}function kC(e,t){return e(t)}function EC(){}var nd=!1;function NC(e,t,s){if(nd)return e(t,s);nd=!0;try{return kC(e,t,s)}finally{nd=!1,(Ki!==null||qi!==null)&&(EC(),CC())}}function Aa(e,t){var s=e.stateNode;if(s===null)return null;var r=mu(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(H(231,t,typeof s));return s}var Hp=!1;if(wr)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Hp=!1}function w4(e,t,s,r,n,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var ma=!1,mh=null,gh=!1,Vp=null,S4={onError:function(e){ma=!0,mh=e}};function C4(e,t,s,r,n,i,o,a,l){ma=!1,mh=null,w4.apply(S4,arguments)}function k4(e,t,s,r,n,i,o,a,l){if(C4.apply(this,arguments),ma){if(ma){var c=mh;ma=!1,mh=null}else throw Error(H(198));gh||(gh=!0,Vp=c)}}function mi(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function jC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jx(e){if(mi(e)!==e)throw Error(H(188))}function E4(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(H(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(r=n.return,r!==null){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return jx(n),e;if(i===r)return jx(n),t;i=i.sibling}throw Error(H(188))}if(s.return!==r.return)s=n,r=i;else{for(var o=!1,a=n.child;a;){if(a===s){o=!0,s=n,r=i;break}if(a===r){o=!0,r=n,s=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===s){o=!0,s=i,r=n;break}if(a===r){o=!0,r=i,s=n;break}a=a.sibling}if(!o)throw Error(H(189))}}if(s.alternate!==r)throw Error(H(190))}if(s.tag!==3)throw Error(H(188));return s.stateNode.current===s?e:t}function PC(e){return e=E4(e),e!==null?TC(e):null}function TC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=TC(e);if(t!==null)return t;e=e.sibling}return null}var LC=ss.unstable_scheduleCallback,Px=ss.unstable_cancelCallback,N4=ss.unstable_shouldYield,j4=ss.unstable_requestPaint,Ve=ss.unstable_now,P4=ss.unstable_getCurrentPriorityLevel,uv=ss.unstable_ImmediatePriority,MC=ss.unstable_UserBlockingPriority,vh=ss.unstable_NormalPriority,T4=ss.unstable_LowPriority,OC=ss.unstable_IdlePriority,uu=null,tr=null;function L4(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(uu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:R4,M4=Math.log,O4=Math.LN2;function R4(e){return e>>>=0,e===0?32:31-(M4(e)/O4|0)|0}var zl=64,Hl=4194304;function sa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xh(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,n=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var a=o&~n;a!==0?r=sa(a):(i&=o,i!==0&&(r=sa(i)))}else o=s&~n,o!==0?r=sa(o):i!==0&&(r=sa(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ds(t),n=1<<s,r|=e[s],t&=~n;return r}function D4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A4(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ds(i),a=1<<o,l=n[o];l===-1?(!(a&s)||a&r)&&(n[o]=D4(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RC(){var e=zl;return zl<<=1,!(zl&4194240)&&(zl=64),e}function id(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vl(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ds(t),e[t]=s}function B4(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Ds(s),i=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~i}}function dv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ds(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var ve=0;function DC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AC,fv,BC,IC,$C,Up=!1,Vl=[],en=null,tn=null,sn=null,Ba=new Map,Ia=new Map,Wr=[],I4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function Mo(e,t,s,r,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[n]},t!==null&&(t=yl(t),t!==null&&fv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function $4(e,t,s,r,n){switch(t){case"focusin":return en=Mo(en,e,t,s,r,n),!0;case"dragenter":return tn=Mo(tn,e,t,s,r,n),!0;case"mouseover":return sn=Mo(sn,e,t,s,r,n),!0;case"pointerover":var i=n.pointerId;return Ba.set(i,Mo(Ba.get(i)||null,e,t,s,r,n)),!0;case"gotpointercapture":return i=n.pointerId,Ia.set(i,Mo(Ia.get(i)||null,e,t,s,r,n)),!0}return!1}function FC(e){var t=Fn(e.target);if(t!==null){var s=mi(t);if(s!==null){if(t=s.tag,t===13){if(t=jC(s),t!==null){e.blockedOn=t,$C(e.priority,function(){BC(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Fp=r,s.target.dispatchEvent(r),Fp=null}else return t=yl(s),t!==null&&fv(t),e.blockedOn=s,!1;t.shift()}return!0}function Lx(e,t,s){Rc(e)&&s.delete(t)}function F4(){Up=!1,en!==null&&Rc(en)&&(en=null),tn!==null&&Rc(tn)&&(tn=null),sn!==null&&Rc(sn)&&(sn=null),Ba.forEach(Lx),Ia.forEach(Lx)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Up||(Up=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,F4)))}function $a(e){function t(n){return Oo(n,e)}if(0<Vl.length){Oo(Vl[0],e);for(var s=1;s<Vl.length;s++){var r=Vl[s];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&Oo(en,e),tn!==null&&Oo(tn,e),sn!==null&&Oo(sn,e),Ba.forEach(t),Ia.forEach(t),s=0;s<Wr.length;s++)r=Wr[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wr.length&&(s=Wr[0],s.blockedOn===null);)FC(s),s.blockedOn===null&&Wr.shift()}var Yi=Pr.ReactCurrentBatchConfig,yh=!0;function z4(e,t,s,r){var n=ve,i=Yi.transition;Yi.transition=null;try{ve=1,pv(e,t,s,r)}finally{ve=n,Yi.transition=i}}function H4(e,t,s,r){var n=ve,i=Yi.transition;Yi.transition=null;try{ve=4,pv(e,t,s,r)}finally{ve=n,Yi.transition=i}}function pv(e,t,s,r){if(yh){var n=Kp(e,t,s,r);if(n===null)md(e,t,r,_h,s),Tx(e,r);else if($4(n,e,t,s,r))r.stopPropagation();else if(Tx(e,r),t&4&&-1<I4.indexOf(e)){for(;n!==null;){var i=yl(n);if(i!==null&&AC(i),i=Kp(e,t,s,r),i===null&&md(e,t,r,_h,s),i===n)break;n=i}n!==null&&r.stopPropagation()}else md(e,t,r,null,s)}}var _h=null;function Kp(e,t,s,r){if(_h=null,e=hv(r),e=Fn(e),e!==null)if(t=mi(e),t===null)e=null;else if(s=t.tag,s===13){if(e=jC(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _h=e,null}function zC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P4()){case uv:return 1;case MC:return 4;case vh:case T4:return 16;case OC:return 536870912;default:return 16}default:return 16}}var Kr=null,mv=null,Dc=null;function HC(){if(Dc)return Dc;var e,t=mv,s=t.length,r,n="value"in Kr?Kr.value:Kr.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===n[i-r];r++);return Dc=n.slice(e,1<r?1-r:void 0)}function Ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function Mx(){return!1}function ns(e){function t(s,r,n,i,o){this._reactName=s,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(s=e[a],this[a]=s?s(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wl:Mx,this.isPropagationStopped=Mx,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gv=ns(po),xl=Re({},po,{view:0,detail:0}),V4=ns(xl),od,ad,Ro,du=Re({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(od=e.screenX-Ro.screenX,ad=e.screenY-Ro.screenY):ad=od=0,Ro=e),od)},movementY:function(e){return"movementY"in e?e.movementY:ad}}),Ox=ns(du),W4=Re({},du,{dataTransfer:0}),U4=ns(W4),K4=Re({},xl,{relatedTarget:0}),ld=ns(K4),q4=Re({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),Y4=ns(q4),X4=Re({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G4=ns(X4),Q4=Re({},po,{data:0}),Rx=ns(Q4),Z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eP[e])?!!t[e]:!1}function vv(){return tP}var sP=Re({},xl,{key:function(e){if(e.key){var t=Z4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(e){return e.type==="keypress"?Ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rP=ns(sP),nP=Re({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=ns(nP),iP=Re({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),oP=ns(iP),aP=Re({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),lP=ns(aP),cP=Re({},du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=ns(cP),uP=[9,13,27,32],xv=wr&&"CompositionEvent"in window,ga=null;wr&&"documentMode"in document&&(ga=document.documentMode);var dP=wr&&"TextEvent"in window&&!ga,VC=wr&&(!xv||ga&&8<ga&&11>=ga),Ax=" ",Bx=!1;function WC(e,t){switch(e){case"keyup":return uP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function fP(e,t){switch(e){case"compositionend":return UC(t);case"keypress":return t.which!==32?null:(Bx=!0,Ax);case"textInput":return e=t.data,e===Ax&&Bx?null:e;default:return null}}function pP(e,t){if(ji)return e==="compositionend"||!xv&&WC(e,t)?(e=HC(),Dc=mv=Kr=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VC&&t.locale!=="ko"?null:t.data;default:return null}}var mP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mP[e.type]:t==="textarea"}function KC(e,t,s,r){SC(r),t=bh(t,"onChange"),0<t.length&&(s=new gv("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var va=null,Fa=null;function gP(e){rk(e,0)}function fu(e){var t=Li(e);if(gC(t))return e}function vP(e,t){if(e==="change")return t}var qC=!1;if(wr){var cd;if(wr){var hd="oninput"in document;if(!hd){var $x=document.createElement("div");$x.setAttribute("oninput","return;"),hd=typeof $x.oninput=="function"}cd=hd}else cd=!1;qC=cd&&(!document.documentMode||9<document.documentMode)}function Fx(){va&&(va.detachEvent("onpropertychange",YC),Fa=va=null)}function YC(e){if(e.propertyName==="value"&&fu(Fa)){var t=[];KC(t,Fa,e,hv(e)),NC(gP,t)}}function xP(e,t,s){e==="focusin"?(Fx(),va=t,Fa=s,va.attachEvent("onpropertychange",YC)):e==="focusout"&&Fx()}function yP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(Fa)}function _P(e,t){if(e==="click")return fu(t)}function bP(e,t){if(e==="input"||e==="change")return fu(t)}function wP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Is=typeof Object.is=="function"?Object.is:wP;function za(e,t){if(Is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!jp.call(t,n)||!Is(e[n],t[n]))return!1}return!0}function zx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hx(e,t){var s=zx(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zx(s)}}function XC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GC(){for(var e=window,t=ph();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ph(e.document)}return t}function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SP(e){var t=GC(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&XC(s.ownerDocument.documentElement,s)){if(r!==null&&yv(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(r.start,n);r=r.end===void 0?i:Math.min(r.end,n),!e.extend&&i>r&&(n=r,r=i,i=n),n=Hx(s,i);var o=Hx(s,r);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CP=wr&&"documentMode"in document&&11>=document.documentMode,Pi=null,qp=null,xa=null,Yp=!1;function Vx(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yp||Pi==null||Pi!==ph(r)||(r=Pi,"selectionStart"in r&&yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&za(xa,r)||(xa=r,r=bh(qp,"onSelect"),0<r.length&&(t=new gv("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Pi)))}function Ul(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ti={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},ud={},QC={};wr&&(QC=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function pu(e){if(ud[e])return ud[e];if(!Ti[e])return e;var t=Ti[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in QC)return ud[e]=t[s];return e}var ZC=pu("animationend"),JC=pu("animationiteration"),ek=pu("animationstart"),tk=pu("transitionend"),sk=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){sk.set(e,t),pi(t,[e])}for(var dd=0;dd<Wx.length;dd++){var fd=Wx[dd],kP=fd.toLowerCase(),EP=fd[0].toUpperCase()+fd.slice(1);_n(kP,"on"+EP)}_n(ZC,"onAnimationEnd");_n(JC,"onAnimationIteration");_n(ek,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(tk,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Ux(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,k4(r,t,void 0,e),e.currentTarget=null}function rk(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&n.isPropagationStopped())break e;Ux(n,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&n.isPropagationStopped())break e;Ux(n,a,c),i=l}}}if(gh)throw e=Vp,gh=!1,Vp=null,e}function Se(e,t){var s=t[Jp];s===void 0&&(s=t[Jp]=new Set);var r=e+"__bubble";s.has(r)||(nk(t,e,2,!1),s.add(r))}function pd(e,t,s){var r=0;t&&(r|=4),nk(s,e,r,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[Kl]){e[Kl]=!0,uC.forEach(function(s){s!=="selectionchange"&&(NP.has(s)||pd(s,!1,e),pd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,pd("selectionchange",!1,t))}}function nk(e,t,s,r){switch(zC(t)){case 1:var n=z4;break;case 4:n=H4;break;default:n=pv}s=n.bind(null,t,s,e),n=void 0,!Hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function md(e,t,s,r,n){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;a!==null;){if(o=Fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}NC(function(){var c=i,u=hv(s),d=[];e:{var f=sk.get(e);if(f!==void 0){var m=gv,p=e;switch(e){case"keypress":if(Ac(s)===0)break e;case"keydown":case"keyup":m=rP;break;case"focusin":p="focus",m=ld;break;case"focusout":p="blur",m=ld;break;case"beforeblur":case"afterblur":m=ld;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oP;break;case ZC:case JC:case ek:m=Y4;break;case tk:m=lP;break;case"scroll":m=V4;break;case"wheel":m=hP;break;case"copy":case"cut":case"paste":m=G4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dx}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var b=c,_;b!==null;){_=b;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,x!==null&&(w=Aa(b,x),w!=null&&v.push(Va(b,w,_)))),y)break;b=b.return}0<v.length&&(f=new m(f,p,null,s,u),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&s!==Fp&&(p=s.relatedTarget||s.fromElement)&&(Fn(p)||p[Sr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=s.relatedTarget||s.toElement,m=c,p=p?Fn(p):null,p!==null&&(y=mi(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(v=Ox,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=Dx,w="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?f:Li(m),_=p==null?f:Li(p),f=new v(w,b+"leave",m,s,u),f.target=y,f.relatedTarget=_,w=null,Fn(u)===c&&(v=new v(x,b+"enter",p,s,u),v.target=_,v.relatedTarget=y,w=v),y=w,m&&p)t:{for(v=m,x=p,b=0,_=v;_;_=_i(_))b++;for(_=0,w=x;w;w=_i(w))_++;for(;0<b-_;)v=_i(v),b--;for(;0<_-b;)x=_i(x),_--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=_i(v),x=_i(x)}v=null}else v=null;m!==null&&Kx(d,f,m,v,!1),p!==null&&y!==null&&Kx(d,y,p,v,!0)}}e:{if(f=c?Li(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=vP;else if(Ix(f))if(qC)S=bP;else{S=yP;var E=xP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=_P);if(S&&(S=S(e,c))){KC(d,S,s,u);break e}E&&E(e,f,c),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Dp(f,"number",f.value)}switch(E=c?Li(c):window,e){case"focusin":(Ix(E)||E.contentEditable==="true")&&(Pi=E,qp=c,xa=null);break;case"focusout":xa=qp=Pi=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,Vx(d,s,u);break;case"selectionchange":if(CP)break;case"keydown":case"keyup":Vx(d,s,u)}var k;if(xv)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ji?WC(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(VC&&s.locale!=="ko"&&(ji||C!=="onCompositionStart"?C==="onCompositionEnd"&&ji&&(k=HC()):(Kr=u,mv="value"in Kr?Kr.value:Kr.textContent,ji=!0)),E=bh(c,C),0<E.length&&(C=new Rx(C,e,null,s,u),d.push({event:C,listeners:E}),k?C.data=k:(k=UC(s),k!==null&&(C.data=k)))),(k=dP?fP(e,s):pP(e,s))&&(c=bh(c,"onBeforeInput"),0<c.length&&(u=new Rx("onBeforeInput","beforeinput",null,s,u),d.push({event:u,listeners:c}),u.data=k))}rk(d,t)})}function Va(e,t,s){return{instance:e,listener:t,currentTarget:s}}function bh(e,t){for(var s=t+"Capture",r=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Aa(e,s),i!=null&&r.unshift(Va(e,i,n)),i=Aa(e,t),i!=null&&r.push(Va(e,i,n))),e=e.return}return r}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kx(e,t,s,r,n){for(var i=t._reactName,o=[];s!==null&&s!==r;){var a=s,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,n?(l=Aa(s,i),l!=null&&o.unshift(Va(s,l,a))):n||(l=Aa(s,i),l!=null&&o.push(Va(s,l,a)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var jP=/\r\n?/g,PP=/\u0000|\uFFFD/g;function qx(e){return(typeof e=="string"?e:""+e).replace(jP,`
`).replace(PP,"")}function ql(e,t,s){if(t=qx(t),qx(e)!==t&&s)throw Error(H(425))}function wh(){}var Xp=null,Gp=null;function Qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,TP=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,LP=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(e){return Yx.resolve(null).then(e).catch(MP)}:Zp;function MP(e){setTimeout(function(){throw e})}function gd(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){e.removeChild(n),$a(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=n}while(s);$a(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Js="__reactFiber$"+mo,Wa="__reactProps$"+mo,Sr="__reactContainer$"+mo,Jp="__reactEvents$"+mo,OP="__reactListeners$"+mo,RP="__reactHandles$"+mo;function Fn(e){var t=e[Js];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Sr]||s[Js]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Xx(e);e!==null;){if(s=e[Js])return s;e=Xx(e)}return t}e=s,s=e.parentNode}return null}function yl(e){return e=e[Js]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function mu(e){return e[Wa]||null}var em=[],Mi=-1;function bn(e){return{current:e}}function Ee(e){0>Mi||(e.current=em[Mi],em[Mi]=null,Mi--)}function _e(e,t){Mi++,em[Mi]=e.current,e.current=t}var mn={},jt=bn(mn),Wt=bn(!1),ri=mn;function eo(e,t){var s=e.type.contextTypes;if(!s)return mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ut(e){return e=e.childContextTypes,e!=null}function Sh(){Ee(Wt),Ee(jt)}function Gx(e,t,s){if(jt.current!==mn)throw Error(H(168));_e(jt,t),_e(Wt,s)}function ik(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(H(108,x4(e)||"Unknown",n));return Re({},s,r)}function Ch(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,ri=jt.current,_e(jt,e),_e(Wt,Wt.current),!0}function Qx(e,t,s){var r=e.stateNode;if(!r)throw Error(H(169));s?(e=ik(e,t,ri),r.__reactInternalMemoizedMergedChildContext=e,Ee(Wt),Ee(jt),_e(jt,e)):Ee(Wt),_e(Wt,s)}var gr=null,gu=!1,vd=!1;function ok(e){gr===null?gr=[e]:gr.push(e)}function DP(e){gu=!0,ok(e)}function wn(){if(!vd&&gr!==null){vd=!0;var e=0,t=ve;try{var s=gr;for(ve=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}gr=null,gu=!1}catch(n){throw gr!==null&&(gr=gr.slice(e+1)),LC(uv,wn),n}finally{ve=t,vd=!1}}return null}var Oi=[],Ri=0,kh=null,Eh=0,us=[],ds=0,ni=null,xr=1,yr="";function Ln(e,t){Oi[Ri++]=Eh,Oi[Ri++]=kh,kh=e,Eh=t}function ak(e,t,s){us[ds++]=xr,us[ds++]=yr,us[ds++]=ni,ni=e;var r=xr;e=yr;var n=32-Ds(r)-1;r&=~(1<<n),s+=1;var i=32-Ds(t)+n;if(30<i){var o=n-n%5;i=(r&(1<<o)-1).toString(32),r>>=o,n-=o,xr=1<<32-Ds(t)+n|s<<n|r,yr=i+e}else xr=1<<i|s<<n|r,yr=e}function _v(e){e.return!==null&&(Ln(e,1),ak(e,1,0))}function bv(e){for(;e===kh;)kh=Oi[--Ri],Oi[Ri]=null,Eh=Oi[--Ri],Oi[Ri]=null;for(;e===ni;)ni=us[--ds],us[ds]=null,yr=us[--ds],us[ds]=null,xr=us[--ds],us[ds]=null}var ts=null,es=null,Ne=!1,Ms=null;function lk(e,t){var s=ps(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Zx(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ts=e,es=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ts=e,es=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ni!==null?{id:xr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ps(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ts=e,es=null,!0):!1;default:return!1}}function tm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sm(e){if(Ne){var t=es;if(t){var s=t;if(!Zx(e,t)){if(tm(e))throw Error(H(418));t=rn(s.nextSibling);var r=ts;t&&Zx(e,t)?lk(r,s):(e.flags=e.flags&-4097|2,Ne=!1,ts=e)}}else{if(tm(e))throw Error(H(418));e.flags=e.flags&-4097|2,Ne=!1,ts=e}}}function Jx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ts=e}function Yl(e){if(e!==ts)return!1;if(!Ne)return Jx(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qp(e.type,e.memoizedProps)),t&&(t=es)){if(tm(e))throw ck(),Error(H(418));for(;t;)lk(e,t),t=rn(t.nextSibling)}if(Jx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){es=rn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}es=null}}else es=ts?rn(e.stateNode.nextSibling):null;return!0}function ck(){for(var e=es;e;)e=rn(e.nextSibling)}function to(){es=ts=null,Ne=!1}function wv(e){Ms===null?Ms=[e]:Ms.push(e)}var AP=Pr.ReactCurrentBatchConfig;function Do(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(H(309));var r=s.stateNode}if(!r)throw Error(H(147,e));var n=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!s._owner)throw Error(H(290,e))}return e}function Xl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ey(e){var t=e._init;return t(e._payload)}function hk(e){function t(x,b){if(e){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function s(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function n(x,b){return x=ln(x,b),x.index=0,x.sibling=null,x}function i(x,b,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,_,w){return b===null||b.tag!==6?(b=Cd(_,x.mode,w),b.return=x,b):(b=n(b,_),b.return=x,b)}function l(x,b,_,w){var S=_.type;return S===Ni?u(x,b,_.props.children,w,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zr&&ey(S)===b.type)?(w=n(b,_.props),w.ref=Do(x,b,_),w.return=x,w):(w=Vc(_.type,_.key,_.props,null,x.mode,w),w.ref=Do(x,b,_),w.return=x,w)}function c(x,b,_,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=kd(_,x.mode,w),b.return=x,b):(b=n(b,_.children||[]),b.return=x,b)}function u(x,b,_,w,S){return b===null||b.tag!==7?(b=Qn(_,x.mode,w,S),b.return=x,b):(b=n(b,_),b.return=x,b)}function d(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cd(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Il:return _=Vc(b.type,b.key,b.props,null,x.mode,_),_.ref=Do(x,null,b),_.return=x,_;case Ei:return b=kd(b,x.mode,_),b.return=x,b;case zr:var w=b._init;return d(x,w(b._payload),_)}if(ta(b)||To(b))return b=Qn(b,x.mode,_,null),b.return=x,b;Xl(x,b)}return null}function f(x,b,_,w){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(x,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Il:return _.key===S?l(x,b,_,w):null;case Ei:return _.key===S?c(x,b,_,w):null;case zr:return S=_._init,f(x,b,S(_._payload),w)}if(ta(_)||To(_))return S!==null?null:u(x,b,_,w,null);Xl(x,_)}return null}function m(x,b,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(_)||null,a(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Il:return x=x.get(w.key===null?_:w.key)||null,l(b,x,w,S);case Ei:return x=x.get(w.key===null?_:w.key)||null,c(b,x,w,S);case zr:var E=w._init;return m(x,b,_,E(w._payload),S)}if(ta(w)||To(w))return x=x.get(_)||null,u(b,x,w,S,null);Xl(b,w)}return null}function p(x,b,_,w){for(var S=null,E=null,k=b,C=b=0,N=null;k!==null&&C<_.length;C++){k.index>C?(N=k,k=null):N=k.sibling;var P=f(x,k,_[C],w);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(x,k),b=i(P,b,C),E===null?S=P:E.sibling=P,E=P,k=N}if(C===_.length)return s(x,k),Ne&&Ln(x,C),S;if(k===null){for(;C<_.length;C++)k=d(x,_[C],w),k!==null&&(b=i(k,b,C),E===null?S=k:E.sibling=k,E=k);return Ne&&Ln(x,C),S}for(k=r(x,k);C<_.length;C++)N=m(k,x,C,_[C],w),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?C:N.key),b=i(N,b,C),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(M){return t(x,M)}),Ne&&Ln(x,C),S}function v(x,b,_,w){var S=To(_);if(typeof S!="function")throw Error(H(150));if(_=S.call(_),_==null)throw Error(H(151));for(var E=S=null,k=b,C=b=0,N=null,P=_.next();k!==null&&!P.done;C++,P=_.next()){k.index>C?(N=k,k=null):N=k.sibling;var M=f(x,k,P.value,w);if(M===null){k===null&&(k=N);break}e&&k&&M.alternate===null&&t(x,k),b=i(M,b,C),E===null?S=M:E.sibling=M,E=M,k=N}if(P.done)return s(x,k),Ne&&Ln(x,C),S;if(k===null){for(;!P.done;C++,P=_.next())P=d(x,P.value,w),P!==null&&(b=i(P,b,C),E===null?S=P:E.sibling=P,E=P);return Ne&&Ln(x,C),S}for(k=r(x,k);!P.done;C++,P=_.next())P=m(k,x,C,P.value,w),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),b=i(P,b,C),E===null?S=P:E.sibling=P,E=P);return e&&k.forEach(function(T){return t(x,T)}),Ne&&Ln(x,C),S}function y(x,b,_,w){if(typeof _=="object"&&_!==null&&_.type===Ni&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Il:e:{for(var S=_.key,E=b;E!==null;){if(E.key===S){if(S=_.type,S===Ni){if(E.tag===7){s(x,E.sibling),b=n(E,_.props.children),b.return=x,x=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zr&&ey(S)===E.type){s(x,E.sibling),b=n(E,_.props),b.ref=Do(x,E,_),b.return=x,x=b;break e}s(x,E);break}else t(x,E);E=E.sibling}_.type===Ni?(b=Qn(_.props.children,x.mode,w,_.key),b.return=x,x=b):(w=Vc(_.type,_.key,_.props,null,x.mode,w),w.ref=Do(x,b,_),w.return=x,x=w)}return o(x);case Ei:e:{for(E=_.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){s(x,b.sibling),b=n(b,_.children||[]),b.return=x,x=b;break e}else{s(x,b);break}else t(x,b);b=b.sibling}b=kd(_,x.mode,w),b.return=x,x=b}return o(x);case zr:return E=_._init,y(x,b,E(_._payload),w)}if(ta(_))return p(x,b,_,w);if(To(_))return v(x,b,_,w);Xl(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(s(x,b.sibling),b=n(b,_),b.return=x,x=b):(s(x,b),b=Cd(_,x.mode,w),b.return=x,x=b),o(x)):s(x,b)}return y}var so=hk(!0),uk=hk(!1),Nh=bn(null),jh=null,Di=null,Sv=null;function Cv(){Sv=Di=jh=null}function kv(e){var t=Nh.current;Ee(Nh),e._currentValue=t}function rm(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Xi(e,t){jh=e,Sv=Di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(Sv!==e)if(e={context:e,memoizedValue:t,next:null},Di===null){if(jh===null)throw Error(H(308));Di=e,jh.dependencies={lanes:0,firstContext:e}}else Di=Di.next=e;return t}var zn=null;function Ev(e){zn===null?zn=[e]:zn.push(e)}function dk(e,t,s,r){var n=t.interleaved;return n===null?(s.next=s,Ev(t)):(s.next=n.next,n.next=s),t.interleaved=s,Cr(e,r)}function Cr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Hr=!1;function Nv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Cr(e,s)}return n=r.interleaved,n===null?(t.next=t,Ev(r)):(t.next=n.next,n.next=t),r.interleaved=t,Cr(e,s)}function Bc(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,dv(e,s)}}function ty(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ph(e,t,s,r){var n=e.updateQueue;Hr=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=n.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(f=t,m=s,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(m,d,f):p,f==null)break e;d=Re({},d,f);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;f=a,a=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(l=d),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=d}}function sy(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=s,typeof n!="function")throw Error(H(191,n));n.call(r)}}}var _l={},sr=bn(_l),Ua=bn(_l),Ka=bn(_l);function Hn(e){if(e===_l)throw Error(H(174));return e}function jv(e,t){switch(_e(Ka,t),_e(Ua,e),_e(sr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bp(t,e)}Ee(sr),_e(sr,t)}function ro(){Ee(sr),Ee(Ua),Ee(Ka)}function pk(e){Hn(Ka.current);var t=Hn(sr.current),s=Bp(t,e.type);t!==s&&(_e(Ua,e),_e(sr,s))}function Pv(e){Ua.current===e&&(Ee(sr),Ee(Ua))}var Le=bn(0);function Th(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xd=[];function Tv(){for(var e=0;e<xd.length;e++)xd[e]._workInProgressVersionPrimary=null;xd.length=0}var Ic=Pr.ReactCurrentDispatcher,yd=Pr.ReactCurrentBatchConfig,ii=0,Oe=null,tt=null,ot=null,Lh=!1,ya=!1,qa=0,BP=0;function _t(){throw Error(H(321))}function Lv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Is(e[s],t[s]))return!1;return!0}function Mv(e,t,s,r,n,i){if(ii=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ic.current=e===null||e.memoizedState===null?zP:HP,e=s(r,n),ya){i=0;do{if(ya=!1,qa=0,25<=i)throw Error(H(301));i+=1,ot=tt=null,t.updateQueue=null,Ic.current=VP,e=s(r,n)}while(ya)}if(Ic.current=Mh,t=tt!==null&&tt.next!==null,ii=0,ot=tt=Oe=null,Lh=!1,t)throw Error(H(300));return e}function Ov(){var e=qa!==0;return qa=0,e}function Xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Oe.memoizedState=ot=e:ot=ot.next=e,ot}function ws(){if(tt===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?Oe.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(H(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Oe.memoizedState=ot=e:ot=ot.next=e}return ot}function Ya(e,t){return typeof t=="function"?t(e):t}function _d(e){var t=ws(),s=t.queue;if(s===null)throw Error(H(311));s.lastRenderedReducer=e;var r=tt,n=r.baseQueue,i=s.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}r.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ii&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Oe.lanes|=u,oi|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Is(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,s.lastRenderedState=r}if(e=s.interleaved,e!==null){n=e;do i=n.lane,Oe.lanes|=i,oi|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function bd(e){var t=ws(),s=t.queue;if(s===null)throw Error(H(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Is(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function mk(){}function gk(e,t){var s=Oe,r=ws(),n=t(),i=!Is(r.memoizedState,n);if(i&&(r.memoizedState=n,Vt=!0),r=r.queue,Rv(yk.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(s.flags|=2048,Xa(9,xk.bind(null,s,r,n,t),void 0,null),ht===null)throw Error(H(349));ii&30||vk(s,t,n)}return n}function vk(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function xk(e,t,s,r){t.value=s,t.getSnapshot=r,_k(t)&&bk(e)}function yk(e,t,s){return s(function(){_k(t)&&bk(e)})}function _k(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Is(e,s)}catch{return!0}}function bk(e){var t=Cr(e,1);t!==null&&As(t,e,1,-1)}function ry(e){var t=Xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=FP.bind(null,Oe,e),[t.memoizedState,e]}function Xa(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function wk(){return ws().memoizedState}function $c(e,t,s,r){var n=Xs();Oe.flags|=e,n.memoizedState=Xa(1|t,s,void 0,r===void 0?null:r)}function vu(e,t,s,r){var n=ws();r=r===void 0?null:r;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,r!==null&&Lv(r,o.deps)){n.memoizedState=Xa(t,s,i,r);return}}Oe.flags|=e,n.memoizedState=Xa(1|t,s,i,r)}function ny(e,t){return $c(8390656,8,e,t)}function Rv(e,t){return vu(2048,8,e,t)}function Sk(e,t){return vu(4,2,e,t)}function Ck(e,t){return vu(4,4,e,t)}function kk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ek(e,t,s){return s=s!=null?s.concat([e]):null,vu(4,4,kk.bind(null,t,e),s)}function Dv(){}function Nk(e,t){var s=ws();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Lv(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function jk(e,t){var s=ws();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Lv(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Pk(e,t,s){return ii&21?(Is(s,t)||(s=RC(),Oe.lanes|=s,oi|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=s)}function IP(e,t){var s=ve;ve=s!==0&&4>s?s:4,e(!0);var r=yd.transition;yd.transition={};try{e(!1),t()}finally{ve=s,yd.transition=r}}function Tk(){return ws().memoizedState}function $P(e,t,s){var r=an(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Lk(e))Mk(t,s);else if(s=dk(e,t,s,r),s!==null){var n=Rt();As(s,e,r,n),Ok(s,t,r)}}function FP(e,t,s){var r=an(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lk(e))Mk(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,s);if(n.hasEagerState=!0,n.eagerState=a,Is(a,o)){var l=t.interleaved;l===null?(n.next=n,Ev(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}s=dk(e,t,n,r),s!==null&&(n=Rt(),As(s,e,r,n),Ok(s,t,r))}}function Lk(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Mk(e,t){ya=Lh=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ok(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,dv(e,s)}}var Mh={readContext:bs,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},zP={readContext:bs,useCallback:function(e,t){return Xs().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:ny,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,$c(4194308,4,kk.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var s=Xs();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Xs();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$P.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=Xs();return e={current:e},t.memoizedState=e},useState:ry,useDebugValue:Dv,useDeferredValue:function(e){return Xs().memoizedState=e},useTransition:function(){var e=ry(!1),t=e[0];return e=IP.bind(null,e[1]),Xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Oe,n=Xs();if(Ne){if(s===void 0)throw Error(H(407));s=s()}else{if(s=t(),ht===null)throw Error(H(349));ii&30||vk(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,ny(yk.bind(null,r,i,e),[e]),r.flags|=2048,Xa(9,xk.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=Xs(),t=ht.identifierPrefix;if(Ne){var s=yr,r=xr;s=(r&~(1<<32-Ds(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=qa++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=BP++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HP={readContext:bs,useCallback:Nk,useContext:bs,useEffect:Rv,useImperativeHandle:Ek,useInsertionEffect:Sk,useLayoutEffect:Ck,useMemo:jk,useReducer:_d,useRef:wk,useState:function(){return _d(Ya)},useDebugValue:Dv,useDeferredValue:function(e){var t=ws();return Pk(t,tt.memoizedState,e)},useTransition:function(){var e=_d(Ya)[0],t=ws().memoizedState;return[e,t]},useMutableSource:mk,useSyncExternalStore:gk,useId:Tk,unstable_isNewReconciler:!1},VP={readContext:bs,useCallback:Nk,useContext:bs,useEffect:Rv,useImperativeHandle:Ek,useInsertionEffect:Sk,useLayoutEffect:Ck,useMemo:jk,useReducer:bd,useRef:wk,useState:function(){return bd(Ya)},useDebugValue:Dv,useDeferredValue:function(e){var t=ws();return tt===null?t.memoizedState=e:Pk(t,tt.memoizedState,e)},useTransition:function(){var e=bd(Ya)[0],t=ws().memoizedState;return[e,t]},useMutableSource:mk,useSyncExternalStore:gk,useId:Tk,unstable_isNewReconciler:!1};function Ps(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function nm(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Re({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xu={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Rt(),n=an(e),i=br(r,n);i.payload=t,s!=null&&(i.callback=s),t=nn(e,i,n),t!==null&&(As(t,e,n,r),Bc(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Rt(),n=an(e),i=br(r,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=nn(e,i,n),t!==null&&(As(t,e,n,r),Bc(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Rt(),r=an(e),n=br(s,r);n.tag=2,t!=null&&(n.callback=t),t=nn(e,n,r),t!==null&&(As(t,e,r,s),Bc(t,e,r))}};function iy(e,t,s,r,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!za(s,r)||!za(n,i):!0}function Rk(e,t,s){var r=!1,n=mn,i=t.contextType;return typeof i=="object"&&i!==null?i=bs(i):(n=Ut(t)?ri:jt.current,r=t.contextTypes,i=(r=r!=null)?eo(e,n):mn),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function oy(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&xu.enqueueReplaceState(t,t.state,null)}function im(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Nv(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=bs(i):(i=Ut(t)?ri:jt.current,n.context=eo(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nm(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&xu.enqueueReplaceState(n,n.state,null),Ph(e,s,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var s="",r=t;do s+=v4(r),r=r.return;while(r);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function wd(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function om(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var WP=typeof WeakMap=="function"?WeakMap:Map;function Dk(e,t,s){s=br(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Rh||(Rh=!0,gm=r),om(e,t)},s}function Ak(e,t,s){s=br(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){om(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){om(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function ay(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new WP;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=nT.bind(null,e,t,s),t.then(e,e))}function ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cy(e,t,s,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=br(-1,1),t.tag=2,nn(s,t,1))),s.lanes|=1),e)}var UP=Pr.ReactCurrentOwner,Vt=!1;function Lt(e,t,s,r){t.child=e===null?uk(t,null,s,r):so(t,e.child,s,r)}function hy(e,t,s,r,n){s=s.render;var i=t.ref;return Xi(t,n),r=Mv(e,t,s,r,i,n),s=Ov(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kr(e,t,n)):(Ne&&s&&_v(t),t.flags|=1,Lt(e,t,r,n),t.child)}function uy(e,t,s,r,n){if(e===null){var i=s.type;return typeof i=="function"&&!Vv(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Bk(e,t,i,r,n)):(e=Vc(s.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(o,r)&&e.ref===t.ref)return kr(e,t,n)}return t.flags|=1,e=ln(i,r),e.ref=t.ref,e.return=t,t.child=e}function Bk(e,t,s,r,n){if(e!==null){var i=e.memoizedProps;if(za(i,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=i,(e.lanes&n)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,kr(e,t,n)}return am(e,t,s,r,n)}function Ik(e,t,s){var r=t.pendingProps,n=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Bi,Jt),Jt|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Bi,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,_e(Bi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,_e(Bi,Jt),Jt|=r;return Lt(e,t,n,s),t.child}function $k(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function am(e,t,s,r,n){var i=Ut(s)?ri:jt.current;return i=eo(t,i),Xi(t,n),s=Mv(e,t,s,r,i,n),r=Ov(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,kr(e,t,n)):(Ne&&r&&_v(t),t.flags|=1,Lt(e,t,s,n),t.child)}function dy(e,t,s,r,n){if(Ut(s)){var i=!0;Ch(t)}else i=!1;if(Xi(t,n),t.stateNode===null)Fc(e,t),Rk(t,s,r),im(t,s,r,n),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=s.contextType;typeof c=="object"&&c!==null?c=bs(c):(c=Ut(s)?ri:jt.current,c=eo(t,c));var u=s.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oy(t,o,r,c),Hr=!1;var f=t.memoizedState;o.state=f,Ph(t,r,o,n),l=t.memoizedState,a!==r||f!==l||Wt.current||Hr?(typeof u=="function"&&(nm(t,s,u,r),l=t.memoizedState),(a=Hr||iy(t,s,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,fk(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ps(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=s.contextType,typeof l=="object"&&l!==null?l=bs(l):(l=Ut(s)?ri:jt.current,l=eo(t,l));var m=s.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&oy(t,o,r,l),Hr=!1,f=t.memoizedState,o.state=f,Ph(t,r,o,n);var p=t.memoizedState;a!==d||f!==p||Wt.current||Hr?(typeof m=="function"&&(nm(t,s,m,r),p=t.memoizedState),(c=Hr||iy(t,s,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return lm(e,t,s,r,i,n)}function lm(e,t,s,r,n,i){$k(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return n&&Qx(t,s,!1),kr(e,t,i);r=t.stateNode,UP.current=t;var a=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=so(t,e.child,null,i),t.child=so(t,null,a,i)):Lt(e,t,a,i),t.memoizedState=r.state,n&&Qx(t,s,!0),t.child}function Fk(e){var t=e.stateNode;t.pendingContext?Gx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gx(e,t.context,!1),jv(e,t.containerInfo)}function fy(e,t,s,r,n){return to(),wv(n),t.flags|=256,Lt(e,t,s,r),t.child}var cm={dehydrated:null,treeContext:null,retryLane:0};function hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function zk(e,t,s){var r=t.pendingProps,n=Le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(n&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),_e(Le,n&1),e===null)return sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bu(o,r,0,null),e=Qn(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hm(s),t.memoizedState=cm,e):Av(t,o));if(n=e.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return KP(e,t,o,r,a,n,s);if(i){i=r.fallback,o=t.mode,n=e.child,a=n.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ln(n,l),r.subtreeFlags=n.subtreeFlags&14680064),a!==null?i=ln(a,i):(i=Qn(i,o,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?hm(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=cm,r}return i=e.child,e=i.sibling,r=ln(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Av(e,t){return t=bu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gl(e,t,s,r){return r!==null&&wv(r),so(t,e.child,null,s),e=Av(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KP(e,t,s,r,n,i,o){if(s)return t.flags&256?(t.flags&=-257,r=wd(Error(H(422))),Gl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=bu({mode:"visible",children:r.children},n,0,null),i=Qn(i,n,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&so(t,e.child,null,o),t.child.memoizedState=hm(o),t.memoizedState=cm,i);if(!(t.mode&1))return Gl(e,t,o,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=wd(i,r,void 0),Gl(e,t,o,r)}if(a=(o&e.childLanes)!==0,Vt||a){if(r=ht,r!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Cr(e,n),As(r,e,n,-1))}return Hv(),r=wd(Error(H(421))),Gl(e,t,o,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=iT.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,es=rn(n.nextSibling),ts=t,Ne=!0,Ms=null,e!==null&&(us[ds++]=xr,us[ds++]=yr,us[ds++]=ni,xr=e.id,yr=e.overflow,ni=t),t=Av(t,r.children),t.flags|=4096,t)}function py(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rm(e.return,t,s)}function Sd(e,t,s,r,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=n)}function Hk(e,t,s){var r=t.pendingProps,n=r.revealOrder,i=r.tail;if(Lt(e,t,r.children,s),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,s,t);else if(e.tag===19)py(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Le,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Th(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Sd(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Th(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Sd(t,!0,s,null,i);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,s=ln(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ln(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function qP(e,t,s){switch(t.tag){case 3:Fk(t),to();break;case 5:pk(t);break;case 1:Ut(t.type)&&Ch(t);break;case 4:jv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;_e(Nh,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Le,Le.current&1),t.flags|=128,null):s&t.child.childLanes?zk(e,t,s):(_e(Le,Le.current&1),e=kr(e,t,s),e!==null?e.sibling:null);_e(Le,Le.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Hk(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),_e(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Ik(e,t,s)}return kr(e,t,s)}var Vk,um,Wk,Uk;Vk=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};um=function(){};Wk=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Hn(sr.current);var i=null;switch(s){case"input":n=Op(e,n),r=Op(e,r),i=[];break;case"select":n=Re({},n,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":n=Ap(e,n),r=Ap(e,r),i=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wh)}Ip(s,r);var o;s=null;for(c in n)if(!r.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var a=n[c];for(o in a)a.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ra.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=n!=null?n[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(s||(s={}),s[o]=l[o])}else s||(i||(i=[]),i.push(c,s)),s=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}s&&(i=i||[]).push("style",s);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Uk=function(e,t,s,r){s!==r&&(t.flags|=4)};function Ao(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function YP(e,t,s){var r=t.pendingProps;switch(bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Ut(t.type)&&Sh(),bt(t),null;case 3:return r=t.stateNode,ro(),Ee(Wt),Ee(jt),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ms!==null&&(ym(Ms),Ms=null))),um(e,t),bt(t),null;case 5:Pv(t);var n=Hn(Ka.current);if(s=t.type,e!==null&&t.stateNode!=null)Wk(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return bt(t),null}if(e=Hn(sr.current),Yl(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[Js]=t,r[Wa]=i,e=(t.mode&1)!==0,s){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(n=0;n<ra.length;n++)Se(ra[n],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Sx(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":kx(r,i),Se("invalid",r)}Ip(s,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ql(r.textContent,a,e),n=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ql(r.textContent,a,e),n=["children",""+a]):Ra.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(s){case"input":$l(r),Cx(r,i,!0);break;case"textarea":$l(r),Ex(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wh)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yC(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Js]=t,e[Wa]=r,Vk(e,t,!1,!1),t.stateNode=e;e:{switch(o=$p(s,r),s){case"dialog":Se("cancel",e),Se("close",e),n=r;break;case"iframe":case"object":case"embed":Se("load",e),n=r;break;case"video":case"audio":for(n=0;n<ra.length;n++)Se(ra[n],e);n=r;break;case"source":Se("error",e),n=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),n=r;break;case"details":Se("toggle",e),n=r;break;case"input":Sx(e,r),n=Op(e,r),Se("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=Re({},r,{value:void 0}),Se("invalid",e);break;case"textarea":kx(e,r),n=Ap(e,r),Se("invalid",e);break;default:n=r}Ip(s,n),a=n;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wC(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_C(e,l)):i==="children"?typeof l=="string"?(s!=="textarea"||l!=="")&&Da(e,l):typeof l=="number"&&Da(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ra.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",e):l!=null&&ov(e,i,l,o))}switch(s){case"input":$l(e),Cx(e,r,!1);break;case"textarea":$l(e),Ex(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ui(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=wh)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)Uk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(s=Hn(Ka.current),Hn(sr.current),Yl(t)){if(r=t.stateNode,s=t.memoizedProps,r[Js]=t,(i=r.nodeValue!==s)&&(e=ts,e!==null))switch(e.tag){case 3:ql(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ql(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Js]=t,t.stateNode=r}return bt(t),null;case 13:if(Ee(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&es!==null&&t.mode&1&&!(t.flags&128))ck(),to(),t.flags|=98560,i=!1;else if(i=Yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Js]=t}else to(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),i=!1}else Ms!==null&&(ym(Ms),Ms=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?rt===0&&(rt=3):Hv())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return ro(),um(e,t),e===null&&Ha(t.stateNode.containerInfo),bt(t),null;case 10:return kv(t.type._context),bt(t),null;case 17:return Ut(t.type)&&Sh(),bt(t),null;case 19:if(Ee(Le),i=t.memoizedState,i===null)return bt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ao(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Th(e),o!==null){for(t.flags|=128,Ao(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>io&&(t.flags|=128,r=!0,Ao(i,!1),t.lanes=4194304)}else{if(!r)if(e=Th(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return bt(t),null}else 2*Ve()-i.renderingStartTime>io&&s!==1073741824&&(t.flags|=128,r=!0,Ao(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,s=Le.current,_e(Le,r?s&1|2:s&1),t):(bt(t),null);case 22:case 23:return zv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function XP(e,t){switch(bv(t),t.tag){case 1:return Ut(t.type)&&Sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),Ee(Wt),Ee(jt),Tv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pv(t),null;case 13:if(Ee(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));to()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Le),null;case 4:return ro(),null;case 10:return kv(t.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Ql=!1,Ct=!1,GP=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ai(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Ie(e,t,r)}else s.current=null}function dm(e,t,s){try{s()}catch(r){Ie(e,t,r)}}var my=!1;function QP(e,t){if(Xp=yh,e=GC(),yv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==s||n!==0&&d.nodeType!==3||(a=o+n),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===s&&++c===n&&(a=o),f===i&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}s=a===-1||l===-1?null:{start:a,end:l}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gp={focusedElem:e,selectionRange:s},yh=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ps(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Ie(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return p=my,my=!1,p}function _a(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&dm(t,s,i)}n=n.next}while(n!==r)}}function yu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function fm(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Kk(e){var t=e.alternate;t!==null&&(e.alternate=null,Kk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Js],delete t[Wa],delete t[Jp],delete t[OP],delete t[RP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qk(e){return e.tag===5||e.tag===3||e.tag===4}function gy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pm(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=wh));else if(r!==4&&(e=e.child,e!==null))for(pm(e,t,s),e=e.sibling;e!==null;)pm(e,t,s),e=e.sibling}function mm(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mm(e,t,s),e=e.sibling;e!==null;)mm(e,t,s),e=e.sibling}var ft=null,Ts=!1;function Or(e,t,s){for(s=s.child;s!==null;)Yk(e,t,s),s=s.sibling}function Yk(e,t,s){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(uu,s)}catch{}switch(s.tag){case 5:Ct||Ai(s,t);case 6:var r=ft,n=Ts;ft=null,Or(e,t,s),ft=r,Ts=n,ft!==null&&(Ts?(e=ft,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ft.removeChild(s.stateNode));break;case 18:ft!==null&&(Ts?(e=ft,s=s.stateNode,e.nodeType===8?gd(e.parentNode,s):e.nodeType===1&&gd(e,s),$a(e)):gd(ft,s.stateNode));break;case 4:r=ft,n=Ts,ft=s.stateNode.containerInfo,Ts=!0,Or(e,t,s),ft=r,Ts=n;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dm(s,t,o),n=n.next}while(n!==r)}Or(e,t,s);break;case 1:if(!Ct&&(Ai(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(a){Ie(s,t,a)}Or(e,t,s);break;case 21:Or(e,t,s);break;case 22:s.mode&1?(Ct=(r=Ct)||s.memoizedState!==null,Or(e,t,s),Ct=r):Or(e,t,s);break;default:Or(e,t,s)}}function vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new GP),t.forEach(function(r){var n=oT.bind(null,e,r);s.has(r)||(s.add(r),r.then(n,n))})}}function ks(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Ts=!1;break e;case 3:ft=a.stateNode.containerInfo,Ts=!0;break e;case 4:ft=a.stateNode.containerInfo,Ts=!0;break e}a=a.return}if(ft===null)throw Error(H(160));Yk(i,o,n),ft=null,Ts=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){Ie(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xk(t,e),t=t.sibling}function Xk(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ks(t,e),Hs(e),r&4){try{_a(3,e,e.return),yu(3,e)}catch(v){Ie(e,e.return,v)}try{_a(5,e,e.return)}catch(v){Ie(e,e.return,v)}}break;case 1:ks(t,e),Hs(e),r&512&&s!==null&&Ai(s,s.return);break;case 5:if(ks(t,e),Hs(e),r&512&&s!==null&&Ai(s,s.return),e.flags&32){var n=e.stateNode;try{Da(n,"")}catch(v){Ie(e,e.return,v)}}if(r&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vC(n,i),$p(a,o);var c=$p(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?wC(n,d):u==="dangerouslySetInnerHTML"?_C(n,d):u==="children"?Da(n,d):ov(n,u,d,c)}switch(a){case"input":Rp(n,i);break;case"textarea":xC(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ui(n,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ui(n,!!i.multiple,i.defaultValue,!0):Ui(n,!!i.multiple,i.multiple?[]:"",!1))}n[Wa]=i}catch(v){Ie(e,e.return,v)}}break;case 6:if(ks(t,e),Hs(e),r&4){if(e.stateNode===null)throw Error(H(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(v){Ie(e,e.return,v)}}break;case 3:if(ks(t,e),Hs(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{$a(t.containerInfo)}catch(v){Ie(e,e.return,v)}break;case 4:ks(t,e),Hs(e);break;case 13:ks(t,e),Hs(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||($v=Ve())),r&4&&vy(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Ct=(c=Ct)||u,ks(t,e),Ct=c):ks(t,e),Hs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(d=G=u;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:_a(4,f,f.return);break;case 1:Ai(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Ie(r,s,v)}}break;case 5:Ai(f,f.return);break;case 22:if(f.memoizedState!==null){yy(d);continue}}m!==null?(m.return=f,G=m):yy(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{n=d.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bC("display",o))}catch(v){Ie(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ie(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ks(t,e),Hs(e),r&4&&vy(e);break;case 21:break;default:ks(t,e),Hs(e)}}function Hs(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(qk(s)){var r=s;break e}s=s.return}throw Error(H(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(Da(n,""),r.flags&=-33);var i=gy(e);mm(e,i,n);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gy(e);pm(e,a,o);break;default:throw Error(H(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZP(e,t,s){G=e,Gk(e)}function Gk(e,t,s){for(var r=(e.mode&1)!==0;G!==null;){var n=G,i=n.child;if(n.tag===22&&r){var o=n.memoizedState!==null||Ql;if(!o){var a=n.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Ql;var c=Ct;if(Ql=o,(Ct=l)&&!c)for(G=n;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?_y(n):l!==null?(l.return=o,G=l):_y(n);for(;i!==null;)G=i,Gk(i),i=i.sibling;G=n,Ql=a,Ct=c}xy(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,G=i):xy(e)}}function xy(e){for(;G!==null;){var t=G;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||yu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(s===null)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:Ps(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sy(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}sy(t,o,s)}break;case 5:var a=t.stateNode;if(s===null&&t.flags&4){s=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break;case"img":l.src&&(s.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$a(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ct||t.flags&512&&fm(t)}catch(f){Ie(t,t.return,f)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function yy(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function _y(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{yu(4,t)}catch(l){Ie(t,s,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(l){Ie(t,n,l)}}var i=t.return;try{fm(t)}catch(l){Ie(t,i,l)}break;case 5:var o=t.return;try{fm(t)}catch(l){Ie(t,o,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var JP=Math.ceil,Oh=Pr.ReactCurrentDispatcher,Bv=Pr.ReactCurrentOwner,xs=Pr.ReactCurrentBatchConfig,ue=0,ht=null,Xe=null,xt=0,Jt=0,Bi=bn(0),rt=0,Ga=null,oi=0,_u=0,Iv=0,ba=null,zt=null,$v=0,io=1/0,mr=null,Rh=!1,gm=null,on=null,Zl=!1,qr=null,Dh=0,wa=0,vm=null,zc=-1,Hc=0;function Rt(){return ue&6?Ve():zc!==-1?zc:zc=Ve()}function an(e){return e.mode&1?ue&2&&xt!==0?xt&-xt:AP.transition!==null?(Hc===0&&(Hc=RC()),Hc):(e=ve,e!==0||(e=window.event,e=e===void 0?16:zC(e.type)),e):1}function As(e,t,s,r){if(50<wa)throw wa=0,vm=null,Error(H(185));vl(e,s,r),(!(ue&2)||e!==ht)&&(e===ht&&(!(ue&2)&&(_u|=s),rt===4&&Ur(e,xt)),Kt(e,r),s===1&&ue===0&&!(t.mode&1)&&(io=Ve()+500,gu&&wn()))}function Kt(e,t){var s=e.callbackNode;A4(e,t);var r=xh(e,e===ht?xt:0);if(r===0)s!==null&&Px(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Px(s),t===1)e.tag===0?DP(by.bind(null,e)):ok(by.bind(null,e)),LP(function(){!(ue&6)&&wn()}),s=null;else{switch(DC(r)){case 1:s=uv;break;case 4:s=MC;break;case 16:s=vh;break;case 536870912:s=OC;break;default:s=vh}s=nE(s,Qk.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Qk(e,t){if(zc=-1,Hc=0,ue&6)throw Error(H(327));var s=e.callbackNode;if(Gi()&&e.callbackNode!==s)return null;var r=xh(e,e===ht?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ah(e,r);else{t=r;var n=ue;ue|=2;var i=Jk();(ht!==e||xt!==t)&&(mr=null,io=Ve()+500,Gn(e,t));do try{sT();break}catch(a){Zk(e,a)}while(!0);Cv(),Oh.current=i,ue=n,Xe!==null?t=0:(ht=null,xt=0,t=rt)}if(t!==0){if(t===2&&(n=Wp(e),n!==0&&(r=n,t=xm(e,n))),t===1)throw s=Ga,Gn(e,0),Ur(e,r),Kt(e,Ve()),s;if(t===6)Ur(e,r);else{if(n=e.current.alternate,!(r&30)&&!eT(n)&&(t=Ah(e,r),t===2&&(i=Wp(e),i!==0&&(r=i,t=xm(e,i))),t===1))throw s=Ga,Gn(e,0),Ur(e,r),Kt(e,Ve()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Mn(e,zt,mr);break;case 3:if(Ur(e,r),(r&130023424)===r&&(t=$v+500-Ve(),10<t)){if(xh(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Zp(Mn.bind(null,e,zt,mr),t);break}Mn(e,zt,mr);break;case 4:if(Ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var o=31-Ds(r);i=1<<o,o=t[o],o>n&&(n=o),r&=~i}if(r=n,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JP(r/1960))-r,10<r){e.timeoutHandle=Zp(Mn.bind(null,e,zt,mr),r);break}Mn(e,zt,mr);break;case 5:Mn(e,zt,mr);break;default:throw Error(H(329))}}}return Kt(e,Ve()),e.callbackNode===s?Qk.bind(null,e):null}function xm(e,t){var s=ba;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=Ah(e,t),e!==2&&(t=zt,zt=s,t!==null&&ym(t)),e}function ym(e){zt===null?zt=e:zt.push.apply(zt,e)}function eT(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var n=s[r],i=n.getSnapshot;n=n.value;try{if(!Is(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~Iv,t&=~_u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ds(t),r=1<<s;e[s]=-1,t&=~r}}function by(e){if(ue&6)throw Error(H(327));Gi();var t=xh(e,0);if(!(t&1))return Kt(e,Ve()),null;var s=Ah(e,t);if(e.tag!==0&&s===2){var r=Wp(e);r!==0&&(t=r,s=xm(e,r))}if(s===1)throw s=Ga,Gn(e,0),Ur(e,t),Kt(e,Ve()),s;if(s===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,zt,mr),Kt(e,Ve()),null}function Fv(e,t){var s=ue;ue|=1;try{return e(t)}finally{ue=s,ue===0&&(io=Ve()+500,gu&&wn())}}function ai(e){qr!==null&&qr.tag===0&&!(ue&6)&&Gi();var t=ue;ue|=1;var s=xs.transition,r=ve;try{if(xs.transition=null,ve=1,e)return e()}finally{ve=r,xs.transition=s,ue=t,!(ue&6)&&wn()}}function zv(){Jt=Bi.current,Ee(Bi)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,TP(s)),Xe!==null)for(s=Xe.return;s!==null;){var r=s;switch(bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:ro(),Ee(Wt),Ee(jt),Tv();break;case 5:Pv(r);break;case 4:ro();break;case 13:Ee(Le);break;case 19:Ee(Le);break;case 10:kv(r.type._context);break;case 22:case 23:zv()}s=s.return}if(ht=e,Xe=e=ln(e.current,null),xt=Jt=t,rt=0,Ga=null,Iv=_u=oi=0,zt=ba=null,zn!==null){for(t=0;t<zn.length;t++)if(s=zn[t],r=s.interleaved,r!==null){s.interleaved=null;var n=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=n,r.next=o}s.pending=r}zn=null}return e}function Zk(e,t){do{var s=Xe;try{if(Cv(),Ic.current=Mh,Lh){for(var r=Oe.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Lh=!1}if(ii=0,ot=tt=Oe=null,ya=!1,qa=0,Bv.current=null,s===null||s.return===null){rt=1,Ga=t,Xe=null;break}e:{var i=e,o=s.return,a=s,l=t;if(t=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ly(o);if(m!==null){m.flags&=-257,cy(m,o,a,i,t),m.mode&1&&ay(i,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){ay(i,c,t),Hv();break e}l=Error(H(426))}}else if(Ne&&a.mode&1){var y=ly(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),cy(y,o,a,i,t),wv(no(l,a));break e}}i=l=no(l,a),rt!==4&&(rt=2),ba===null?ba=[i]:ba.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Dk(i,l,t);ty(i,x);break e;case 1:a=l;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(on===null||!on.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ak(i,a,t);ty(i,w);break e}}i=i.return}while(i!==null)}tE(s)}catch(S){t=S,Xe===s&&s!==null&&(Xe=s=s.return);continue}break}while(!0)}function Jk(){var e=Oh.current;return Oh.current=Mh,e===null?Mh:e}function Hv(){(rt===0||rt===3||rt===2)&&(rt=4),ht===null||!(oi&268435455)&&!(_u&268435455)||Ur(ht,xt)}function Ah(e,t){var s=ue;ue|=2;var r=Jk();(ht!==e||xt!==t)&&(mr=null,Gn(e,t));do try{tT();break}catch(n){Zk(e,n)}while(!0);if(Cv(),ue=s,Oh.current=r,Xe!==null)throw Error(H(261));return ht=null,xt=0,rt}function tT(){for(;Xe!==null;)eE(Xe)}function sT(){for(;Xe!==null&&!N4();)eE(Xe)}function eE(e){var t=rE(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?tE(e):Xe=t,Bv.current=null}function tE(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=XP(s,t),s!==null){s.flags&=32767,Xe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Xe=null;return}}else if(s=YP(s,t,Jt),s!==null){Xe=s;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);rt===0&&(rt=5)}function Mn(e,t,s){var r=ve,n=xs.transition;try{xs.transition=null,ve=1,rT(e,t,s,r)}finally{xs.transition=n,ve=r}return null}function rT(e,t,s,r){do Gi();while(qr!==null);if(ue&6)throw Error(H(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(B4(e,i),e===ht&&(Xe=ht=null,xt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Zl||(Zl=!0,nE(vh,function(){return Gi(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=xs.transition,xs.transition=null;var o=ve;ve=1;var a=ue;ue|=4,Bv.current=null,QP(e,s),Xk(s,e),SP(Gp),yh=!!Xp,Gp=Xp=null,e.current=s,ZP(s),j4(),ue=a,ve=o,xs.transition=i}else e.current=s;if(Zl&&(Zl=!1,qr=e,Dh=n),i=e.pendingLanes,i===0&&(on=null),L4(s.stateNode),Kt(e,Ve()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Rh)throw Rh=!1,e=gm,gm=null,e;return Dh&1&&e.tag!==0&&Gi(),i=e.pendingLanes,i&1?e===vm?wa++:(wa=0,vm=e):wa=0,wn(),null}function Gi(){if(qr!==null){var e=DC(Dh),t=xs.transition,s=ve;try{if(xs.transition=null,ve=16>e?16:e,qr===null)var r=!1;else{if(e=qr,qr=null,Dh=0,ue&6)throw Error(H(331));var n=ue;for(ue|=4,G=e.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:_a(8,u,i)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var f=u.sibling,m=u.return;if(Kk(u),u===c){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_a(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,G=x;break e}G=i.return}}var b=e.current;for(G=b;G!==null;){o=G;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,G=_;else e:for(o=b;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yu(9,a)}}catch(S){Ie(a,a.return,S)}if(a===o){G=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,G=w;break e}G=a.return}}if(ue=n,wn(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(uu,e)}catch{}r=!0}return r}finally{ve=s,xs.transition=t}}return!1}function wy(e,t,s){t=no(s,t),t=Dk(e,t,1),e=nn(e,t,1),t=Rt(),e!==null&&(vl(e,1,t),Kt(e,t))}function Ie(e,t,s){if(e.tag===3)wy(e,e,s);else for(;t!==null;){if(t.tag===3){wy(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=no(s,e),e=Ak(t,e,1),t=nn(t,e,1),e=Rt(),t!==null&&(vl(t,1,e),Kt(t,e));break}}t=t.return}}function nT(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&s,ht===e&&(xt&s)===s&&(rt===4||rt===3&&(xt&130023424)===xt&&500>Ve()-$v?Gn(e,0):Iv|=s),Kt(e,t)}function sE(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var s=Rt();e=Cr(e,t),e!==null&&(vl(e,t,s),Kt(e,s))}function iT(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),sE(e,s)}function oT(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),sE(e,s)}var rE;rE=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Vt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Vt=!1,qP(e,t,s);Vt=!!(e.flags&131072)}else Vt=!1,Ne&&t.flags&1048576&&ak(t,Eh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fc(e,t),e=t.pendingProps;var n=eo(t,jt.current);Xi(t,s),n=Mv(null,t,r,e,n,s);var i=Ov();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(i=!0,Ch(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Nv(t),n.updater=xu,t.stateNode=n,n._reactInternals=t,im(t,r,e,s),t=lm(null,t,r,!0,i,s)):(t.tag=0,Ne&&i&&_v(t),Lt(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Fc(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=lT(r),e=Ps(r,e),n){case 0:t=am(null,t,r,e,s);break e;case 1:t=dy(null,t,r,e,s);break e;case 11:t=hy(null,t,r,e,s);break e;case 14:t=uy(null,t,r,Ps(r.type,e),s);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Ps(r,n),am(e,t,r,n,s);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Ps(r,n),dy(e,t,r,n,s);case 3:e:{if(Fk(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,n=i.element,fk(e,t),Ph(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=no(Error(H(423)),t),t=fy(e,t,r,s,n);break e}else if(r!==n){n=no(Error(H(424)),t),t=fy(e,t,r,s,n);break e}else for(es=rn(t.stateNode.containerInfo.firstChild),ts=t,Ne=!0,Ms=null,s=uk(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(to(),r===n){t=kr(e,t,s);break e}Lt(e,t,r,s)}t=t.child}return t;case 5:return pk(t),e===null&&sm(t),r=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,Qp(r,n)?o=null:i!==null&&Qp(r,i)&&(t.flags|=32),$k(e,t),Lt(e,t,o,s),t.child;case 6:return e===null&&sm(t),null;case 13:return zk(e,t,s);case 4:return jv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=so(t,null,r,s):Lt(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Ps(r,n),hy(e,t,r,n,s);case 7:return Lt(e,t,t.pendingProps,s),t.child;case 8:return Lt(e,t,t.pendingProps.children,s),t.child;case 12:return Lt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,_e(Nh,r._currentValue),r._currentValue=o,i!==null)if(Is(i.value,o)){if(i.children===n.children&&!Wt.current){t=kr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=br(-1,s&-s),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),rm(i.return,s,t),a.lanes|=s;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=s,a=o.alternate,a!==null&&(a.lanes|=s),rm(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Xi(t,s),n=bs(n),r=r(n),t.flags|=1,Lt(e,t,r,s),t.child;case 14:return r=t.type,n=Ps(r,t.pendingProps),n=Ps(r.type,n),uy(e,t,r,n,s);case 15:return Bk(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Ps(r,n),Fc(e,t),t.tag=1,Ut(r)?(e=!0,Ch(t)):e=!1,Xi(t,s),Rk(t,r,n),im(t,r,n,s),lm(null,t,r,!0,e,s);case 19:return Hk(e,t,s);case 22:return Ik(e,t,s)}throw Error(H(156,t.tag))};function nE(e,t){return LC(e,t)}function aT(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,s,r){return new aT(e,t,s,r)}function Vv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lT(e){if(typeof e=="function")return Vv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lv)return 11;if(e===cv)return 14}return 2}function ln(e,t){var s=e.alternate;return s===null?(s=ps(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vc(e,t,s,r,n,i){var o=2;if(r=e,typeof e=="function")Vv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ni:return Qn(s.children,n,i,t);case av:o=8,n|=8;break;case Pp:return e=ps(12,s,t,n|2),e.elementType=Pp,e.lanes=i,e;case Tp:return e=ps(13,s,t,n),e.elementType=Tp,e.lanes=i,e;case Lp:return e=ps(19,s,t,n),e.elementType=Lp,e.lanes=i,e;case pC:return bu(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dC:o=10;break e;case fC:o=9;break e;case lv:o=11;break e;case cv:o=14;break e;case zr:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=ps(o,s,t,n),t.elementType=e,t.type=r,t.lanes=i,t}function Qn(e,t,s,r){return e=ps(7,e,r,t),e.lanes=s,e}function bu(e,t,s,r){return e=ps(22,e,r,t),e.elementType=pC,e.lanes=s,e.stateNode={isHidden:!1},e}function Cd(e,t,s){return e=ps(6,e,null,t),e.lanes=s,e}function kd(e,t,s){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cT(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=id(0),this.expirationTimes=id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Wv(e,t,s,r,n,i,o,a,l){return e=new cT(e,t,s,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(i),e}function hT(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function iE(e){if(!e)return mn;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var s=e.type;if(Ut(s))return ik(e,s,t)}return t}function oE(e,t,s,r,n,i,o,a,l){return e=Wv(s,r,!0,e,n,i,o,a,l),e.context=iE(null),s=e.current,r=Rt(),n=an(s),i=br(r,n),i.callback=t??null,nn(s,i,n),e.current.lanes=n,vl(e,n,r),Kt(e,r),e}function wu(e,t,s,r){var n=t.current,i=Rt(),o=an(n);return s=iE(s),t.context===null?t.context=s:t.pendingContext=s,t=br(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(n,t,o),e!==null&&(As(e,n,o,i),Bc(e,n,o)),o}function Bh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Uv(e,t){Sy(e,t),(e=e.alternate)&&Sy(e,t)}function uT(){return null}var aE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kv(e){this._internalRoot=e}Su.prototype.render=Kv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));wu(e,t,null,null)};Su.prototype.unmount=Kv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){wu(null,e,null,null)}),t[Sr]=null}};function Su(e){this._internalRoot=e}Su.prototype.unstable_scheduleHydration=function(e){if(e){var t=IC();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Wr.length&&t!==0&&t<Wr[s].priority;s++);Wr.splice(s,0,e),s===0&&FC(e)}};function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function dT(e,t,s,r,n){if(n){if(typeof r=="function"){var i=r;r=function(){var c=Bh(o);i.call(c)}}var o=oE(t,r,e,0,null,!1,!1,"",Cy);return e._reactRootContainer=o,e[Sr]=o.current,Ha(e.nodeType===8?e.parentNode:e),ai(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var a=r;r=function(){var c=Bh(l);a.call(c)}}var l=Wv(e,0,!1,null,null,!1,!1,"",Cy);return e._reactRootContainer=l,e[Sr]=l.current,Ha(e.nodeType===8?e.parentNode:e),ai(function(){wu(t,l,s,r)}),l}function ku(e,t,s,r,n){var i=s._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var a=n;n=function(){var l=Bh(o);a.call(l)}}wu(t,o,e,n)}else o=dT(s,t,e,n,r);return Bh(o)}AC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=sa(t.pendingLanes);s!==0&&(dv(t,s|1),Kt(t,Ve()),!(ue&6)&&(io=Ve()+500,wn()))}break;case 13:ai(function(){var r=Cr(e,1);if(r!==null){var n=Rt();As(r,e,1,n)}}),Uv(e,1)}};fv=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var s=Rt();As(t,e,134217728,s)}Uv(e,134217728)}};BC=function(e){if(e.tag===13){var t=an(e),s=Cr(e,t);if(s!==null){var r=Rt();As(s,e,t,r)}Uv(e,t)}};IC=function(){return ve};$C=function(e,t){var s=ve;try{return ve=e,t()}finally{ve=s}};zp=function(e,t,s){switch(t){case"input":if(Rp(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=mu(r);if(!n)throw Error(H(90));gC(r),Rp(r,n)}}}break;case"textarea":xC(e,s);break;case"select":t=s.value,t!=null&&Ui(e,!!s.multiple,t,!1)}};kC=Fv;EC=ai;var fT={usingClientEntryPoint:!1,Events:[yl,Li,mu,SC,CC,Fv]},Bo={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pT={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PC(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||uT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{uu=Jl.inject(pT),tr=Jl}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fT;rs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(t))throw Error(H(200));return hT(e,t,null,s)};rs.createRoot=function(e,t){if(!qv(e))throw Error(H(299));var s=!1,r="",n=aE;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Wv(e,1,!1,null,null,s,!1,r,n),e[Sr]=t.current,Ha(e.nodeType===8?e.parentNode:e),new Kv(t)};rs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=PC(t),e=e===null?null:e.stateNode,e};rs.flushSync=function(e){return ai(e)};rs.hydrate=function(e,t,s){if(!Cu(t))throw Error(H(200));return ku(null,e,t,!0,s)};rs.hydrateRoot=function(e,t,s){if(!qv(e))throw Error(H(405));var r=s!=null&&s.hydratedSources||null,n=!1,i="",o=aE;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=oE(t,null,e,1,s??null,n,!1,i,o),e[Sr]=t.current,Ha(e),r)for(e=0;e<r.length;e++)s=r[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Su(t)};rs.render=function(e,t,s){if(!Cu(t))throw Error(H(200));return ku(null,e,t,!1,s)};rs.unmountComponentAtNode=function(e){if(!Cu(e))throw Error(H(40));return e._reactRootContainer?(ai(function(){ku(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};rs.unstable_batchedUpdates=Fv;rs.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Cu(s))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ku(e,t,s,!1,r)};rs.version="18.3.1-next-f1338f8080-20240426";function lE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lE)}catch(e){console.error(e)}}lE(),lC.exports=rs;var mT=lC.exports,ky=mT;Np.createRoot=ky.createRoot,Np.hydrateRoot=ky.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Qa.apply(this,arguments)}var Yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yr||(Yr={}));const Ey="popstate";function gT(e){e===void 0&&(e={});function t(r,n){let{pathname:i,search:o,hash:a}=r.location;return _m("",{pathname:i,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(r,n){return typeof n=="string"?n:Ih(n)}return xT(t,s,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vT(){return Math.random().toString(36).substr(2,8)}function Ny(e,t){return{usr:e.state,key:e.key,idx:t}}function _m(e,t,s,r){return s===void 0&&(s=null),Qa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:s,key:t&&t.key||r||vT()})}function Ih(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function go(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xT(e,t,s,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:i=!1}=r,o=n.history,a=Yr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Qa({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Yr.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:x})}function f(y,x){a=Yr.Push;let b=_m(v.location,y,x);c=u()+1;let _=Ny(b,c),w=v.createHref(b);try{o.pushState(_,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(w)}i&&l&&l({action:a,location:v.location,delta:1})}function m(y,x){a=Yr.Replace;let b=_m(v.location,y,x);c=u();let _=Ny(b,c),w=v.createHref(b);o.replaceState(_,"",w),i&&l&&l({action:a,location:v.location,delta:0})}function p(y){let x=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof y=="string"?y:Ih(y);return b=b.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return a},get location(){return e(n,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Ey,d),l=y,()=>{n.removeEventListener(Ey,d),l=null}},createHref(y){return t(n,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(y){return o.go(y)}};return v}var jy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jy||(jy={}));function yT(e,t,s){return s===void 0&&(s="/"),_T(e,t,s)}function _T(e,t,s,r){let n=typeof t=="string"?go(t):t,i=Yv(n.pathname||"/",s);if(i==null)return null;let o=hE(e);bT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=OT(i);a=TT(o[l],c)}return a}function hE(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let n=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=cn([r,l.relativePath]),u=s.concat(l);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hE(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:jT(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))n(i,o);else for(let l of uE(i.path))n(i,o,l)}),t}function uE(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let o=uE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),n&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function bT(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:PT(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const wT=/^:[\w-]+$/,ST=3,CT=2,kT=1,ET=10,NT=-2,Py=e=>e==="*";function jT(e,t){let s=e.split("/"),r=s.length;return s.some(Py)&&(r+=NT),t&&(r+=CT),s.filter(n=>!Py(n)).reduce((n,i)=>n+(wT.test(i)?ST:i===""?kT:ET),r)}function PT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function TT(e,t,s){let{routesMeta:r}=e,n={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=LT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:cn([i,d.pathname]),pathnameBase:BT(cn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=cn([i,d.pathnameBase]))}return o}function LT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=MT(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[d];return m&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function MT(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),cE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function OT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function RT(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:n=""}=typeof e=="string"?go(e):e;return{pathname:s?s.startsWith("/")?s:DT(s,t):t,search:IT(r),hash:$T(n)}}function DT(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Ed(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AT(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Xv(e,t){let s=AT(e);return t?s.map((r,n)=>n===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Gv(e,t,s,r){r===void 0&&(r=!1);let n;typeof e=="string"?n=go(e):(n=Qa({},e),Ue(!n.pathname||!n.pathname.includes("?"),Ed("?","pathname","search",n)),Ue(!n.pathname||!n.pathname.includes("#"),Ed("#","pathname","hash",n)),Ue(!n.search||!n.search.includes("#"),Ed("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,a;if(o==null)a=s;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;n.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=RT(n,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),BT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$T=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dE=["post","put","patch","delete"];new Set(dE);const zT=["get",...dE];new Set(zT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Za.apply(this,arguments)}const Qv=g.createContext(null),HT=g.createContext(null),Sn=g.createContext(null),Eu=g.createContext(null),Tr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),fE=g.createContext(null);function VT(e,t){let{relative:s}=t===void 0?{}:t;vo()||Ue(!1);let{basename:r,navigator:n}=g.useContext(Sn),{hash:i,pathname:o,search:a}=mE(e,{relative:s}),l=o;return r!=="/"&&(l=o==="/"?r:cn([r,o])),n.createHref({pathname:l,search:a,hash:i})}function vo(){return g.useContext(Eu)!=null}function xo(){return vo()||Ue(!1),g.useContext(Eu).location}function pE(e){g.useContext(Sn).static||g.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=g.useContext(Tr);return e?sL():WT()}function WT(){vo()||Ue(!1);let e=g.useContext(Qv),{basename:t,future:s,navigator:r}=g.useContext(Sn),{matches:n}=g.useContext(Tr),{pathname:i}=xo(),o=JSON.stringify(Xv(n,s.v7_relativeSplatPath)),a=g.useRef(!1);return pE(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Gv(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,i,e])}function Zv(){let{matches:e}=g.useContext(Tr),t=e[e.length-1];return t?t.params:{}}function mE(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=g.useContext(Sn),{matches:n}=g.useContext(Tr),{pathname:i}=xo(),o=JSON.stringify(Xv(n,r.v7_relativeSplatPath));return g.useMemo(()=>Gv(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function UT(e,t){return KT(e,t)}function KT(e,t,s,r){vo()||Ue(!1);let{navigator:n}=g.useContext(Sn),{matches:i}=g.useContext(Tr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=xo(),u;if(t){var d;let y=typeof t=="string"?go(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Ue(!1),u=y}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=yT(e,{pathname:m}),v=QT(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:cn([l,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:cn([l,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,r);return t&&v?g.createElement(Eu.Provider,{value:{location:Za({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yr.Pop}},v):v}function qT(){let e=tL(),t=FT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:n},s):null,null)}const YT=g.createElement(qT,null);class XT extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(Tr.Provider,{value:this.props.routeContext},g.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GT(e){let{routeContext:t,match:s,children:r}=e,n=g.useContext(Qv);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(Tr.Provider,{value:t},r)}function QT(e,t,s,r){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,a=(n=s)==null?void 0:n.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=s,p=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let m,p=!1,v=null,y=null;s&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||YT,l&&(c<0&&f===0?(rL("route-fallback"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let _;return m?_=v:p?_=y:d.route.Component?_=g.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,g.createElement(GT,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:s!=null},children:_})};return s&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?g.createElement(XT,{location:s.location,revalidation:s.revalidation,component:v,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var gE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gE||{}),vE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vE||{});function ZT(e){let t=g.useContext(Qv);return t||Ue(!1),t}function JT(e){let t=g.useContext(HT);return t||Ue(!1),t}function eL(e){let t=g.useContext(Tr);return t||Ue(!1),t}function xE(e){let t=eL(),s=t.matches[t.matches.length-1];return s.route.id||Ue(!1),s.route.id}function tL(){var e;let t=g.useContext(fE),s=JT(),r=xE();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function sL(){let{router:e}=ZT(gE.UseNavigateStable),t=xE(vE.UseNavigateStable),s=g.useRef(!1);return pE(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Za({fromRouteId:t},i)))},[e,t])}const Ty={};function rL(e,t,s){Ty[e]||(Ty[e]=!0)}function nL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yE(e){let{to:t,replace:s,state:r,relative:n}=e;vo()||Ue(!1);let{future:i,static:o}=g.useContext(Sn),{matches:a}=g.useContext(Tr),{pathname:l}=xo(),c=yo(),u=Gv(t,Xv(a,i.v7_relativeSplatPath),l,n==="path"),d=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(d),{replace:s,state:r,relative:n}),[c,d,n,s,r]),null}function Zt(e){Ue(!1)}function iL(e){let{basename:t="/",children:s=null,location:r,navigationType:n=Yr.Pop,navigator:i,static:o=!1,future:a}=e;vo()&&Ue(!1);let l=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Za({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=go(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,v=g.useMemo(()=>{let y=Yv(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:p},navigationType:n}},[l,u,d,f,m,p,n]);return v==null?null:g.createElement(Sn.Provider,{value:c},g.createElement(Eu.Provider,{children:s,value:v}))}function bm(e){let{children:t,location:s}=e;return UT(wm(t),s)}new Promise(()=>{});function wm(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(r,n)=>{if(!g.isValidElement(r))return;let i=[...t,n];if(r.type===g.Fragment){s.push.apply(s,wm(r.props.children,i));return}r.type!==Zt&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wm(r.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Sm.apply(this,arguments)}function oL(e,t){if(e==null)return{};var s={},r=Object.keys(e),n,i;for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function aL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lL(e,t){return e.button===0&&(!t||t==="_self")&&!aL(e)}const cL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hL="6";try{window.__reactRouterVersion=hL}catch{}const uL="startTransition",Ly=n4[uL];function My(e){let{basename:t,children:s,future:r,window:n}=e,i=g.useRef();i.current==null&&(i.current=gT({window:n,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=g.useCallback(d=>{c&&Ly?Ly(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>nL(r),[r]),g.createElement(iL,{basename:t,children:s,location:a.location,navigationType:a.action,navigator:o,future:r})}const dL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=g.forwardRef(function(t,s){let{onClick:r,relative:n,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,f=oL(t,cL),{basename:m}=g.useContext(Sn),p,v=!1;if(typeof c=="string"&&fL.test(c)&&(p=c,dL))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Yv(w.pathname,m);w.origin===_.origin&&S!=null?c=S+w.search+w.hash:v=!0}catch{}let y=VT(c,{relative:n}),x=pL(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:n,viewTransition:d});function b(_){r&&r(_),_.defaultPrevented||x(_)}return g.createElement("a",Sm({},f,{href:p||y,onClick:v||i?r:b,ref:s,target:l}))});var Oy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oy||(Oy={}));var Ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function pL(e,t){let{target:s,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=yo(),c=xo(),u=mE(e,{relative:o});return g.useCallback(d=>{if(lL(d,s)){d.preventDefault();let f=r!==void 0?r:Ih(c)===Ih(u);l(e,{replace:f,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,n,s,e,i,o,a])}const ar=Object.create(null);ar.open="0";ar.close="1";ar.ping="2";ar.pong="3";ar.message="4";ar.upgrade="5";ar.noop="6";const Wc=Object.create(null);Object.keys(ar).forEach(e=>{Wc[ar[e]]=e});const Cm={type:"error",data:"parser error"},_E=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bE=typeof ArrayBuffer=="function",wE=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Jv=({type:e,data:t},s,r)=>_E&&t instanceof Blob?s?r(t):Dy(t,r):bE&&(t instanceof ArrayBuffer||wE(t))?s?r(t):Dy(new Blob([t]),r):r(ar[e]+(t||"")),Dy=(e,t)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];t("b"+(r||""))},s.readAsDataURL(e)};function Ay(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nd;function mL(e,t){if(_E&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ay).then(t);if(bE&&(e.data instanceof ArrayBuffer||wE(e.data)))return t(Ay(e.data));Jv(e,!1,s=>{Nd||(Nd=new TextEncoder),t(Nd.encode(s))})}const By="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",na=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<By.length;e++)na[By.charCodeAt(e)]=e;const gL=e=>{let t=e.length*.75,s=e.length,r,n=0,i,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<s;r+=4)i=na[e.charCodeAt(r)],o=na[e.charCodeAt(r+1)],a=na[e.charCodeAt(r+2)],l=na[e.charCodeAt(r+3)],u[n++]=i<<2|o>>4,u[n++]=(o&15)<<4|a>>2,u[n++]=(a&3)<<6|l&63;return c},vL=typeof ArrayBuffer=="function",e0=(e,t)=>{if(typeof e!="string")return{type:"message",data:SE(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:xL(e.substring(1),t)}:Wc[s]?e.length>1?{type:Wc[s],data:e.substring(1)}:{type:Wc[s]}:Cm},xL=(e,t)=>{if(vL){const s=gL(e);return SE(s,t)}else return{base64:!0,data:e}},SE=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},CE="",yL=(e,t)=>{const s=e.length,r=new Array(s);let n=0;e.forEach((i,o)=>{Jv(i,!1,a=>{r[o]=a,++n===s&&t(r.join(CE))})})},_L=(e,t)=>{const s=e.split(CE),r=[];for(let n=0;n<s.length;n++){const i=e0(s[n],t);if(r.push(i),i.type==="error")break}return r};function bL(){return new TransformStream({transform(e,t){mL(e,s=>{const r=s.length;let n;if(r<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,r);else if(r<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let jd;function ec(e){return e.reduce((t,s)=>t+s.length,0)}function tc(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let n=0;n<t;n++)s[n]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function wL(e,t){jd||(jd=new TextDecoder);const s=[];let r=0,n=-1,i=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(r===0){if(ec(s)<1)break;const l=tc(s,1);i=(l[0]&128)===128,n=l[0]&127,n<126?r=3:n===126?r=1:r=2}else if(r===1){if(ec(s)<2)break;const l=tc(s,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(ec(s)<8)break;const l=tc(s,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Cm);break}n=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(ec(s)<n)break;const l=tc(s,n);a.enqueue(e0(i?l:jd.decode(l),t)),r=0}if(n===0||n>e){a.enqueue(Cm);break}}}})}const kE=4;function Ge(e){if(e)return SL(e)}function SL(e){for(var t in Ge.prototype)e[t]=Ge.prototype[t];return e}Ge.prototype.on=Ge.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ge.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Ge.prototype.off=Ge.prototype.removeListener=Ge.prototype.removeAllListeners=Ge.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,n=0;n<s.length;n++)if(r=s[n],r===t||r.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Ge.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,n=s.length;r<n;++r)s[r].apply(this,t)}return this};Ge.prototype.emitReserved=Ge.prototype.emit;Ge.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ge.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Nu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),fs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),CL="arraybuffer";function EE(e,...t){return t.reduce((s,r)=>(e.hasOwnProperty(r)&&(s[r]=e[r]),s),{})}const kL=fs.setTimeout,EL=fs.clearTimeout;function ju(e,t){t.useNativeTimers?(e.setTimeoutFn=kL.bind(fs),e.clearTimeoutFn=EL.bind(fs)):(e.setTimeoutFn=fs.setTimeout.bind(fs),e.clearTimeoutFn=fs.clearTimeout.bind(fs))}const NL=1.33;function jL(e){return typeof e=="string"?PL(e):Math.ceil((e.byteLength||e.size)*NL)}function PL(e){let t=0,s=0;for(let r=0,n=e.length;r<n;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}function NE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function TL(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function LL(e){let t={},s=e.split("&");for(let r=0,n=s.length;r<n;r++){let i=s[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ML extends Error{constructor(t,s,r){super(t),this.description=s,this.context=r,this.type="TransportError"}}class t0 extends Ge{constructor(t){super(),this.writable=!1,ju(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,r){return super.emitReserved("error",new ML(t,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=e0(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=TL(t);return s.length?"?"+s:""}}class OL extends t0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_L(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yL(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=NE()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let jE=!1;try{jE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const RL=jE;function DL(){}class AL extends OL{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,s){const r=this.request({method:"POST",data:t});r.on("success",s),r.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=t}}class rr extends Ge{constructor(t,s,r){super(),this.createRequest=t,ju(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const s=EE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var n;r.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=rr.requestsCount++,rr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=DL,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete rr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}rr.requestsCount=0;rr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Iy);else if(typeof addEventListener=="function"){const e="onpagehide"in fs?"pagehide":"unload";addEventListener(e,Iy,!1)}}function Iy(){for(let e in rr.requests)rr.requests.hasOwnProperty(e)&&rr.requests[e].abort()}const BL=function(){const e=PE({xdomain:!1});return e&&e.responseType!==null}();class IL extends AL{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=BL&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rr(PE,this.uri(),t)}}function PE(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||RL))return new XMLHttpRequest}catch{}if(!t)try{return new fs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const TE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $L extends t0{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,r=TE?{}:EE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,r)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],n=s===t.length-1;Jv(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}n&&Nu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=NE()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Pd=fs.WebSocket||fs.MozWebSocket;class FL extends $L{createSocket(t,s,r){return TE?new Pd(t,s,r):s?new Pd(t,s):new Pd(t)}doWrite(t,s){this.ws.send(s)}}class zL extends t0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=wL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(s).getReader(),n=bL();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],n=s===t.length-1;this._writer.write(r).then(()=>{n&&Nu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const HL={websocket:FL,webtransport:zL,polling:IL},VL=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,WL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function km(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");s!=-1&&r!=-1&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let n=VL.exec(e||""),i={},o=14;for(;o--;)i[WL[o]]=n[o]||"";return s!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=UL(i,i.path),i.queryKey=KL(i,i.query),i}function UL(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function KL(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,n,i){n&&(s[n]=i)}),s}const Em=typeof addEventListener=="function"&&typeof removeEventListener=="function",Uc=[];Em&&addEventListener("offline",()=>{Uc.forEach(e=>e())},!1);class hn extends Ge{constructor(t,s){if(super(),this.binaryType=CL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const r=km(t);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=km(s.host).host);ju(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const n=r.prototype.name;this.transports.push(n),this._transportsByName[n]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=LL(this.opts.query)),Em&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Uc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=kE,s.transport=t,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&hn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",hn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(s+=jL(n)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Nu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,r){return this._sendPacket("message",t,s,r),this}send(t,s,r){return this._sendPacket("message",t,s,r),this}_sendPacket(t,s,r,n){if(typeof s=="function"&&(n=s,s=void 0),typeof r=="function"&&(n=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(hn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Em&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Uc.indexOf(this._offlineEventListener);r!==-1&&Uc.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}hn.protocol=kE;class qL extends hn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),r=!1;hn.priorWebsocketSuccess=!1;const n=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;hn.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=s.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,u(),s.close(),s=null)}const o=d=>{const f=new Error("probe error: "+d);f.transport=s.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(d){s&&d.name!==s.name&&i()}const u=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};s.once("open",n),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&s.push(t[r]);return s}}let YL=class extends qL{constructor(t,s={}){const r=typeof t=="object"?t:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(n=>HL[n]).filter(n=>!!n)),super(t,r)}};function XL(e,t="",s){let r=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),r=km(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const GL=typeof ArrayBuffer=="function",QL=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,LE=Object.prototype.toString,ZL=typeof Blob=="function"||typeof Blob<"u"&&LE.call(Blob)==="[object BlobConstructor]",JL=typeof File=="function"||typeof File<"u"&&LE.call(File)==="[object FileConstructor]";function s0(e){return GL&&(e instanceof ArrayBuffer||QL(e))||ZL&&e instanceof Blob||JL&&e instanceof File}function Kc(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,r=e.length;s<r;s++)if(Kc(e[s]))return!0;return!1}if(s0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Kc(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Kc(e[s]))return!0;return!1}function eM(e){const t=[],s=e.data,r=e;return r.data=Nm(s,t),r.attachments=t.length,{packet:r,buffers:t}}function Nm(e,t){if(!e)return e;if(s0(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=Nm(e[r],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=Nm(e[r],t));return s}return e}function tM(e,t){return e.data=jm(e.data,t),delete e.attachments,e}function jm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=jm(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=jm(e[s],t));return e}const sM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rM=5;var le;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(le||(le={}));class nM{constructor(t){this.replacer=t}encode(t){return(t.type===le.EVENT||t.type===le.ACK)&&Kc(t)?this.encodeAsBinary({type:t.type===le.EVENT?le.BINARY_EVENT:le.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===le.BINARY_EVENT||t.type===le.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=eM(t),r=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(r),n}}function $y(e){return Object.prototype.toString.call(e)==="[object Object]"}class r0 extends Ge{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const r=s.type===le.BINARY_EVENT;r||s.type===le.BINARY_ACK?(s.type=r?le.EVENT:le.ACK,this.reconstructor=new iM(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(s0(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const r={type:Number(t.charAt(0))};if(le[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===le.BINARY_EVENT||r.type===le.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(i,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););r.nsp=t.substring(i,s)}else r.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const i=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}r.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(r0.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case le.CONNECT:return $y(s);case le.DISCONNECT:return s===void 0;case le.CONNECT_ERROR:return typeof s=="string"||$y(s);case le.EVENT:case le.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&sM.indexOf(s[0])===-1);case le.ACK:case le.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iM{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=tM(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const oM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:r0,Encoder:nM,get PacketType(){return le},protocol:rM},Symbol.toStringTag,{value:"Module"}));function Ls(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const aM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ME extends Ge{constructor(t,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ls(t,"open",this.onopen.bind(this)),Ls(t,"packet",this.onpacket.bind(this)),Ls(t,"error",this.onerror.bind(this)),Ls(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var r,n,i;if(aM.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:le.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,d=s.pop();this._registerAckCallback(u,d),o.id=u}const a=(n=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||n===void 0?void 0:n.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var r;const n=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);s.call(this,new Error("operation has timed out"))},n),o=(...a)=>{this.io.clearTimeoutFn(i),s.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((r,n)=>{const i=(o,a)=>o?n(o):r(a);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>r!==this._queue[0]?void 0:(n!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case le.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case le.EVENT:case le.BINARY_EVENT:this.onevent(t);break;case le.ACK:case le.BINARY_ACK:this.onack(t);break;case le.DISCONNECT:this.ondisconnect();break;case le.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let r=!1;return function(...n){r||(r=!0,s.packet({type:le.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,t.data)}}}function _o(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}_o.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};_o.prototype.reset=function(){this.attempts=0};_o.prototype.setMin=function(e){this.ms=e};_o.prototype.setMax=function(e){this.max=e};_o.prototype.setJitter=function(e){this.jitter=e};class Pm extends Ge{constructor(t,s){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,ju(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||oM;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new YL(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Ls(s,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ls(s,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ls(t,"ping",this.onping.bind(this)),Ls(t,"data",this.ondata.bind(this)),Ls(t,"error",this.onerror.bind(this)),Ls(t,"close",this.onclose.bind(this)),Ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Nu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new ME(this,t,s),this.nsps[t]=r),r}_destroy(t){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let r=0;r<s.length;r++)this.engine.write(s[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Io={};function qc(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=XL(e,t.path||"/socket.io"),r=s.source,n=s.id,i=s.path,o=Io[n]&&i in Io[n].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Pm(r,t):(Io[n]||(Io[n]=new Pm(r,t)),l=Io[n]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(qc,{Manager:Pm,Socket:ME,io:qc,connect:qc});function OE(e,t){return function(){return e.apply(t,arguments)}}const{toString:lM}=Object.prototype,{getPrototypeOf:n0}=Object,{iterator:Pu,toStringTag:RE}=Symbol,Tu=(e=>t=>{const s=lM.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),$s=e=>(e=e.toLowerCase(),t=>Tu(t)===e),Lu=e=>t=>typeof t===e,{isArray:bo}=Array,oo=Lu("undefined");function bl(e){return e!==null&&!oo(e)&&e.constructor!==null&&!oo(e.constructor)&&qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DE=$s("ArrayBuffer");function cM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&DE(e.buffer),t}const hM=Lu("string"),qt=Lu("function"),AE=Lu("number"),wl=e=>e!==null&&typeof e=="object",uM=e=>e===!0||e===!1,Yc=e=>{if(Tu(e)!=="object")return!1;const t=n0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(RE in e)&&!(Pu in e)},dM=e=>{if(!wl(e)||bl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fM=$s("Date"),pM=$s("File"),mM=$s("Blob"),gM=$s("FileList"),vM=e=>wl(e)&&qt(e.pipe),xM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qt(e.append)&&((t=Tu(e))==="formdata"||t==="object"&&qt(e.toString)&&e.toString()==="[object FormData]"))},yM=$s("URLSearchParams"),[_M,bM,wM,SM]=["ReadableStream","Request","Response","Headers"].map($s),CM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sl(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),bo(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(bl(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function BE(e,t){if(bl(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const Vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IE=e=>!oo(e)&&e!==Vn;function Tm(){const{caseless:e,skipUndefined:t}=IE(this)&&this||{},s={},r=(n,i)=>{const o=e&&BE(s,i)||i;Yc(s[o])&&Yc(n)?s[o]=Tm(s[o],n):Yc(n)?s[o]=Tm({},n):bo(n)?s[o]=n.slice():(!t||!oo(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Sl(arguments[n],r);return s}const kM=(e,t,s,{allOwnKeys:r}={})=>(Sl(t,(n,i)=>{s&&qt(n)?e[i]=OE(n,s):e[i]=n},{allOwnKeys:r}),e),EM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NM=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},jM=(e,t,s,r)=>{let n,i,o;const a={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=s!==!1&&n0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},PM=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},TM=e=>{if(!e)return null;if(bo(e))return e;let t=e.length;if(!AE(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},LM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&n0(Uint8Array)),MM=(e,t)=>{const r=(e&&e[Pu]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},OM=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},RM=$s("HTMLFormElement"),DM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Fy=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),AM=$s("RegExp"),$E=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Sl(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},BM=e=>{$E(e,(t,s)=>{if(qt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(qt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},IM=(e,t)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return bo(e)?r(e):r(String(e).split(t)),s},$M=()=>{},FM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zM(e){return!!(e&&qt(e.append)&&e[RE]==="FormData"&&e[Pu])}const HM=e=>{const t=new Array(10),s=(r,n)=>{if(wl(r)){if(t.indexOf(r)>=0)return;if(bl(r))return r;if(!("toJSON"in r)){t[n]=r;const i=bo(r)?[]:{};return Sl(r,(o,a)=>{const l=s(o,n+1);!oo(l)&&(i[a]=l)}),t[n]=void 0,i}}return r};return s(e,0)},VM=$s("AsyncFunction"),WM=e=>e&&(wl(e)||qt(e))&&qt(e.then)&&qt(e.catch),FE=((e,t)=>e?setImmediate:t?((s,r)=>(Vn.addEventListener("message",({source:n,data:i})=>{n===Vn&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Vn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",qt(Vn.postMessage)),UM=typeof queueMicrotask<"u"?queueMicrotask.bind(Vn):typeof process<"u"&&process.nextTick||FE,KM=e=>e!=null&&qt(e[Pu]),R={isArray:bo,isArrayBuffer:DE,isBuffer:bl,isFormData:xM,isArrayBufferView:cM,isString:hM,isNumber:AE,isBoolean:uM,isObject:wl,isPlainObject:Yc,isEmptyObject:dM,isReadableStream:_M,isRequest:bM,isResponse:wM,isHeaders:SM,isUndefined:oo,isDate:fM,isFile:pM,isBlob:mM,isRegExp:AM,isFunction:qt,isStream:vM,isURLSearchParams:yM,isTypedArray:LM,isFileList:gM,forEach:Sl,merge:Tm,extend:kM,trim:CM,stripBOM:EM,inherits:NM,toFlatObject:jM,kindOf:Tu,kindOfTest:$s,endsWith:PM,toArray:TM,forEachEntry:MM,matchAll:OM,isHTMLForm:RM,hasOwnProperty:Fy,hasOwnProp:Fy,reduceDescriptors:$E,freezeMethods:BM,toObjectSet:IM,toCamelCase:DM,noop:$M,toFiniteNumber:FM,findKey:BE,global:Vn,isContextDefined:IE,isSpecCompliantForm:zM,toJSONObject:HM,isAsyncFn:VM,isThenable:WM,setImmediate:FE,asap:UM,isIterable:KM};function se(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}R.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const zE=se.prototype,HE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HE[e]={value:e}});Object.defineProperties(se,HE);Object.defineProperty(zE,"isAxiosError",{value:!0});se.from=(e,t,s,r,n,i)=>{const o=Object.create(zE);R.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return se.call(o,a,l,s,r,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const qM=null;function Lm(e){return R.isPlainObject(e)||R.isArray(e)}function VE(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function zy(e,t,s){return e?e.concat(t).map(function(n,i){return n=VE(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function YM(e){return R.isArray(e)&&!e.some(Lm)}const XM=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Mu(e,t,s){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=R.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!R.isUndefined(y[v])});const r=s.metaTokens,n=s.visitor||u,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(R.isDate(p))return p.toISOString();if(R.isBoolean(p))return p.toString();if(!l&&R.isBlob(p))throw new se("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(p)||R.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,y){let x=p;if(p&&!y&&typeof p=="object"){if(R.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(R.isArray(p)&&YM(p)||(R.isFileList(p)||R.endsWith(v,"[]"))&&(x=R.toArray(p)))return v=VE(v),x.forEach(function(_,w){!(R.isUndefined(_)||_===null)&&t.append(o===!0?zy([v],w,i):o===null?v:v+"[]",c(_))}),!1}return Lm(p)?!0:(t.append(zy(y,v,i),c(p)),!1)}const d=[],f=Object.assign(XM,{defaultVisitor:u,convertValue:c,isVisitable:Lm});function m(p,v){if(!R.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),R.forEach(p,function(x,b){(!(R.isUndefined(x)||x===null)&&n.call(t,x,R.isString(b)?b.trim():b,v,f))===!0&&m(x,v?v.concat(b):[b])}),d.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Hy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function i0(e,t){this._pairs=[],e&&Mu(e,this,t)}const WE=i0.prototype;WE.append=function(t,s){this._pairs.push([t,s])};WE.toString=function(t){const s=t?function(r){return t.call(this,r,Hy)}:Hy;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function GM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UE(e,t,s){if(!t)return e;const r=s&&s.encode||GM;R.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=R.isURLSearchParams(t)?t.toString():new i0(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Vy{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(r){r!==null&&t(r)})}}const KE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QM=typeof URLSearchParams<"u"?URLSearchParams:i0,ZM=typeof FormData<"u"?FormData:null,JM=typeof Blob<"u"?Blob:null,eO={isBrowser:!0,classes:{URLSearchParams:QM,FormData:ZM,Blob:JM},protocols:["http","https","file","blob","url","data"]},o0=typeof window<"u"&&typeof document<"u",Mm=typeof navigator=="object"&&navigator||void 0,tO=o0&&(!Mm||["ReactNative","NativeScript","NS"].indexOf(Mm.product)<0),sO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rO=o0&&window.location.href||"http://localhost",nO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o0,hasStandardBrowserEnv:tO,hasStandardBrowserWebWorkerEnv:sO,navigator:Mm,origin:rO},Symbol.toStringTag,{value:"Module"})),kt={...nO,...eO};function iO(e,t){return Mu(e,new kt.classes.URLSearchParams,{visitor:function(s,r,n,i){return kt.isNode&&R.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function oO(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aO(e){const t={},s=Object.keys(e);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],t[i]=e[i];return t}function qE(e){function t(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=s.length;return o=!o&&R.isArray(n)?n.length:o,l?(R.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a):((!n[o]||!R.isObject(n[o]))&&(n[o]=[]),t(s,r,n[o],i)&&R.isArray(n[o])&&(n[o]=aO(n[o])),!a)}if(R.isFormData(e)&&R.isFunction(e.entries)){const s={};return R.forEachEntry(e,(r,n)=>{t(oO(r),n,s,0)}),s}return null}function lO(e,t,s){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Cl={transitional:KE,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=R.isObject(t);if(i&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return n?JSON.stringify(qE(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iO(t,this.formSerializer).toString();if((a=R.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Mu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),lO(t)):t}],transformResponse:[function(t){const s=this.transitional||Cl.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Cl.headers[e]={}});const cO=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hO=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||t[s]&&cO[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Wy=Symbol("internals");function $o(e){return e&&String(e).trim().toLowerCase()}function Xc(e){return e===!1||e==null?e:R.isArray(e)?e.map(Xc):String(e)}function uO(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const dO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Td(e,t,s,r,n){if(R.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!R.isString(t)){if(R.isString(r))return t.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(t)}}function fO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function pO(e,t){const s=R.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}let Yt=class{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function i(a,l,c){const u=$o(l);if(!u)throw new Error("header name must be a non-empty string");const d=R.findKey(n,u);(!d||n[d]===void 0||c===!0||c===void 0&&n[d]!==!1)&&(n[d||l]=Xc(a))}const o=(a,l)=>R.forEach(a,(c,u)=>i(c,u,l));if(R.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(R.isString(t)&&(t=t.trim())&&!dO(t))o(hO(t),s);else if(R.isObject(t)&&R.isIterable(t)){let a={},l,c;for(const u of t){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?R.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=$o(t),t){const r=R.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return uO(n);if(R.isFunction(s))return s.call(this,n,r);if(R.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=$o(t),t){const r=R.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Td(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function i(o){if(o=$o(o),o){const a=R.findKey(r,o);a&&(!s||Td(r,r[a],a,s))&&(delete r[a],n=!0)}}return R.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!t||Td(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,r={};return R.forEach(this,(n,i)=>{const o=R.findKey(r,i);if(o){s[o]=Xc(n),delete s[i];return}const a=t?fO(i):String(i).trim();a!==i&&delete s[i],s[a]=Xc(n),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return R.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&R.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[Wy]=this[Wy]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=$o(o);r[a]||(pO(n,o),r[a]=!0)}return R.isArray(t)?t.forEach(i):i(t),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Yt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});R.freezeMethods(Yt);function Ld(e,t){const s=this||Cl,r=t||s,n=Yt.from(r.headers);let i=r.data;return R.forEach(e,function(a){i=a.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function YE(e){return!!(e&&e.__CANCEL__)}function wo(e,t,s){se.call(this,e??"canceled",se.ERR_CANCELED,t,s),this.name="CanceledError"}R.inherits(wo,se,{__CANCEL__:!0});function XE(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new se("Request failed with status code "+s.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function mO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gO(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),s[n]=l,r[n]=c;let d=i,f=0;for(;d!==n;)f+=s[d++],d=d%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-o<t)return;const m=u&&c-u;return m?Math.round(f*1e3/m):void 0}}function vO(e,t){let s=0,r=1e3/t,n,i;const o=(c,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-s;d>=r?o(c,u):(n=c,i||(i=setTimeout(()=>{i=null,o(n)},r-d)))},()=>n&&o(n)]}const $h=(e,t,s=3)=>{let r=0;const n=gO(50,250);return vO(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=n(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},s)},Uy=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Ky=e=>(...t)=>R.asap(()=>e(...t)),xO=kt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,kt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,yO=kt.hasStandardBrowserEnv?{write(e,t,s,r,n,i){const o=[e+"="+encodeURIComponent(t)];R.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),R.isString(r)&&o.push("path="+r),R.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _O(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function GE(e,t,s){let r=!_O(t);return e&&(r||s==!1)?bO(e,t):t}const qy=e=>e instanceof Yt?{...e}:e;function li(e,t){t=t||{};const s={};function r(c,u,d,f){return R.isPlainObject(c)&&R.isPlainObject(u)?R.merge.call({caseless:f},c,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function n(c,u,d,f){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function i(c,u){if(!R.isUndefined(u))return r(void 0,u)}function o(c,u){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>n(qy(c),qy(u),d,!0)};return R.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||n,f=d(e[u],t[u],u);R.isUndefined(f)&&d!==a||(s[u]=f)}),s}const QE=e=>{const t=li({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Yt.from(o),t.url=UE(GE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),R.isFormData(s)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(R.isFunction(s.getHeaders)){const l=s.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(kt.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(t)),r||r!==!1&&xO(t.url))){const l=n&&i&&yO.read(i);l&&o.set(n,l)}return t},wO=typeof XMLHttpRequest<"u",SO=wO&&function(e){return new Promise(function(s,r){const n=QE(e);let i=n.data;const o=Yt.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=n,u,d,f,m,p;function v(){m&&m(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function x(){if(!y)return;const _=Yt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:e,request:y};XE(function(k){s(k),v()},function(k){r(k),v()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new se("Request aborted",se.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const S=w&&w.message?w.message:"Network Error",E=new se(S,se.ERR_NETWORK,e,y);E.event=w||null,r(E),y=null},y.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const S=n.transitional||KE;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),r(new se(w,S.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&R.forEach(o.toJSON(),function(w,S){y.setRequestHeader(S,w)}),R.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),a&&a!=="json"&&(y.responseType=n.responseType),c&&([f,p]=$h(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,m]=$h(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=_=>{y&&(r(!_||_.type?new wo(null,e,y):_),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const b=mO(n.url);if(b&&kt.protocols.indexOf(b)===-1){r(new se("Unsupported protocol "+b+":",se.ERR_BAD_REQUEST,e));return}y.send(i||null)})},CO=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,n;const i=function(c){if(!n){n=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof se?u:new wo(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>R.asap(a),l}},kO=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,n;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},EO=async function*(e,t){for await(const s of NO(e))yield*kO(s,t)},NO=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Yy=(e,t,s,r)=>{const n=EO(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await n.next();if(c){a(),l.close();return}let d=u.byteLength;if(s){let f=i+=d;s(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},Xy=64*1024,{isFunction:sc}=R,jO=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:Gy,TextEncoder:Qy}=R.global,Zy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},PO=e=>{e=R.merge.call({skipUndefined:!0},jO,e);const{fetch:t,Request:s,Response:r}=e,n=t?sc(t):typeof fetch=="function",i=sc(s),o=sc(r);if(!n)return!1;const a=n&&sc(Gy),l=n&&(typeof Qy=="function"?(p=>v=>p.encode(v))(new Qy):async p=>new Uint8Array(await new s(p).arrayBuffer())),c=i&&a&&Zy(()=>{let p=!1;const v=new s(kt.origin,{body:new Gy,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),u=o&&a&&Zy(()=>R.isReadableStream(new r("").body)),d={stream:u&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(v,y)=>{let x=v&&v[p];if(x)return x.call(v);throw new se(`Response type '${p}' is not supported`,se.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(R.isBlob(p))return p.size;if(R.isSpecCompliantForm(p))return(await new s(kt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(R.isArrayBufferView(p)||R.isArrayBuffer(p))return p.byteLength;if(R.isURLSearchParams(p)&&(p=p+""),R.isString(p))return(await l(p)).byteLength},m=async(p,v)=>{const y=R.toFiniteNumber(p.getContentLength());return y??f(v)};return async p=>{let{url:v,method:y,data:x,signal:b,cancelToken:_,timeout:w,onDownloadProgress:S,onUploadProgress:E,responseType:k,headers:C,withCredentials:N="same-origin",fetchOptions:P}=QE(p),M=t||fetch;k=k?(k+"").toLowerCase():"text";let T=CO([b,_&&_.toAbortSignal()],w),L=null;const $=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let O;try{if(E&&c&&y!=="get"&&y!=="head"&&(O=await m(C,x))!==0){let Y=new s(v,{method:"POST",body:x,duplex:"half"}),D;if(R.isFormData(x)&&(D=Y.headers.get("content-type"))&&C.setContentType(D),Y.body){const[K,X]=Uy(O,$h(Ky(E)));x=Yy(Y.body,Xy,K,X)}}R.isString(N)||(N=N?"include":"omit");const A=i&&"credentials"in s.prototype,F={...P,signal:T,method:y.toUpperCase(),headers:C.normalize().toJSON(),body:x,duplex:"half",credentials:A?N:void 0};L=i&&new s(v,F);let j=await(i?M(L,P):M(v,F));const B=u&&(k==="stream"||k==="response");if(u&&(S||B&&$)){const Y={};["status","statusText","headers"].forEach(z=>{Y[z]=j[z]});const D=R.toFiniteNumber(j.headers.get("content-length")),[K,X]=S&&Uy(D,$h(Ky(S),!0))||[];j=new r(Yy(j.body,Xy,K,()=>{X&&X(),$&&$()}),Y)}k=k||"text";let V=await d[R.findKey(d,k)||"text"](j,p);return!B&&$&&$(),await new Promise((Y,D)=>{XE(Y,D,{data:V,headers:Yt.from(j.headers),status:j.status,statusText:j.statusText,config:p,request:L})})}catch(A){throw $&&$(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,p,L),{cause:A.cause||A}):se.from(A,A&&A.code,p,L)}}},TO=new Map,ZE=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,i=[r,n,s];let o=i.length,a=o,l,c,u=TO;for(;a--;)l=i[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:PO(t)),u=c;return c};ZE();const Om={http:qM,xhr:SO,fetch:{get:ZE}};R.forEach(Om,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jy=e=>`- ${e}`,LO=e=>R.isFunction(e)||e===null||e===!1,JE={getAdapter:(e,t)=>{e=R.isArray(e)?e:[e];const{length:s}=e;let r,n;const i={};for(let o=0;o<s;o++){r=e[o];let a;if(n=r,!LO(r)&&(n=Om[(a=String(r)).toLowerCase()],n===void 0))throw new se(`Unknown adapter '${a}'`);if(n&&(R.isFunction(n)||(n=n.get(t))))break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=s?o.length>1?`since :
`+o.map(Jy).join(`
`):" "+Jy(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Om};function Md(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wo(null,e)}function e_(e){return Md(e),e.headers=Yt.from(e.headers),e.data=Ld.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JE.getAdapter(e.adapter||Cl.adapter,e)(e).then(function(r){return Md(e),r.data=Ld.call(e,e.transformResponse,r),r.headers=Yt.from(r.headers),r},function(r){return YE(r)||(Md(e),r&&r.response&&(r.response.data=Ld.call(e,e.transformResponse,r.response),r.response.headers=Yt.from(r.response.headers))),Promise.reject(r)})}const e5="1.12.2",Ou={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ou[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const t_={};Ou.transitional=function(t,s,r){function n(i,o){return"[Axios v"+e5+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new se(n(o," has been removed"+(s?" in "+s:"")),se.ERR_DEPRECATED);return s&&!t_[o]&&(t_[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ou.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function MO(e,t,s){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new se("option "+i+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Gc={assertOptions:MO,validators:Ou},Vs=Gc.validators;let Zn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vy,response:new Vy}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=li(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&Gc.assertOptions(r,{silentJSONParsing:Vs.transitional(Vs.boolean),forcedJSONParsing:Vs.transitional(Vs.boolean),clarifyTimeoutError:Vs.transitional(Vs.boolean)},!1),n!=null&&(R.isFunction(n)?s.paramsSerializer={serialize:n}:Gc.assertOptions(n,{encode:Vs.function,serialize:Vs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Gc.assertOptions(s,{baseUrl:Vs.spelling("baseURL"),withXsrfToken:Vs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&R.merge(i.common,i[s.method]);i&&R.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=Yt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,f;if(!l){const p=[e_.bind(this),void 0];for(p.unshift(...a),p.push(...c),f=p.length,u=Promise.resolve(s);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let m=s;for(;d<f;){const p=a[d++],v=a[d++];try{m=p(m)}catch(y){v.call(this,y);break}}try{u=e_.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=li(this.defaults,t);const s=GE(t.baseURL,t.url,t.allowAbsoluteUrls);return UE(s,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){Zn.prototype[t]=function(s,r){return this.request(li(r||{},{method:t,url:s,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,a){return this.request(li(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Zn.prototype[t]=s(),Zn.prototype[t+"Form"]=s(!0)});let OO=class t5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new wo(i,o,a),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new t5(function(n){t=n}),cancel:t}}};function RO(e){return function(s){return e.apply(null,s)}}function DO(e){return R.isObject(e)&&e.isAxiosError===!0}const Rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rm).forEach(([e,t])=>{Rm[t]=e});function s5(e){const t=new Zn(e),s=OE(Zn.prototype.request,t);return R.extend(s,Zn.prototype,t,{allOwnKeys:!0}),R.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return s5(li(e,n))},s}const U=s5(Cl);U.Axios=Zn;U.CanceledError=wo;U.CancelToken=OO;U.isCancel=YE;U.VERSION=e5;U.toFormData=Mu;U.AxiosError=se;U.Cancel=U.CanceledError;U.all=function(t){return Promise.all(t)};U.spread=RO;U.isAxiosError=DO;U.mergeConfig=li;U.AxiosHeaders=Yt;U.formToJSON=e=>qE(R.isHTMLForm(e)?new FormData(e):e);U.getAdapter=JE.getAdapter;U.HttpStatusCode=Rm;U.default=U;const{Axios:BX,AxiosError:IX,CanceledError:$X,isCancel:FX,CancelToken:zX,VERSION:HX,all:VX,Cancel:WX,isAxiosError:UX,spread:KX,toFormData:qX,AxiosHeaders:YX,HttpStatusCode:XX,formToJSON:GX,getAdapter:QX,mergeConfig:ZX}=U,a0=g.createContext({});function l0(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const r5=typeof window<"u",n5=r5?g.useLayoutEffect:g.useEffect,Ru=g.createContext(null);function c0(e,t){e.indexOf(t)===-1&&e.push(t)}function h0(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const lr=(e,t,s)=>s>t?t:s<e?e:s;let u0=()=>{};const Er={},i5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function o5(e){return typeof e=="object"&&e!==null}const a5=e=>/^0[^.\s]+$/u.test(e);function d0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ys=e=>e,AO=(e,t)=>s=>t(e(s)),kl=(...e)=>e.reduce(AO),Ja=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class f0{constructor(){this.subscriptions=[]}add(t){return c0(this.subscriptions,t),()=>h0(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=e=>e*1e3,ms=e=>e/1e3;function l5(e,t){return t?e*(1e3/t):0}const c5=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,BO=1e-7,IO=12;function $O(e,t,s,r,n){let i,o,a=0;do o=t+(s-t)/2,i=c5(o,r,n)-e,i>0?s=o:t=o;while(Math.abs(i)>BO&&++a<IO);return o}function El(e,t,s,r){if(e===t&&s===r)return ys;const n=i=>$O(i,0,1,e,s);return i=>i===0||i===1?i:c5(n(i),t,r)}const h5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,u5=e=>t=>1-e(1-t),d5=El(.33,1.53,.69,.99),p0=u5(d5),f5=h5(p0),p5=e=>(e*=2)<1?.5*p0(e):.5*(2-Math.pow(2,-10*(e-1))),m0=e=>1-Math.sin(Math.acos(e)),m5=u5(m0),g5=h5(m0),FO=El(.42,0,1,1),zO=El(0,0,.58,1),v5=El(.42,0,.58,1),HO=e=>Array.isArray(e)&&typeof e[0]!="number",x5=e=>Array.isArray(e)&&typeof e[0]=="number",VO={linear:ys,easeIn:FO,easeInOut:v5,easeOut:zO,circIn:m0,circInOut:g5,circOut:m5,backIn:p0,backInOut:f5,backOut:d5,anticipate:p5},WO=e=>typeof e=="string",s_=e=>{if(x5(e)){u0(e.length===4);const[t,s,r,n]=e;return El(t,s,r,n)}else if(WO(e))return VO[e];return e},rc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function UO(e,t){let s=new Set,r=new Set,n=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?s:r;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,n){i=!0;return}n=!0,[s,r]=[r,s],s.forEach(l),s.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const KO=40;function y5(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=rc.reduce((_,w)=>(_[w]=UO(i),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:m,postRender:p}=o,v=()=>{const _=Er.useManualTiming?n.timestamp:performance.now();s=!1,Er.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(_-n.timestamp,KO),1)),n.timestamp=_,n.isProcessing=!0,a.process(n),l.process(n),c.process(n),u.process(n),d.process(n),f.process(n),m.process(n),p.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(v))},y=()=>{s=!0,r=!0,n.isProcessing||e(v)};return{schedule:rc.reduce((_,w)=>{const S=o[w];return _[w]=(E,k=!1,C=!1)=>(s||y(),S.schedule(E,k,C)),_},{}),cancel:_=>{for(let w=0;w<rc.length;w++)o[rc[w]].cancel(_)},state:n,steps:o}}const{schedule:we,cancel:vn,state:pt,steps:Od}=y5(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0);let Qc;function qO(){Qc=void 0}const Mt={now:()=>(Qc===void 0&&Mt.set(pt.isProcessing||Er.useManualTiming?pt.timestamp:performance.now()),Qc),set:e=>{Qc=e,queueMicrotask(qO)}},_5=e=>t=>typeof t=="string"&&t.startsWith(e),b5=_5("--"),YO=_5("var(--"),g0=e=>YO(e)?XO.test(e.split("/*")[0].trim()):!1,XO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function r_(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const So={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},el={...So,transform:e=>lr(0,1,e)},nc={...So,default:1},Sa=e=>Math.round(e*1e5)/1e5,v0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GO(e){return e==null}const QO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x0=(e,t)=>s=>!!(typeof s=="string"&&QO.test(s)&&s.startsWith(e)||t&&!GO(s)&&Object.prototype.hasOwnProperty.call(s,t)),w5=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,i,o,a]=r.match(v0);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ZO=e=>lr(0,255,e),Rd={...So,transform:e=>Math.round(ZO(e))},Wn={test:x0("rgb","red"),parse:w5("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Rd.transform(e)+", "+Rd.transform(t)+", "+Rd.transform(s)+", "+Sa(el.transform(r))+")"};function JO(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const Dm={test:x0("#"),parse:JO,transform:Wn.transform},Nl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$r=Nl("deg"),ir=Nl("%"),Q=Nl("px"),eR=Nl("vh"),tR=Nl("vw"),n_={...ir,parse:e=>ir.parse(e)/100,transform:e=>ir.transform(e*100)},Ii={test:x0("hsl","hue"),parse:w5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+ir.transform(Sa(t))+", "+ir.transform(Sa(s))+", "+Sa(el.transform(r))+")"},qe={test:e=>Wn.test(e)||Dm.test(e)||Ii.test(e),parse:e=>Wn.test(e)?Wn.parse(e):Ii.test(e)?Ii.parse(e):Dm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wn.transform(e):Ii.transform(e),getAnimatableNone:e=>{const t=qe.parse(e);return t.alpha=0,qe.transform(t)}},sR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rR(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(v0))==null?void 0:t.length)||0)+(((s=e.match(sR))==null?void 0:s.length)||0)>0}const S5="number",C5="color",nR="var",iR="var(",i_="${}",oR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tl(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let i=0;const a=t.replace(oR,l=>(qe.test(l)?(r.color.push(i),n.push(C5),s.push(qe.parse(l))):l.startsWith(iR)?(r.var.push(i),n.push(nR),s.push(l)):(r.number.push(i),n.push(S5),s.push(parseFloat(l))),++i,i_)).split(i_);return{values:s,split:a,indexes:r,types:n}}function k5(e){return tl(e).values}function E5(e){const{split:t,types:s}=tl(e),r=t.length;return n=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],n[o]!==void 0){const a=s[o];a===S5?i+=Sa(n[o]):a===C5?i+=qe.transform(n[o]):i+=n[o]}return i}}const aR=e=>typeof e=="number"?0:qe.test(e)?qe.getAnimatableNone(e):e;function lR(e){const t=k5(e);return E5(e)(t.map(aR))}const xn={test:rR,parse:k5,createTransformer:E5,getAnimatableNone:lR};function Dd(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function cR({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,i=0,o=0;if(!t)n=i=o=s;else{const a=s<.5?s*(1+t):s+t-s*t,l=2*s-a;n=Dd(l,a,e+1/3),i=Dd(l,a,e),o=Dd(l,a,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Fh(e,t){return s=>s>0?t:e}const Me=(e,t,s)=>e+(t-e)*s,Ad=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},hR=[Dm,Wn,Ii],uR=e=>hR.find(t=>t.test(e));function o_(e){const t=uR(e);if(!t)return!1;let s=t.parse(e);return t===Ii&&(s=cR(s)),s}const a_=(e,t)=>{const s=o_(e),r=o_(t);if(!s||!r)return Fh(e,t);const n={...s};return i=>(n.red=Ad(s.red,r.red,i),n.green=Ad(s.green,r.green,i),n.blue=Ad(s.blue,r.blue,i),n.alpha=Me(s.alpha,r.alpha,i),Wn.transform(n))},Am=new Set(["none","hidden"]);function dR(e,t){return Am.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function fR(e,t){return s=>Me(e,t,s)}function y0(e){return typeof e=="number"?fR:typeof e=="string"?g0(e)?Fh:qe.test(e)?a_:gR:Array.isArray(e)?N5:typeof e=="object"?qe.test(e)?a_:pR:Fh}function N5(e,t){const s=[...e],r=s.length,n=e.map((i,o)=>y0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)s[o]=n[o](i);return s}}function pR(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=y0(e[n])(e[n],t[n]));return n=>{for(const i in r)s[i]=r[i](n);return s}}function mR(e,t){const s=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=e.indexes[i][r[i]],a=e.values[o]??0;s[n]=a,r[i]++}return s}const gR=(e,t)=>{const s=xn.createTransformer(t),r=tl(e),n=tl(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Am.has(e)&&!n.values.length||Am.has(t)&&!r.values.length?dR(e,t):kl(N5(mR(r,n),n.values),s):Fh(e,t)};function j5(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Me(e,t,s):y0(e)(e,t)}const vR=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>we.update(t,s),stop:()=>vn(t),now:()=>pt.isProcessing?pt.timestamp:Mt.now()}},P5=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let i=0;i<n;i++)r+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zh=2e4;function _0(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<zh;)t+=s,r=e.next(t);return t>=zh?1/0:t}function xR(e,t=100,s){const r=s({...e,keyframes:[0,t]}),n=Math.min(_0(r),zh);return{type:"keyframes",ease:i=>r.next(n*i).value/t,duration:ms(n)}}const yR=5;function T5(e,t,s){const r=Math.max(t-yR,0);return l5(s-e(r),t-r)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bd=.001;function _R({duration:e=Ae.duration,bounce:t=Ae.bounce,velocity:s=Ae.velocity,mass:r=Ae.mass}){let n,i,o=1-t;o=lr(Ae.minDamping,Ae.maxDamping,o),e=lr(Ae.minDuration,Ae.maxDuration,ms(e)),o<1?(n=c=>{const u=c*o,d=u*e,f=u-s,m=Bm(c,o),p=Math.exp(-d);return Bd-f/m*p},i=c=>{const d=c*o*e,f=d*s+s,m=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-d),v=Bm(Math.pow(c,2),o);return(-n(c)+Bd>0?-1:1)*((f-m)*p)/v}):(n=c=>{const u=Math.exp(-c*e),d=(c-s)*e+1;return-Bd+u*d},i=c=>{const u=Math.exp(-c*e),d=(s-c)*(e*e);return u*d});const a=5/e,l=wR(n,i,a);if(e=nr(e),isNaN(l))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const bR=12;function wR(e,t,s){let r=s;for(let n=1;n<bR;n++)r=r-e(r)/t(r);return r}function Bm(e,t){return e*Math.sqrt(1-t*t)}const SR=["duration","bounce"],CR=["stiffness","damping","mass"];function l_(e,t){return t.some(s=>e[s]!==void 0)}function kR(e){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...e};if(!l_(e,CR)&&l_(e,SR))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,i=2*lr(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Ae.mass,stiffness:n,damping:i}}else{const s=_R(e);t={...t,...s,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function Hh(e=Ae.visualDuration,t=Ae.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=kR({...s,velocity:-ms(s.velocity||0)}),p=f||0,v=c/(2*Math.sqrt(l*u)),y=o-i,x=ms(Math.sqrt(l/u)),b=Math.abs(y)<5;r||(r=b?Ae.restSpeed.granular:Ae.restSpeed.default),n||(n=b?Ae.restDelta.granular:Ae.restDelta.default);let _;if(v<1){const S=Bm(x,v);_=E=>{const k=Math.exp(-v*x*E);return o-k*((p+v*x*y)/S*Math.sin(S*E)+y*Math.cos(S*E))}}else if(v===1)_=S=>o-Math.exp(-x*S)*(y+(p+x*y)*S);else{const S=x*Math.sqrt(v*v-1);_=E=>{const k=Math.exp(-v*x*E),C=Math.min(S*E,300);return o-k*((p+v*x*y)*Math.sinh(C)+S*y*Math.cosh(C))/S}}const w={calculatedDuration:m&&d||null,next:S=>{const E=_(S);if(m)a.done=S>=d;else{let k=S===0?p:0;v<1&&(k=S===0?nr(p):T5(_,S,E));const C=Math.abs(k)<=r,N=Math.abs(o-E)<=n;a.done=C&&N}return a.value=a.done?o:E,a},toString:()=>{const S=Math.min(_0(w),zh),E=P5(k=>w.next(S*k).value,S,30);return S+"ms "+E},toTransition:()=>{}};return w}Hh.applyToOptions=e=>{const t=xR(e,100,Hh);return e.ease=t.ease,e.duration=nr(t.duration),e.type="keyframes",e};function Im({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=s*t;const y=d+v,x=o===void 0?y:o(y);x!==y&&(v=x-d);const b=C=>-v*Math.exp(-C/r),_=C=>x+b(C),w=C=>{const N=b(C),P=_(C);f.done=Math.abs(N)<=c,f.value=f.done?x:P};let S,E;const k=C=>{m(f.value)&&(S=C,E=Hh({keyframes:[f.value,p(f.value)],velocity:T5(_,C,f.value),damping:n,stiffness:i,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:C=>{let N=!1;return!E&&S===void 0&&(N=!0,w(C),k(C)),S!==void 0&&C>=S?E.next(C-S):(!N&&w(C),f)}}}function ER(e,t,s){const r=[],n=s||Er.mix||j5,i=e.length-1;for(let o=0;o<i;o++){let a=n(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ys:t;a=kl(l,a)}r.push(a)}return r}function NR(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const i=e.length;if(u0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ER(t,r,n),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Ja(e[d],e[d+1],u);return a[d](f)};return s?u=>c(lr(e[0],e[i-1],u)):c}function jR(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=Ja(0,t,r);e.push(Me(s,1,n))}}function PR(e){const t=[0];return jR(t,e.length-1),t}function TR(e,t){return e.map(s=>s*t)}function LR(e,t){return e.map(()=>t||v5).splice(0,e.length-1)}function Ca({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=HO(r)?r.map(s_):s_(r),i={done:!1,value:t[0]},o=TR(s&&s.length===t.length?s:PR(t),e),a=NR(o,t,{ease:Array.isArray(n)?n:LR(t,n)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const MR=e=>e!==null;function b0(e,{repeat:t,repeatType:s="loop"},r,n=1){const i=e.filter(MR),a=n<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const OR={decay:Im,inertia:Im,tween:Ca,keyframes:Ca,spring:Hh};function L5(e){typeof e.type=="string"&&(e.type=OR[e.type])}class w0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const RR=e=>e/100;class S0 extends w0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;L5(t);const{type:s=Ca,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=s||Ca;l!==Ca&&typeof a[0]!="number"&&(this.mixKeyframes=kl(RR,j5(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=_0(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=c}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:m,type:p,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>n;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let _=this.currentTime,w=r;if(d){const C=Math.min(this.currentTime,n)/a;let N=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(P=1-P,m&&(P-=m/a)):f==="mirror"&&(w=o)),_=lr(0,1,P)*a}const S=b?{done:!1,value:u[0]}:w.next(_);i&&(S.value=i(S.value));let{done:E}=S;!b&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&p!==Im&&(S.value=b0(u,this.options,y,this.speed)),v&&v(S.value),k&&this.finish(),S}then(t,s){return this.finished.then(t,s)}get duration(){return ms(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ms(t)}get time(){return ms(this.currentTime)}set time(t){var s;t=nr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ms(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=vR,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function DR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Un=e=>e*180/Math.PI,$m=e=>{const t=Un(Math.atan2(e[1],e[0]));return Fm(t)},AR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:$m,rotateZ:$m,skewX:e=>Un(Math.atan(e[1])),skewY:e=>Un(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fm=e=>(e=e%360,e<0&&(e+=360),e),c_=$m,h_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:h_,scaleY:u_,scale:e=>(h_(e)+u_(e))/2,rotateX:e=>Fm(Un(Math.atan2(e[6],e[5]))),rotateY:e=>Fm(Un(Math.atan2(-e[2],e[0]))),rotateZ:c_,rotate:c_,skewX:e=>Un(Math.atan(e[4])),skewY:e=>Un(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zm(e){return e.includes("scale")?1:0}function Hm(e,t){if(!e||e==="none")return zm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(s)r=BR,n=s;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AR,n=a}if(!n)return zm(t);const i=r[t],o=n[1].split(",").map($R);return typeof i=="function"?i(o):o[i]}const IR=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Hm(s,t)};function $R(e){return parseFloat(e.trim())}const Co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(Co),d_=e=>e===So||e===Q,FR=new Set(["x","y","z"]),zR=Co.filter(e=>!FR.has(e));function HR(e){const t=[];return zR.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Xr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Hm(t,"x"),y:(e,{transform:t})=>Hm(t,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Jn=new Set;let Vm=!1,Wm=!1,Um=!1;function M5(){if(Wm){const e=Array.from(Jn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=HR(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wm=!1,Vm=!1,Jn.forEach(e=>e.complete(Um)),Jn.clear()}function O5(){Jn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wm=!0)})}function VR(){Um=!0,O5(),M5(),Um=!1}class C0{constructor(t,s,r,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Jn.add(this),Vm||(Vm=!0,we.read(O5),we.resolveKeyframes(M5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const a=r.readValue(s,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}DR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Jn.delete(this)}cancel(){this.state==="scheduled"&&(Jn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WR=e=>e.startsWith("--");function UR(e,t,s){WR(t)?e.style.setProperty(t,s):e.style[t]=s}const KR=d0(()=>window.ScrollTimeline!==void 0),qR={};function YR(e,t){const s=d0(e);return()=>qR[t]??s()}const R5=YR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ia=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,f_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ia([0,.65,.55,1]),circOut:ia([.55,0,1,.45]),backIn:ia([.31,.01,.66,-.59]),backOut:ia([.33,1.53,.69,.99])};function D5(e,t){if(e)return typeof e=="function"?R5()?P5(e,t):"ease-out":x5(e)?ia(e):Array.isArray(e)?e.map(s=>D5(s,t)||f_.easeOut):f_[e]}function XR(e,t,s,{delay:r=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:s};l&&(u.offset=l);const d=D5(a,n);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(u,f)}function A5(e){return typeof e=="function"&&"applyToOptions"in e}function GR({type:e,...t}){return A5(e)&&R5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QR extends w0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:r,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,u0(typeof t.type!="string");const c=GR(t);this.animation=XR(s,r,n,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=b0(n,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):UR(s,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,r,n;const t=(s=this.options)==null?void 0:s.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((n=(r=this.animation).commitStyles)==null||n.call(r))}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return ms(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ms(t)}get time(){return ms(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=nr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KR()?(this.animation.timeline=t,ys):s(this)}}const B5={anticipate:p5,backInOut:f5,circInOut:g5};function ZR(e){return e in B5}function JR(e){typeof e.ease=="string"&&ZR(e.ease)&&(e.ease=B5[e.ease])}const Id=10;class eD extends QR{constructor(t){JR(t),L5(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:n,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const a=new S0({...o,autoplay:!1}),l=Math.max(Id,Mt.now()-this.startTime),c=lr(0,Id,l-Id);s.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const p_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xn.test(e)||e==="0")&&!e.startsWith("url("));function tD(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function sD(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=p_(n,t),a=p_(i,t);return!o||!a?!1:tD(e)||(s==="spring"||A5(s))&&r}function Km(e){e.duration=0,e.type="keyframes"}const rD=new Set(["opacity","clipPath","filter","transform"]),nD=d0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iD(e){var u;const{motionValue:t,name:s,repeatDelay:r,repeatType:n,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return nD()&&s&&rD.has(s)&&(s!=="transform"||!c)&&!l&&!r&&n!=="mirror"&&i!==0&&o!=="inertia"}const oD=40;class aD extends w0{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var p;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Mt.now();const f={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||C0;this.keyframeResolver=new m(a,(v,y,x)=>this.onKeyframesResolved(v,y,f,!x),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,s,r,n){var y,x;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Mt.now(),sD(t,i,o,a)||((Er.instantAnimations||!l)&&(u==null||u(b0(t,r,s))),t[0]=t[t.length-1],Km(r),r.repeat=0);const f={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>oD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},m=!c&&iD(f),p=(x=(y=f.motionValue)==null?void 0:y.owner)==null?void 0:x.current,v=m?new eD({...f,element:p}):new S0(f);v.finished.then(()=>{this.notifyFinished()}).catch(ys),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),VR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function I5(e,t,s,r=0,n=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof s=="function"?s(i,o):n===1?i*r:a-i*r}const lD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cD(e){const t=lD.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function $5(e,t,s=1){const[r,n]=cD(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return i5(o)?parseFloat(o):o}return g0(n)?$5(n,t,s+1):n}const hD={type:"spring",stiffness:500,damping:25,restSpeed:10},uD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dD={type:"keyframes",duration:.8},fD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pD=(e,{keyframes:t})=>t.length>2?dD:ko.has(e)?e.startsWith("scale")?uD(t[1]):hD:fD,mD=e=>e!==null;function gD(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter(mD),i=t&&s!=="loop"&&t%2===1?0:n.length-1;return n[i]}function F5(e,t){if(e!=null&&e.inherit&&t){const{inherit:s,...r}=e;return{...t,...r}}return e}function k0(e,t){const s=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return s!==e?F5(s,e):s}function vD({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const E0=(e,t,s,r={},n,i)=>o=>{const a=k0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-nr(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:n};vD(a)||Object.assign(u,pD(e,u)),u.duration&&(u.duration=nr(u.duration)),u.repeatDelay&&(u.repeatDelay=nr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Km(u),u.delay===0&&(d=!0)),(Er.instantAnimations||Er.skipAnimations||n!=null&&n.shouldSkipAnimations)&&(d=!0,Km(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const f=gD(u.keyframes,a);if(f!==void 0){we.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new S0(u):new aD(u)};function m_(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function N0(e,t,s,r){if(typeof t=="function"){const[n,i]=m_(r);t=t(s!==void 0?s:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=m_(r);t=t(s!==void 0?s:e.custom,n,i)}return t}function Qi(e,t,s){const r=e.getProps();return N0(r,t,s!==void 0?s:r.custom,e)}const z5=new Set(["width","height","top","left","right","bottom",...Co]),g_=30,xD=e=>!isNaN(parseFloat(e));class yD{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const n=Mt.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new f0);const r=this.events[t].add(s);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>g_)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,g_);return l5(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ao(e,t){return new yD(e,t)}const qm=e=>Array.isArray(e);function _D(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ao(s))}function bD(e){return qm(e)?e[e.length-1]||0:e}function wD(e,t){const s=Qi(e,t);let{transitionEnd:r={},transition:n={},...i}=s||{};i={...i,...r};for(const o in i){const a=bD(i[o]);_D(e,o,a)}}const Et=e=>!!(e&&e.getVelocity);function SD(e){return!!(Et(e)&&e.add)}function Ym(e,t){const s=e.getValue("willChange");if(SD(s))return s.add(t);if(!s&&Er.WillChange){const r=new Er.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function j0(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const CD="framerAppearId",H5="data-"+j0(CD);function V5(e){return e.props[H5]}function kD({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function W5(e,t,{delay:s=0,transitionOverride:r,type:n}={}){let{transition:i,transitionEnd:o,...a}=t;const l=e.getDefaultTransition();i=i?F5(i,l):l;const c=i==null?void 0:i.reduceMotion;r&&(i=r);const u=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const f in a){const m=e.getValue(f,e.latestValues[f]??null),p=a[f];if(p===void 0||d&&kD(d,f))continue;const v={delay:s,...k0(i||{},f)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===y&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=V5(e);if(w){const S=window.MotionHandoffAnimation(w,f,we);S!==null&&(v.startTime=S,x=!0)}}Ym(e,f);const b=c??e.shouldReduceMotion;m.start(E0(f,m,p,b&&z5.has(f)?{type:!1}:v,e,x));const _=m.animation;_&&u.push(_)}if(o){const f=()=>we.update(()=>{o&&wD(e,o)});u.length?Promise.all(u).then(f):f()}return u}function Xm(e,t,s={}){var l;const r=Qi(e,t,s.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(n=s.transitionOverride);const i=r?()=>Promise.all(W5(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=n;return ED(e,t,c,u,d,f,s)}:()=>Promise.resolve(),{when:a}=n;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function ED(e,t,s=0,r=0,n=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Xm(l,t,{...o,delay:s+(typeof r=="function"?0:r)+I5(e.variantChildren,l,r,n,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function ND(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(i=>Xm(e,i,s));r=Promise.all(n)}else if(typeof t=="string")r=Xm(e,t,s);else{const n=typeof t=="function"?Qi(e,t,s.custom):t;r=Promise.all(W5(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}const jD={test:e=>e==="auto",parse:e=>e},U5=e=>t=>t.test(e),K5=[So,Q,ir,$r,tR,eR,jD],v_=e=>K5.find(U5(e));function PD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||a5(e):!0}const TD=new Set(["brightness","contrast","saturate","opacity"]);function LD(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(v0)||[];if(!r)return e;const n=s.replace(r,"");let i=TD.has(t)?1:0;return r!==s&&(i*=100),t+"("+i+n+")"}const MD=/\b([a-z-]*)\(.*?\)/gu,Gm={...xn,getAnimatableNone:e=>{const t=e.match(MD);return t?t.map(LD).join(" "):e}},x_={...So,transform:Math.round},OD={rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:$r,skewX:$r,skewY:$r,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:el,originX:n_,originY:n_,originZ:Q},P0={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,inset:Q,insetBlock:Q,insetBlockStart:Q,insetBlockEnd:Q,insetInline:Q,insetInlineStart:Q,insetInlineEnd:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,paddingBlock:Q,paddingBlockStart:Q,paddingBlockEnd:Q,paddingInline:Q,paddingInlineStart:Q,paddingInlineEnd:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,marginBlock:Q,marginBlockStart:Q,marginBlockEnd:Q,marginInline:Q,marginInlineStart:Q,marginInlineEnd:Q,fontSize:Q,backgroundPositionX:Q,backgroundPositionY:Q,...OD,zIndex:x_,fillOpacity:el,strokeOpacity:el,numOctaves:x_},RD={...P0,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:Gm,WebkitFilter:Gm},q5=e=>RD[e];function Y5(e,t){let s=q5(e);return s!==Gm&&(s=xn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const DD=new Set(["auto","none","0"]);function AD(e,t,s){let r=0,n;for(;r<e.length&&!n;){const i=e[r];typeof i=="string"&&!DD.has(i)&&tl(i).values.length&&(n=e[r]),r++}if(n&&s)for(const i of t)e[i]=Y5(s,n)}class BD extends C0{constructor(t,s,r,n,i){super(t,s,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),g0(d))){const f=$5(d,s.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!z5.has(r)||t.length!==2)return;const[n,i]=t,o=v_(n),a=v_(i),l=r_(n),c=r_(i);if(l!==c&&Xr[r]){this.needsMeasurement=!0;return}if(o!==a)if(d_(o)&&d_(a))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else Xr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||PD(t[n]))&&r.push(n);r.length&&AD(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var a;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Xr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function X5(e,t,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=(s==null?void 0:s[e])??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e).filter(r=>r!=null)}const G5=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Qm(e){return o5(e)&&"offsetHeight"in e}const{schedule:T0}=y5(queueMicrotask,!1),js={x:!1,y:!1};function Q5(){return js.x||js.y}function ID(e){return e==="x"||e==="y"?js[e]?null:(js[e]=!0,()=>{js[e]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function Z5(e,t){const s=X5(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[s,n,()=>r.abort()]}function $D(e){return!(e.pointerType==="touch"||Q5())}function FD(e,t,s={}){const[r,n,i]=Z5(e,s);return r.forEach(o=>{let a=!1,l=!1,c;const u=()=>{o.removeEventListener("pointerleave",p)},d=y=>{c&&(c(y),c=void 0),u()},f=y=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),l&&(l=!1,d(y))},m=()=>{a=!0,window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",f,n)},p=y=>{if(y.pointerType!=="touch"){if(a){l=!0;return}d(y)}},v=y=>{if(!$D(y))return;l=!1;const x=t(o,y);typeof x=="function"&&(c=x,o.addEventListener("pointerleave",p,n))};o.addEventListener("pointerenter",v,n),o.addEventListener("pointerdown",m,n)}),i}const J5=(e,t)=>t?e===t?!0:J5(e,t.parentElement):!1,L0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HD(e){return zD.has(e.tagName)||e.isContentEditable===!0}const VD=new Set(["INPUT","SELECT","TEXTAREA"]);function WD(e){return VD.has(e.tagName)||e.isContentEditable===!0}const Zc=new WeakSet;function y_(e){return t=>{t.key==="Enter"&&e(t)}}function $d(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UD=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=y_(()=>{if(Zc.has(s))return;$d(s,"down");const n=y_(()=>{$d(s,"up")}),i=()=>$d(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function __(e){return L0(e)&&!Q5()}const b_=new WeakSet;function KD(e,t,s={}){const[r,n,i]=Z5(e,s),o=a=>{const l=a.currentTarget;if(!__(a)||b_.has(a))return;Zc.add(l),s.stopPropagation&&b_.add(a);const c=t(l,a),u=(m,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Zc.has(l)&&Zc.delete(l),__(m)&&typeof c=="function"&&c(m,{success:p})},d=m=>{u(m,l===window||l===document||s.useGlobalTarget||J5(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",d,n),window.addEventListener("pointercancel",f,n)};return r.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,n),Qm(a)&&(a.addEventListener("focus",c=>UD(c,n)),!HD(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function M0(e){return o5(e)&&"ownerSVGElement"in e}const Jc=new WeakMap;let Fr;const eN=(e,t,s)=>(r,n)=>n&&n[0]?n[0][e+"Size"]:M0(r)&&"getBBox"in r?r.getBBox()[t]:r[s],qD=eN("inline","width","offsetWidth"),YD=eN("block","height","offsetHeight");function XD({target:e,borderBoxSize:t}){var s;(s=Jc.get(e))==null||s.forEach(r=>{r(e,{get width(){return qD(e,t)},get height(){return YD(e,t)}})})}function GD(e){e.forEach(XD)}function QD(){typeof ResizeObserver>"u"||(Fr=new ResizeObserver(GD))}function ZD(e,t){Fr||QD();const s=X5(e);return s.forEach(r=>{let n=Jc.get(r);n||(n=new Set,Jc.set(r,n)),n.add(t),Fr==null||Fr.observe(r)}),()=>{s.forEach(r=>{const n=Jc.get(r);n==null||n.delete(t),n!=null&&n.size||Fr==null||Fr.unobserve(r)})}}const eh=new Set;let $i;function JD(){$i=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};eh.forEach(t=>t(e))},window.addEventListener("resize",$i)}function e6(e){return eh.add(e),$i||JD(),()=>{eh.delete(e),!eh.size&&typeof $i=="function"&&(window.removeEventListener("resize",$i),$i=void 0)}}function w_(e,t){return typeof e=="function"?e6(e):ZD(e,t)}function t6(e){return M0(e)&&e.tagName==="svg"}const s6=[...K5,qe,xn],r6=e=>s6.find(U5(e)),S_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:S_(),y:S_()}),C_=()=>({min:0,max:0}),et=()=>({x:C_(),y:C_()}),Zm={current:null},tN={current:!1},n6=typeof window<"u";function i6(){if(tN.current=!0,!!n6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zm.current=e.matches;e.addEventListener("change",t),t()}else Zm.current=!1}const o6=new WeakMap;function Du(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sl(e){return typeof e=="string"||Array.isArray(e)}const O0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...O0];function Au(e){return Du(e.animate)||R0.some(t=>sl(e[t]))}function sN(e){return!!(Au(e)||e.variants)}function a6(e,t,s){for(const r in t){const n=t[r],i=s[r];if(Et(n))e.addValue(r,n);else if(Et(i))e.addValue(r,ao(n,{owner:e}));else if(i!==n)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(r);e.addValue(r,ao(o!==void 0?o:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const k_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Vh={};function rN(e){Vh=e}function l6(){return Vh}class c6{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,skipAnimations:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=C0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Mt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,we.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.skipAnimationsConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Au(s),this.isVariantNode=sN(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&Et(p)&&p.set(c[m])}}mount(t){var s,r;if(this.hasBeenMounted)for(const n in this.initialValues)(s=this.values.get(n))==null||s.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,o6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(tN.current||i6(),this.shouldReduceMotion=Zm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ko.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vh){const s=Vh[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<k_.length;r++){const n=k_[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=a6(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=ao(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(i5(r)||a5(r))?r=parseFloat(r):!r6(r)&&xn.test(s)&&(r=Y5(t,s)),this.setBaseTarget(t,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=N0(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!Et(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new f0),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){T0.render(this.render)}}class nN extends c6{constructor(){super(...arguments),this.KeyframeResolver=BD}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const r=t.style;return r?r[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Cn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iN({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function h6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function u6(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Fd(e){return e===void 0||e===1}function Jm({scale:e,scaleX:t,scaleY:s}){return!Fd(e)||!Fd(t)||!Fd(s)}function On(e){return Jm(e)||oN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oN(e){return E_(e.x)||E_(e.y)}function E_(e){return e&&e!=="0%"}function Wh(e,t,s){const r=e-s,n=t*r;return s+n}function N_(e,t,s,r,n){return n!==void 0&&(e=Wh(e,n,r)),Wh(e,s,r)+t}function eg(e,t=0,s=1,r,n){e.min=N_(e.min,t,s,r,n),e.max=N_(e.max,t,s,r,n)}function aN(e,{x:t,y:s}){eg(e.x,t.translate,t.scale,t.originPoint),eg(e.y,s.translate,s.scale,s.originPoint)}const j_=.999999999999,P_=1.0000000000001;function d6(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,o;for(let a=0;a<n;a++){i=s[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,aN(e,o)),r&&On(i.latestValues)&&Hi(e,i.latestValues))}t.x<P_&&t.x>j_&&(t.x=1),t.y<P_&&t.y>j_&&(t.y=1)}function zi(e,t){e.min=e.min+t,e.max=e.max+t}function T_(e,t,s,r,n=.5){const i=Me(e.min,e.max,n);eg(e,t,s,i,r)}function Hi(e,t){T_(e.x,t.x,t.scaleX,t.scale,t.originX),T_(e.y,t.y,t.scaleY,t.scale,t.originY)}function lN(e,t){return iN(u6(e.getBoundingClientRect(),t))}function f6(e,t,s){const r=lN(e,s),{scroll:n}=t;return n&&(zi(r.x,n.offset.x),zi(r.y,n.offset.y)),r}const p6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m6=Co.length;function g6(e,t,s){let r="",n=!0;for(let i=0;i<m6;i++){const o=Co[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||s){const c=G5(a,P0[o]);if(!l){n=!1;const u=p6[o]||o;r+=`${u}(${c}) `}s&&(t[o]=c)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function D0(e,t,s){const{style:r,vars:n,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(ko.has(l)){o=!0;continue}else if(b5(l)){n[l]=c;continue}else{const u=G5(c,P0[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||s?r.transform=g6(t,e.transform,s):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function cN(e,{style:t,vars:s},r,n){const i=e.style;let o;for(o in t)i[o]=t[o];n==null||n.applyProjectionStyles(i,r);for(o in s)i.setProperty(o,s[o])}function L_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const s=L_(e,t.target.x),r=L_(e,t.target.y);return`${s}% ${r}%`}},v6={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=xn.parse(e);if(n.length>5)return r;const i=xn.createTransformer(e),o=typeof n[0]!="number"?1:0,a=s.x.scale*t.x,l=s.y.scale*t.y;n[0+o]/=a,n[1+o]/=l;const c=Me(a,l,.5);return typeof n[2+o]=="number"&&(n[2+o]/=c),typeof n[3+o]=="number"&&(n[3+o]/=c),i(n)}},tg={borderRadius:{...Fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fo,borderTopRightRadius:Fo,borderBottomLeftRadius:Fo,borderBottomRightRadius:Fo,boxShadow:v6};function hN(e,{layout:t,layoutId:s}){return ko.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!tg[e]||e==="opacity")}function A0(e,t,s){var o;const r=e.style,n=t==null?void 0:t.style,i={};if(!r)return i;for(const a in r)(Et(r[a])||n&&Et(n[a])||hN(a,e)||((o=s==null?void 0:s.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function x6(e){return window.getComputedStyle(e)}class y6 extends nN{constructor(){super(...arguments),this.type="html",this.renderInstance=cN}readValueFromInstance(t,s){var r;if(ko.has(s))return(r=this.projection)!=null&&r.isProjecting?zm(s):IR(t,s);{const n=x6(t),i=(b5(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return lN(t,s)}build(t,s,r){D0(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return A0(t,s,r)}}const _6={offset:"stroke-dashoffset",array:"stroke-dasharray"},b6={offset:"strokeDashoffset",array:"strokeDasharray"};function w6(e,t,s=1,r=0,n=!0){e.pathLength=1;const i=n?_6:b6;e[i.offset]=`${-r}`,e[i.array]=`${t} ${s}`}const S6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function uN(e,{attrX:t,attrY:s,attrScale:r,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(D0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const m of S6)d[m]!==void 0&&(f[m]=d[m],delete d[m]);t!==void 0&&(d.x=t),s!==void 0&&(d.y=s),r!==void 0&&(d.scale=r),n!==void 0&&w6(d,n,i,o,!1)}const dN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),fN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C6(e,t,s,r){cN(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(dN.has(n)?n:j0(n),t.attrs[n])}function pN(e,t,s){const r=A0(e,t,s);for(const n in e)if(Et(e[n])||Et(t[n])){const i=Co.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}class k6 extends nN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ko.has(s)){const r=q5(s);return r&&r.default||0}return s=dN.has(s)?s:j0(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return pN(t,s,r)}build(t,s,r){uN(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,n){C6(t,s,r,n)}mount(t){this.isSVGTag=fN(t.tagName),super.mount(t)}}const E6=R0.length;function mN(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?mN(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<E6;s++){const r=R0[s],n=e.props[r];(sl(n)||n===!1)&&(t[r]=n)}return t}function gN(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const N6=[...O0].reverse(),j6=O0.length;function P6(e){return t=>Promise.all(t.map(({animation:s,options:r})=>ND(e,s,r)))}function T6(e){let t=P6(e),s=M_(),r=!0;const n=l=>(c,u)=>{var f;const d=Qi(e,u,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:p,...v}=d;c={...c,...v,...p}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=mN(e.parent)||{},d=[],f=new Set;let m={},p=1/0;for(let y=0;y<j6;y++){const x=N6[y],b=s[x],_=c[x]!==void 0?c[x]:u[x],w=sl(_),S=x===l?b.isActive:null;S===!1&&(p=y);let E=_===u[x]&&_!==c[x]&&w;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...m},!b.isActive&&S===null||!_&&!b.prevProp||Du(_)||typeof _=="boolean")continue;const k=L6(b.prevProp,_);let C=k||x===l&&b.isActive&&!E&&w||y>p&&w,N=!1;const P=Array.isArray(_)?_:[_];let M=P.reduce(n(x),{});S===!1&&(M={});const{prevResolvedValues:T={}}=b,L={...T,...M},$=F=>{C=!0,f.has(F)&&(N=!0,f.delete(F)),b.needsAnimating[F]=!0;const j=e.getValue(F);j&&(j.liveStyle=!1)};for(const F in L){const j=M[F],B=T[F];if(m.hasOwnProperty(F))continue;let V=!1;qm(j)&&qm(B)?V=!gN(j,B):V=j!==B,V?j!=null?$(F):f.add(F):j!==void 0&&f.has(F)?$(F):b.protectedKeys[F]=!0}b.prevProp=_,b.prevResolvedValues=M,b.isActive&&(m={...m,...M}),r&&e.blockInitialAnimation&&(C=!1);const O=E&&k;C&&(!O||N)&&d.push(...P.map(F=>{const j={type:x};if(typeof F=="string"&&r&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,V=Qi(B,F);if(B.enteringChildren&&V){const{delayChildren:Y}=V.transition||{};j.delay=I5(B.enteringChildren,e,Y)}}return{animation:F,options:j}}))}if(f.size){const y={};if(typeof c.initial!="boolean"){const x=Qi(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(y.transition=x.transition)}f.forEach(x=>{const b=e.getBaseTarget(x),_=e.getValue(x);_&&(_.liveStyle=!0),y[x]=b??null}),d.push({animation:y})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var d;if(s[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),s[l].isActive=c;const u=o(l);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>s,reset:()=>{s=M_()}}}function L6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gN(t,e):!1}function En(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M_(){return{animate:En(!0),whileInView:En(),whileHover:En(),whileTap:En(),whileDrag:En(),whileFocus:En(),exit:En()}}function O_(e,t){e.min=t.min,e.max=t.max}function Es(e,t){O_(e.x,t.x),O_(e.y,t.y)}function R_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const vN=1e-4,M6=1-vN,O6=1+vN,xN=.01,R6=0-xN,D6=0+xN;function Ot(e){return e.max-e.min}function A6(e,t,s){return Math.abs(e-t)<=s}function D_(e,t,s,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=Ot(s)/Ot(t),e.translate=Me(s.min,s.max,e.origin)-e.originPoint,(e.scale>=M6&&e.scale<=O6||isNaN(e.scale))&&(e.scale=1),(e.translate>=R6&&e.translate<=D6||isNaN(e.translate))&&(e.translate=0)}function ka(e,t,s,r){D_(e.x,t.x,s.x,r?r.originX:void 0),D_(e.y,t.y,s.y,r?r.originY:void 0)}function A_(e,t,s){e.min=s.min+t.min,e.max=e.min+Ot(t)}function B6(e,t,s){A_(e.x,t.x,s.x),A_(e.y,t.y,s.y)}function B_(e,t,s){e.min=t.min-s.min,e.max=e.min+Ot(t)}function Uh(e,t,s){B_(e.x,t.x,s.x),B_(e.y,t.y,s.y)}function I_(e,t,s,r,n){return e-=t,e=Wh(e,1/s,r),n!==void 0&&(e=Wh(e,1/n,r)),e}function I6(e,t=0,s=1,r=.5,n,i=e,o=e){if(ir.test(t)&&(t=parseFloat(t),t=Me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Me(i.min,i.max,r);e===i&&(a-=t),e.min=I_(e.min,t,s,a,n),e.max=I_(e.max,t,s,a,n)}function $_(e,t,[s,r,n],i,o){I6(e,t[s],t[r],t[n],t.scale,i,o)}const $6=["x","scaleX","originX"],F6=["y","scaleY","originY"];function F_(e,t,s,r){$_(e.x,t,$6,s?s.x:void 0,r?r.x:void 0),$_(e.y,t,F6,s?s.y:void 0,r?r.y:void 0)}function z_(e){return e.translate===0&&e.scale===1}function yN(e){return z_(e.x)&&z_(e.y)}function H_(e,t){return e.min===t.min&&e.max===t.max}function z6(e,t){return H_(e.x,t.x)&&H_(e.y,t.y)}function V_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _N(e,t){return V_(e.x,t.x)&&V_(e.y,t.y)}function W_(e){return Ot(e.x)/Ot(e.y)}function U_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Gs(e){return[e("x"),e("y")]}function H6(e,t,s){let r="";const n=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((n||i||o)&&(r=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:m,skewY:p}=s;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bN=["TopLeft","TopRight","BottomLeft","BottomRight"],V6=bN.length,K_=e=>typeof e=="string"?parseFloat(e):e,q_=e=>typeof e=="number"||Q.test(e);function W6(e,t,s,r,n,i){n?(e.opacity=Me(0,s.opacity??1,U6(r)),e.opacityExit=Me(t.opacity??1,0,K6(r))):i&&(e.opacity=Me(t.opacity??1,s.opacity??1,r));for(let o=0;o<V6;o++){const a=`border${bN[o]}Radius`;let l=Y_(t,a),c=Y_(s,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||q_(l)===q_(c)?(e[a]=Math.max(Me(K_(l),K_(c),r),0),(ir.test(c)||ir.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||s.rotate)&&(e.rotate=Me(t.rotate||0,s.rotate||0,r))}function Y_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U6=wN(0,.5,m5),K6=wN(.5,.95,ys);function wN(e,t,s){return r=>r<e?0:r>t?1:s(Ja(e,t,r))}function q6(e,t,s){const r=Et(e)?e:ao(e);return r.start(E0("",r,t,s)),r.animation}function rl(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const Y6=(e,t)=>e.depth-t.depth;class X6{constructor(){this.children=[],this.isDirty=!1}add(t){c0(this.children,t),this.isDirty=!0}remove(t){h0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Y6),this.isDirty=!1,this.children.forEach(t)}}function G6(e,t){const s=Mt.now(),r=({timestamp:n})=>{const i=n-s;i>=t&&(vn(r),e(i-t))};return we.setup(r,!0),()=>vn(r)}function th(e){return Et(e)?e.get():e}class Q6{constructor(){this.members=[]}add(t){c0(this.members,t),t.scheduleRender()}remove(t){if(h0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const n=r.options.layoutDependency,i=t.options.layoutDependency;n!==void 0&&i!==void 0&&n===i||(t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zd=["","X","Y","Z"],Z6=1e3;let J6=0;function Hd(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function SN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=V5(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",we,!(n||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&SN(r)}function CN({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},a=t==null?void 0:t()){this.id=J6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sA),this.nodes.forEach(oA),this.nodes.forEach(aA),this.nodes.forEach(rA)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new f0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=M0(o)&&!t6(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;we.read(()=>{d=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,u&&u(),u=G6(f,250),sh.hasAnimatedSinceResize&&(sh.hasAnimatedSinceResize=!1,this.nodes.forEach(Q_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||dA,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),x=!this.targetLayout||!_N(this.targetLayout,m),b=!d&&f;if(this.options.layoutRoot||this.resumeFrom||b||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...k0(p,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,b)}else d||Q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lA),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(G_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iA),this.nodes.forEach(eA),this.nodes.forEach(tA)):this.nodes.forEach(G_),this.clearAllSnapshots();const a=Mt.now();pt.delta=lr(0,1e3/60,a-pt.timestamp),pt.timestamp=a,pt.isProcessing=!0,Od.update.process(pt),Od.preRender.process(pt),Od.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nA),this.sharedNodes.forEach(cA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||On(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fA(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return et();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(pA))){const{scroll:u}=this.root;u&&(zi(a.x,u.offset.x),zi(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=et();if(Es(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Es(a,o),zi(a.x,d.offset.x),zi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=et();Es(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),On(u.latestValues)&&Hi(l,u.latestValues)}return On(this.latestValues)&&Hi(l,this.latestValues),l}removeTransform(o){const a=et();Es(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!On(c.latestValues))continue;Jm(c.latestValues)&&c.updateSnapshot();const u=et(),d=c.measurePageBox();Es(u,d),F_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return On(this.latestValues)&&F_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=pt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),aN(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jm(this.parent.latestValues)||oN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Uh(this.relativeTargetOrigin,a,l),Es(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Es(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;d6(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=et());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R_(this.prevProjectionDelta.x,this.projectionDelta.x),R_(this.prevProjectionDelta.y,this.projectionDelta.y)),ka(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!U_(this.projectionDelta.x,this.prevProjectionDelta.x)||!U_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fi(),this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=et(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(uA));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const S=w/1e3;Z_(d.x,o.x,S),Z_(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hA(this.relativeTarget,this.relativeTargetOrigin,f,S),_&&z6(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=et()),Es(_,this.relativeTarget)),v&&(this.animationValues=u,W6(u,c,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{sh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ao(0)),this.currentAnimation=q6(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&kN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||et();const d=Ot(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ot(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Es(a,l),Hi(a,u),ka(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Q6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Hd("z",o,c,this.animationValues);for(let u=0;u<zd.length;u++)Hd(`rotate${zd[u]}`,o,c,this.animationValues),Hd(`skew${zd[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=th(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=th(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!On(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=H6(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in tg){if(u[p]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:x}=tg[p],b=d==="none"?u[p]:v(u[p],c);if(y){const _=y.length;for(let w=0;w<_;w++)o[y[w]]=b}else x?this.options.visualElement.renderState.vars[p]=b:o[p]=b}this.options.layoutId&&(o.pointerEvents=c===this?th(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(X_),this.root.sharedNodes.clear()}}}function eA(e){e.updateLayout()}function tA(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Gs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=Ot(f);f.min=r[d].min,f.max=f.min+m}):kN(i,t.layoutBox,r)&&Gs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=Ot(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=Fi();ka(a,r,t.layoutBox);const l=Fi();o?ka(l,e.applyTransform(n,!0),t.measuredBox):ka(l,r,t.layoutBox);const c=!yN(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=et();Uh(p,t.layoutBox,f.layoutBox);const v=et();Uh(v,r,m.layoutBox),_N(p,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function sA(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nA(e){e.clearSnapshot()}function X_(e){e.clearMeasurements()}function G_(e){e.isLayoutDirty=!1}function iA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Q_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oA(e){e.resolveTargetDelta()}function aA(e){e.calcProjection()}function lA(e){e.resetSkewAndRotation()}function cA(e){e.removeLeadSnapshot()}function Z_(e,t,s){e.translate=Me(t.translate,0,s),e.scale=Me(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function J_(e,t,s,r){e.min=Me(t.min,s.min,r),e.max=Me(t.max,s.max,r)}function hA(e,t,s,r){J_(e.x,t.x,s.x,r),J_(e.y,t.y,s.y,r)}function uA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dA={duration:.45,ease:[.4,0,.1,1]},eb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tb=eb("applewebkit/")&&!eb("chrome/")?Math.round:ys;function sb(e){e.min=tb(e.min),e.max=tb(e.max)}function fA(e){sb(e.x),sb(e.y)}function kN(e,t,s){return e==="position"||e==="preserve-aspect"&&!A6(W_(t),W_(s),.2)}function pA(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const mA=CN({attachResizeListener:(e,t)=>rl(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Vd={current:void 0},EN=CN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vd.current){const e=new mA({});e.mount(window),e.setOptions({layoutScroll:!0}),Vd.current=e}return Vd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B0=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function rb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gA(...e){return t=>{let s=!1;const r=e.map(n=>{const i=rb(n,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():rb(e[n],null)}}}}function vA(...e){return g.useCallback(gA(...e),e)}class xA extends g.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=s.offsetParent,n=Qm(r)&&r.offsetWidth||0,i=Qm(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=n-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function yA({children:e,isPresent:t,anchorX:s,anchorY:r,root:n,pop:i}){var f;const o=g.useId(),a=g.useRef(null),l=g.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=g.useContext(B0),u=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),d=vA(a,u);return g.useInsertionEffect(()=>{const{width:m,height:p,top:v,left:y,right:x,bottom:b}=l.current;if(t||i===!1||!a.current||!m||!p)return;const _=s==="left"?`left: ${y}`:`right: ${x}`,w=r==="bottom"?`bottom: ${b}`:`top: ${v}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");c&&(S.nonce=c);const E=n??document.head;return E.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${_}px !important;
            ${w}px !important;
          }
        `),()=>{E.contains(S)&&E.removeChild(S)}},[t]),h.jsx(xA,{isPresent:t,childRef:a,sizeRef:l,pop:i,children:i===!1?e:g.cloneElement(e,{ref:d})})}const _A=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:l,root:c})=>{const u=l0(bA),d=g.useId();let f=!0,m=g.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:s,custom:n,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[s,u,r]);return i&&f&&(m={...m}),g.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[s]),g.useEffect(()=>{!s&&!u.size&&r&&r()},[s]),e=h.jsx(yA,{pop:o==="popLayout",isPresent:s,anchorX:a,anchorY:l,root:c,children:e}),h.jsx(Ru.Provider,{value:m,children:e})};function bA(){return new Map}function NN(e=!0){const t=g.useContext(Ru);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=t,i=g.useId();g.useEffect(()=>{if(e)return n(i)},[e]);const o=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!s&&r?[!1,o]:[!0]}const ic=e=>e.key||"";function nb(e){const t=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&t.push(s)}),t}const Xt=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[u,d]=NN(o),f=g.useMemo(()=>nb(e),[e]),m=o&&!u?[]:f.map(ic),p=g.useRef(!0),v=g.useRef(f),y=l0(()=>new Map),x=g.useRef(new Set),[b,_]=g.useState(f),[w,S]=g.useState(f);n5(()=>{p.current=!1,v.current=f;for(let C=0;C<w.length;C++){const N=ic(w[C]);m.includes(N)?(y.delete(N),x.current.delete(N)):y.get(N)!==!0&&y.set(N,!1)}},[w,m.length,m.join("-")]);const E=[];if(f!==b){let C=[...f];for(let N=0;N<w.length;N++){const P=w[N],M=ic(P);m.includes(M)||(C.splice(N,0,P),E.push(P))}return i==="wait"&&E.length&&(C=E),S(nb(C)),_(f),null}const{forceRender:k}=g.useContext(a0);return h.jsx(h.Fragment,{children:w.map(C=>{const N=ic(C),P=o&&!u?!1:f===w||m.includes(N),M=()=>{if(x.current.has(N))return;if(x.current.add(N),y.has(N))y.set(N,!0);else return;let T=!0;y.forEach(L=>{L||(T=!1)}),T&&(k==null||k(),S(v.current),o&&(d==null||d()),r&&r())};return h.jsx(_A,{isPresent:P,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:P?void 0:M,anchorX:a,anchorY:l,children:C},N)})})},jN=g.createContext({strict:!1}),ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ob=!1;function wA(){if(ob)return;const e={};for(const t in ib)e[t]={isEnabled:s=>ib[t].some(r=>!!s[r])};rN(e),ob=!0}function PN(){return wA(),l6()}function SA(e){const t=PN();for(const s in e)t[s]={...t[s],...e[s]};rN(t)}const CA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Kh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CA.has(e)}let TN=e=>!Kh(e);function kA(e){typeof e=="function"&&(TN=t=>t.startsWith("on")?!Kh(t):e(t))}try{kA(require("@emotion/is-prop-valid").default)}catch{}function EA(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(TN(n)||s===!0&&Kh(n)||!t&&!Kh(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const Bu=g.createContext({});function NA(e,t){if(Au(e)){const{initial:s,animate:r}=e;return{initial:s===!1||sl(s)?s:void 0,animate:sl(r)?r:void 0}}return e.inherit!==!1?t:{}}function jA(e){const{initial:t,animate:s}=NA(e,g.useContext(Bu));return g.useMemo(()=>({initial:t,animate:s}),[ab(t),ab(s)])}function ab(e){return Array.isArray(e)?e.join(" "):e}const I0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LN(e,t,s){for(const r in t)!Et(t[r])&&!hN(r,s)&&(e[r]=t[r])}function PA({transformTemplate:e},t){return g.useMemo(()=>{const s=I0();return D0(s,t,e),Object.assign({},s.vars,s.style)},[t])}function TA(e,t){const s=e.style||{},r={};return LN(r,s,e),Object.assign(r,PA(e,t)),r}function LA(e,t){const s={},r=TA(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const MN=()=>({...I0(),attrs:{}});function MA(e,t,s,r){const n=g.useMemo(()=>{const i=MN();return uN(i,t,fN(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};LN(i,e.style,e),n.style={...i,...n.style}}return n}const OA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $0(e){return typeof e!="string"||e.includes("-")?!1:!!(OA.indexOf(e)>-1||/[A-Z]/u.test(e))}function RA(e,t,s,{latestValues:r},n,i=!1,o){const l=(o??$0(e)?MA:LA)(t,r,n,e),c=EA(t,typeof e=="string",i),u=e!==g.Fragment?{...c,...l,ref:s}:{},{children:d}=t,f=g.useMemo(()=>Et(d)?d.get():d,[d]);return g.createElement(e,{...u,children:f})}function DA({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,n){return{latestValues:AA(s,r,n,e),renderState:t()}}function AA(e,t,s,r){const n={},i=r(e,{});for(const f in i)n[f]=th(i[f]);let{initial:o,animate:a}=e;const l=Au(e),c=sN(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Du(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const p=N0(e,f[m]);if(p){const{transitionEnd:v,transition:y,...x}=p;for(const b in x){let _=x[b];if(Array.isArray(_)){const w=u?_.length-1:0;_=_[w]}_!==null&&(n[b]=_)}for(const b in v)n[b]=v[b]}}}return n}const ON=e=>(t,s)=>{const r=g.useContext(Bu),n=g.useContext(Ru),i=()=>DA(e,t,r,n);return s?i():l0(i)},BA=ON({scrapeMotionValuesFromProps:A0,createRenderState:I0}),IA=ON({scrapeMotionValuesFromProps:pN,createRenderState:MN}),$A=Symbol.for("motionComponentSymbol");function FA(e,t,s){const r=g.useRef(s);g.useInsertionEffect(()=>{r.current=s});const n=g.useRef(null);return g.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(n.current=l)}else n.current?(n.current(),n.current=null):o(i);else o&&(o.current=i)},[t])}const RN=g.createContext({});function ki(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zA(e,t,s,r,n,i){var _,w;const{visualElement:o}=g.useContext(Bu),a=g.useContext(jN),l=g.useContext(Ru),c=g.useContext(B0),u=c.reducedMotion,d=c.skipAnimations,f=g.useRef(null),m=g.useRef(!1);r=r||a.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:i}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const p=f.current,v=g.useContext(RN);p&&!p.projection&&n&&(p.type==="html"||p.type==="svg")&&HA(f.current,s,n,v);const y=g.useRef(!1);g.useInsertionEffect(()=>{p&&y.current&&p.update(s,l)});const x=s[H5],b=g.useRef(!!x&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,x))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,x)));return n5(()=>{m.current=!0,p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),g.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,x)}),b.current=!1),p.enteringChildren=void 0)}),p}function HA(e,t,s,r){const{layoutId:n,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:DN(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||a&&ki(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function DN(e){if(e)return e.options.allowProjection!==!1?e.projection:DN(e.parent)}function Wd(e,{forwardMotionProps:t=!1,type:s}={},r,n){r&&SA(r);const i=s?s==="svg":$0(e),o=i?IA:BA;function a(c,u){let d;const f={...g.useContext(B0),...c,layoutId:VA(c)},{isStatic:m}=f,p=jA(c),v=o(c,m);if(!m&&r5){WA();const y=UA(f);d=y.MeasureLayout,p.visualElement=zA(e,v,f,n,y.ProjectionNode,i)}return h.jsxs(Bu.Provider,{value:p,children:[d&&p.visualElement?h.jsx(d,{visualElement:p.visualElement,...f}):null,RA(e,c,FA(v,p.visualElement,u),v,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=g.forwardRef(a);return l[$A]=e,l}function VA({layoutId:e}){const t=g.useContext(a0).id;return t&&e!==void 0?t+"-"+e:e}function WA(e,t){g.useContext(jN).strict}function UA(e){const t=PN(),{drag:s,layout:r}=t;if(!s&&!r)return{};const n={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function KA(e,t){if(typeof Proxy>"u")return Wd;const s=new Map,r=(i,o)=>Wd(i,o,e,t),n=(i,o)=>r(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?r:(s.has(o)||s.set(o,Wd(o,void 0,e,t)),s.get(o))})}const qA=(e,t)=>t.isSVG??$0(e)?new k6(t):new y6(t,{allowProjection:e!==g.Fragment});class YA extends Cn{constructor(t){super(t),t.animationState||(t.animationState=T6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Du(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let XA=0;class GA extends Cn{constructor(){super(...arguments),this.id=XA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QA={animation:{Feature:YA},exit:{Feature:GA}};function jl(e){return{point:{x:e.pageX,y:e.pageY}}}const ZA=e=>t=>L0(t)&&e(t,jl(t));function Ea(e,t,s,r){return rl(e,t,ZA(s),r)}const AN=({current:e})=>e?e.ownerDocument.defaultView:null,lb=(e,t)=>Math.abs(e-t);function JA(e,t){const s=lb(e.x,t.x),r=lb(e.y,t.y);return Math.sqrt(s**2+r**2)}const cb=new Set(["auto","scroll"]);class BN{constructor(t,s,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Kd(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=JA(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:y}=m,{timestamp:x}=pt;this.history.push({...y,timestamp:x});const{onStart:b,onMove:_}=this.handlers;p||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ud(p,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Kd(m.type==="pointercancel"?this.lastMoveEventInfo:Ud(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,b),y&&y(m,b)},!L0(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const l=jl(t),c=Ud(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=pt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=s;f&&f(t,Kd(c,this.history)),this.removeListeners=kl(Ea(this.contextWindow,"pointermove",this.handlePointerMove),Ea(this.contextWindow,"pointerup",this.handlePointerUp),Ea(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let s=t.parentElement;for(;s;){const r=getComputedStyle(s);(cb.has(r.overflowX)||cb.has(r.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const r=t===window,n=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:n.x-s.x,y:n.y-s.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,n),we.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),vn(this.updatePoint)}}function Ud(e,t){return t?{point:t(e.point)}:e}function hb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kd({point:e},t){return{point:e,delta:hb(e,IN(t)),offset:hb(e,eB(t)),velocity:tB(t,.1)}}function eB(e){return e[0]}function IN(e){return e[e.length-1]}function tB(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=IN(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>nr(t)));)s--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&n.timestamp-r.timestamp>nr(t)*2&&(r=e[1]);const i=ms(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sB(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?Me(s,e,r.max):Math.min(e,s)),e}function ub(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function rB(e,{top:t,left:s,bottom:r,right:n}){return{x:ub(e.x,s,n),y:ub(e.y,t,r)}}function db(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function nB(e,t){return{x:db(e.x,t.x),y:db(e.y,t.y)}}function iB(e,t){let s=.5;const r=Ot(e),n=Ot(t);return n>r?s=Ja(t.min,t.max-r,e.min):r>n&&(s=Ja(e.min,e.max-n,t.min)),lr(0,1,s)}function oB(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const sg=.35;function aB(e=sg){return e===!1?e=0:e===!0&&(e=sg),{x:fb(e,"left","right"),y:fb(e,"top","bottom")}}function fb(e,t,s){return{min:pb(e,t),max:pb(e,s)}}function pb(e,t){return typeof e=="number"?e:e[t]||0}const lB=new WeakMap;class cB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{s&&this.snapToCursor(jl(d).point),this.stopAnimation()},o=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ID(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gs(x=>{let b=this.getAxisMotionValue(x).get()||0;if(ir.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[x];w&&(b=Ot(w)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&we.update(()=>v(d,f),!1,!0),Ym(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=uB(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&we.update(()=>y(d,f),!1,!0)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new BN(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:AN(this.visualElement),element:this.visualElement.current})}stop(t,s){const r=t||this.latestPointerEvent,n=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&we.postRender(()=>a(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!oc(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=sB(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&ki(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rB(r.layoutBox,t):this.constraints=!1,this.elastic=aB(s),n!==this.constraints&&!ki(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&Gs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ki(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=f6(r,n.root,this.visualElement.getTransformPagePoint());let o=nB(n.layout.layoutBox,i);if(s){const a=s(h6(o));this.hasMutatedConstraints=!!a,a&&(o=iN(a))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Gs(u=>{if(!oc(u,s,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=n?200:1e6,m=n?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Ym(this.visualElement,t),r.start(E0(t,r,0,s,this.visualElement,!1))}stopAnimation(){Gs(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gs(s=>{const{drag:r}=this.getProps();if(!oc(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:a}=n.layout.layoutBox[s],l=i.get()||0;i.set(t[s]-Me(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ki(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Gs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();n[o]=iB({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Gs(o=>{if(!oc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Me(l,c,n[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;lB.set(this.visualElement,this);const t=this.visualElement.current,s=Ea(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps(),f=c.target,m=f!==t&&WD(f);u&&d&&!m&&this.start(c)});let r;const n=()=>{const{dragConstraints:c}=this.getProps();ki(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),r||(r=hB(t,c.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),we.read(n);const a=rl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),l&&l(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=sg,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function mb(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function hB(e,t,s){const r=w_(e,mb(s)),n=w_(t,mb(s));return()=>{r(),n()}}function oc(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function uB(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class dB extends Cn{constructor(t){super(t),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new cB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const qd=e=>(t,s)=>{e&&we.update(()=>e(t,s),!1,!0)};class fB extends Cn{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(t){this.session=new BN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:qd(t),onStart:qd(s),onMove:qd(r),onEnd:(i,o)=>{delete this.session,n&&we.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=Ea(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Yd=!1;class pB extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;i&&(s.group&&s.group.add(i),r&&r.register&&n&&r.register(i),Yd&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,t.layoutDependency!==s&&o.setOptions({...o.options,layoutDependency:s}),Yd=!0,n||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;Yd=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $N(e){const[t,s]=NN(),r=g.useContext(a0);return h.jsx(pB,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(RN),isPresent:t,safeToRemove:s})}const mB={pan:{Feature:fB},drag:{Feature:dB,ProjectionNode:EN,MeasureLayout:$N}};function gb(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,i=r[n];i&&we.postRender(()=>i(t,jl(t)))}class gB extends Cn{mount(){const{current:t}=this.node;t&&(this.unmount=FD(t,(s,r)=>(gb(this.node,r,"Start"),n=>gb(this.node,n,"End"))))}unmount(){}}class vB extends Cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kl(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vb(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),i=r[n];i&&we.postRender(()=>i(t,jl(t)))}class xB extends Cn{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:s,propagate:r}=this.node.props;this.unmount=KD(t,(n,i)=>(vb(this.node,i,"Start"),(o,{success:a})=>vb(this.node,o,a?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const rg=new WeakMap,Xd=new WeakMap,yB=e=>{const t=rg.get(e.target);t&&t(e)},_B=e=>{e.forEach(yB)};function bB({root:e,...t}){const s=e||document;Xd.has(s)||Xd.set(s,{});const r=Xd.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(_B,{root:e,...t})),r[n]}function wB(e,t,s){const r=bB(t);return rg.set(e,s),r.observe(e),()=>{rg.delete(e),r.unobserve(e)}}const SB={some:0,all:1};class CB extends Cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:SB[n]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return wB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(kB(t,s))&&this.startObserver()}unmount(){}}function kB({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const EB={inView:{Feature:CB},tap:{Feature:xB},focus:{Feature:vB},hover:{Feature:gB}},NB={layout:{ProjectionNode:EN,MeasureLayout:$N}},jB={...QA,...EB,...mB,...NB},re=KA(jB,qA),ee=gl.createContext({});var PB=Object.defineProperty,xb=Object.getOwnPropertySymbols,TB=Object.prototype.hasOwnProperty,LB=Object.prototype.propertyIsEnumerable,yb=(e,t,s)=>t in e?PB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Gd=(e,t)=>{for(var s in t||(t={}))TB.call(t,s)&&yb(e,s,t[s]);if(xb)for(var s of xb(t))LB.call(t,s)&&yb(e,s,t[s]);return e};const MB=(e,t)=>{const s=g.useContext(ee),r=Gd(Gd({},s),e);return g.createElement("svg",Gd({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M3 12H6L9 3L15 21L18 12H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},OB=g.forwardRef(MB);var F0=OB,RB=Object.defineProperty,_b=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,AB=Object.prototype.propertyIsEnumerable,bb=(e,t,s)=>t in e?RB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Qd=(e,t)=>{for(var s in t||(t={}))DB.call(t,s)&&bb(e,s,t[s]);if(_b)for(var s of _b(t))AB.call(t,s)&&bb(e,s,t[s]);return e};const BB=(e,t)=>{const s=g.useContext(ee),r=Qd(Qd({},s),e);return g.createElement("svg",Qd({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M21 12L3 12M3 12L11.5 3.5M3 12L11.5 20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},IB=g.forwardRef(BB);var FN=IB,$B=Object.defineProperty,wb=Object.getOwnPropertySymbols,FB=Object.prototype.hasOwnProperty,zB=Object.prototype.propertyIsEnumerable,Sb=(e,t,s)=>t in e?$B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Zd=(e,t)=>{for(var s in t||(t={}))FB.call(t,s)&&Sb(e,s,t[s]);if(wb)for(var s of wb(t))zB.call(t,s)&&Sb(e,s,t[s]);return e};const HB=(e,t)=>{const s=g.useContext(ee),r=Zd(Zd({},s),e);return g.createElement("svg",Zd({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 16V8M12 8L15.5 11.5M12 8L8.5 11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},VB=g.forwardRef(HB);var zN=VB,WB=Object.defineProperty,Cb=Object.getOwnPropertySymbols,UB=Object.prototype.hasOwnProperty,KB=Object.prototype.propertyIsEnumerable,kb=(e,t,s)=>t in e?WB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Jd=(e,t)=>{for(var s in t||(t={}))UB.call(t,s)&&kb(e,s,t[s]);if(Cb)for(var s of Cb(t))KB.call(t,s)&&kb(e,s,t[s]);return e};const qB=(e,t)=>{const s=g.useContext(ee),r=Jd(Jd({},s),e);return g.createElement("svg",Jd({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6.00005 19L19 5.99996M19 5.99996V18.48M19 5.99996H6.52005",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},YB=g.forwardRef(qB);var HN=YB,XB=Object.defineProperty,Eb=Object.getOwnPropertySymbols,GB=Object.prototype.hasOwnProperty,QB=Object.prototype.propertyIsEnumerable,Nb=(e,t,s)=>t in e?XB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ef=(e,t)=>{for(var s in t||(t={}))GB.call(t,s)&&Nb(e,s,t[s]);if(Eb)for(var s of Eb(t))QB.call(t,s)&&Nb(e,s,t[s]);return e};const ZB=(e,t)=>{const s=g.useContext(ee),r=ef(ef({},s),e);return g.createElement("svg",ef({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M7 12.5L10 15.5L17 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},JB=g.forwardRef(ZB);var VN=JB,e8=Object.defineProperty,jb=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,s8=Object.prototype.propertyIsEnumerable,Pb=(e,t,s)=>t in e?e8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,tf=(e,t)=>{for(var s in t||(t={}))t8.call(t,s)&&Pb(e,s,t[s]);if(jb)for(var s of jb(t))s8.call(t,s)&&Pb(e,s,t[s]);return e};const r8=(e,t)=>{const s=g.useContext(ee),r=tf(tf({},s),e);return g.createElement("svg",tf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},n8=g.forwardRef(r8);var ye=n8,i8=Object.defineProperty,Tb=Object.getOwnPropertySymbols,o8=Object.prototype.hasOwnProperty,a8=Object.prototype.propertyIsEnumerable,Lb=(e,t,s)=>t in e?i8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,sf=(e,t)=>{for(var s in t||(t={}))o8.call(t,s)&&Lb(e,s,t[s]);if(Tb)for(var s of Tb(t))a8.call(t,s)&&Lb(e,s,t[s]);return e};const l8=(e,t)=>{const s=g.useContext(ee),r=sf(sf({},s),e);return g.createElement("svg",sf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 6L12 12L18 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},c8=g.forwardRef(l8);var WN=c8,h8=Object.defineProperty,Mb=Object.getOwnPropertySymbols,u8=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,Ob=(e,t,s)=>t in e?h8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,rf=(e,t)=>{for(var s in t||(t={}))u8.call(t,s)&&Ob(e,s,t[s]);if(Mb)for(var s of Mb(t))d8.call(t,s)&&Ob(e,s,t[s]);return e};const f8=(e,t)=>{const s=g.useContext(ee),r=rf(rf({},s),e);return g.createElement("svg",rf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M19.4 20H9.6C9.26863 20 9 19.7314 9 19.4V9.6C9 9.26863 9.26863 9 9.6 9H19.4C19.7314 9 20 9.26863 20 9.6V19.4C20 19.7314 19.7314 20 19.4 20Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M15 9V4.6C15 4.26863 14.7314 4 14.4 4H4.6C4.26863 4 4 4.26863 4 4.6V14.4C4 14.7314 4.26863 15 4.6 15H9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},p8=g.forwardRef(f8);var ei=p8,m8=Object.defineProperty,Rb=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,v8=Object.prototype.propertyIsEnumerable,Db=(e,t,s)=>t in e?m8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,nf=(e,t)=>{for(var s in t||(t={}))g8.call(t,s)&&Db(e,s,t[s]);if(Rb)for(var s of Rb(t))v8.call(t,s)&&Db(e,s,t[s]);return e};const x8=(e,t)=>{const s=g.useContext(ee),r=nf(nf({},s),e);return g.createElement("svg",nf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M8 15.4V8.6C8 8.26863 8.26863 8 8.6 8H15.4C15.7314 8 16 8.26863 16 8.6V15.4C16 15.7314 15.7314 16 15.4 16H8.6C8.26863 16 8 15.7314 8 15.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 4.6V19.4C20 19.7314 19.7314 20 19.4 20H4.6C4.26863 20 4 19.7314 4 19.4V4.6C4 4.26863 4.26863 4 4.6 4H19.4C19.7314 4 20 4.26863 20 4.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 4V2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 4V2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 4V2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 20V22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 20V22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 20V22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 17H22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 12H22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 7H22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 17H2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 12H2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 7H2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},y8=g.forwardRef(x8);var z0=y8,_8=Object.defineProperty,Ab=Object.getOwnPropertySymbols,b8=Object.prototype.hasOwnProperty,w8=Object.prototype.propertyIsEnumerable,Bb=(e,t,s)=>t in e?_8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,of=(e,t)=>{for(var s in t||(t={}))b8.call(t,s)&&Bb(e,s,t[s]);if(Ab)for(var s of Ab(t))w8.call(t,s)&&Bb(e,s,t[s]);return e};const S8=(e,t)=>{const s=g.useContext(ee),r=of(of({},s),e);return g.createElement("svg",of({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 20L18 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 4V16M12 16L15.5 12.5M12 16L8.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},C8=g.forwardRef(S8);var nl=C8,k8=Object.defineProperty,Ib=Object.getOwnPropertySymbols,E8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,$b=(e,t,s)=>t in e?k8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,af=(e,t)=>{for(var s in t||(t={}))E8.call(t,s)&&$b(e,s,t[s]);if(Ib)for(var s of Ib(t))N8.call(t,s)&&$b(e,s,t[s]);return e};const j8=(e,t)=>{const s=g.useContext(ee),r=af(af({},s),e);return g.createElement("svg",af({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M14.3632 5.65156L15.8431 4.17157C16.6242 3.39052 17.8905 3.39052 18.6716 4.17157L20.0858 5.58579C20.8668 6.36683 20.8668 7.63316 20.0858 8.41421L18.6058 9.8942M14.3632 5.65156L4.74749 15.2672C4.41542 15.5993 4.21079 16.0376 4.16947 16.5054L3.92738 19.2459C3.87261 19.8659 4.39148 20.3848 5.0115 20.33L7.75191 20.0879C8.21972 20.0466 8.65806 19.8419 8.99013 19.5099L18.6058 9.8942M14.3632 5.65156L18.6058 9.8942",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},P8=g.forwardRef(j8);var Fb=P8,T8=Object.defineProperty,zb=Object.getOwnPropertySymbols,L8=Object.prototype.hasOwnProperty,M8=Object.prototype.propertyIsEnumerable,Hb=(e,t,s)=>t in e?T8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,lf=(e,t)=>{for(var s in t||(t={}))L8.call(t,s)&&Hb(e,s,t[s]);if(zb)for(var s of zb(t))M8.call(t,s)&&Hb(e,s,t[s]);return e};const O8=(e,t)=>{const s=g.useContext(ee),r=lf(lf({},s),e);return g.createElement("svg",lf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M7 19.4V4.6C7 4.26863 7.26863 4 7.6 4H16.4C16.7314 4 17 4.26863 17 4.6V19.4C17 19.7314 16.7314 20 16.4 20H7.6C7.26863 20 7 19.7314 7 19.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 20V22.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10 20V22.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 4V1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10 4V1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 12H4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19.5 12H17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 6.5H4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19.5 6.5H17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 17.5H4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19.5 17.5H17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},R8=g.forwardRef(O8);var H0=R8,D8=Object.defineProperty,Vb=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,B8=Object.prototype.propertyIsEnumerable,Wb=(e,t,s)=>t in e?D8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,cf=(e,t)=>{for(var s in t||(t={}))A8.call(t,s)&&Wb(e,s,t[s]);if(Vb)for(var s of Vb(t))B8.call(t,s)&&Wb(e,s,t[s]);return e};const I8=(e,t)=>{const s=g.useContext(ee),r=cf(cf({},s),e);return g.createElement("svg",cf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M19.5 16L17.0248 12.6038",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 17.5V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4.5 16L6.96895 12.6124",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 8C6.6 16 17.4 16 21 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},$8=g.forwardRef(I8);var F8=$8,z8=Object.defineProperty,Ub=Object.getOwnPropertySymbols,H8=Object.prototype.hasOwnProperty,V8=Object.prototype.propertyIsEnumerable,Kb=(e,t,s)=>t in e?z8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,hf=(e,t)=>{for(var s in t||(t={}))H8.call(t,s)&&Kb(e,s,t[s]);if(Ub)for(var s of Ub(t))V8.call(t,s)&&Kb(e,s,t[s]);return e};const W8=(e,t)=>{const s=g.useContext(ee),r=hf(hf({},s),e);return g.createElement("svg",hf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M3 13C6.6 5 17.4 5 21 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},U8=g.forwardRef(W8);var K8=U8,q8=Object.defineProperty,qb=Object.getOwnPropertySymbols,Y8=Object.prototype.hasOwnProperty,X8=Object.prototype.propertyIsEnumerable,Yb=(e,t,s)=>t in e?q8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,uf=(e,t)=>{for(var s in t||(t={}))Y8.call(t,s)&&Yb(e,s,t[s]);if(qb)for(var s of qb(t))X8.call(t,s)&&Yb(e,s,t[s]);return e};const G8=(e,t)=>{const s=g.useContext(ee),r=uf(uf({},s),e);return g.createElement("svg",uf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M3.99961 3H19.9997C20.552 3 20.9997 3.44764 20.9997 3.99987L20.9999 5.58569C21 5.85097 20.8946 6.10538 20.707 6.29295L14.2925 12.7071C14.105 12.8946 13.9996 13.149 13.9996 13.4142L13.9996 19.7192C13.9996 20.3698 13.3882 20.8472 12.7571 20.6894L10.7571 20.1894C10.3119 20.0781 9.99961 19.6781 9.99961 19.2192L9.99961 13.4142C9.99961 13.149 9.89425 12.8946 9.70672 12.7071L3.2925 6.29289C3.10496 6.10536 2.99961 5.851 2.99961 5.58579V4C2.99961 3.44772 3.44732 3 3.99961 3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Q8=g.forwardRef(G8);var UN=Q8,Z8=Object.defineProperty,Xb=Object.getOwnPropertySymbols,J8=Object.prototype.hasOwnProperty,eI=Object.prototype.propertyIsEnumerable,Gb=(e,t,s)=>t in e?Z8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,df=(e,t)=>{for(var s in t||(t={}))J8.call(t,s)&&Gb(e,s,t[s]);if(Xb)for(var s of Xb(t))eI.call(t,s)&&Gb(e,s,t[s]);return e};const tI=(e,t)=>{const s=g.useContext(ee),r=df(df({},s),e);return g.createElement("svg",df({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M13 10V3L5 14H11V21L19 10H13Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},sI=g.forwardRef(tI);var Pl=sI,rI=Object.defineProperty,Qb=Object.getOwnPropertySymbols,nI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable,Zb=(e,t,s)=>t in e?rI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ff=(e,t)=>{for(var s in t||(t={}))nI.call(t,s)&&Zb(e,s,t[s]);if(Qb)for(var s of Qb(t))iI.call(t,s)&&Zb(e,s,t[s]);return e};const oI=(e,t)=>{const s=g.useContext(ee),r=ff(ff({},s),e);return g.createElement("svg",ff({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M3 19V5C3 3.89543 3.89543 3 5 3H16.1716C16.702 3 17.2107 3.21071 17.5858 3.58579L20.4142 6.41421C20.7893 6.78929 21 7.29799 21 7.82843V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19Z",stroke:"currentColor"}),g.createElement("path",{d:"M8.6 9H15.4C15.7314 9 16 8.73137 16 8.4V3.6C16 3.26863 15.7314 3 15.4 3H8.6C8.26863 3 8 3.26863 8 3.6V8.4C8 8.73137 8.26863 9 8.6 9Z",stroke:"currentColor"}),g.createElement("path",{d:"M6 13.6V21H18V13.6C18 13.2686 17.7314 13 17.4 13H6.6C6.26863 13 6 13.2686 6 13.6Z",stroke:"currentColor"}))},aI=g.forwardRef(oI);var Jb=aI,lI=Object.defineProperty,e1=Object.getOwnPropertySymbols,cI=Object.prototype.hasOwnProperty,hI=Object.prototype.propertyIsEnumerable,t1=(e,t,s)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,pf=(e,t)=>{for(var s in t||(t={}))cI.call(t,s)&&t1(e,s,t[s]);if(e1)for(var s of e1(t))hI.call(t,s)&&t1(e,s,t[s]);return e};const uI=(e,t)=>{const s=g.useContext(ee),r=pf(pf({},s),e);return g.createElement("svg",pf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M1 20V19C1 15.134 4.13401 12 8 12V12C11.866 12 15 15.134 15 19V20",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M13 14V14C13 11.2386 15.2386 9 18 9V9C20.7614 9 23 11.2386 23 14V14.5",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 9C19.6569 9 21 7.65685 21 6C21 4.34315 19.6569 3 18 3C16.3431 3 15 4.34315 15 6C15 7.65685 16.3431 9 18 9Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},dI=g.forwardRef(uI);var V0=dI,fI=Object.defineProperty,s1=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,mI=Object.prototype.propertyIsEnumerable,r1=(e,t,s)=>t in e?fI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,mf=(e,t)=>{for(var s in t||(t={}))pI.call(t,s)&&r1(e,s,t[s]);if(s1)for(var s of s1(t))mI.call(t,s)&&r1(e,s,t[s]);return e};const gI=(e,t)=>{const s=g.useContext(ee),r=mf(mf({},s),e);return g.createElement("svg",mf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M10 17.01L10.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 17.01L6.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 13V20.4C2 20.7314 2.26863 21 2.6 21H21.4C21.7314 21 22 20.7314 22 20.4V13M2 13H22M2 13L4.87172 3.42759C4.94786 3.1738 5.18145 3 5.44642 3H18.5536C18.8185 3 19.0521 3.1738 19.1283 3.42759L22 13",stroke:"currentColor"}))},vI=g.forwardRef(gI);var xI=vI,yI=Object.defineProperty,n1=Object.getOwnPropertySymbols,_I=Object.prototype.hasOwnProperty,bI=Object.prototype.propertyIsEnumerable,i1=(e,t,s)=>t in e?yI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,gf=(e,t)=>{for(var s in t||(t={}))_I.call(t,s)&&i1(e,s,t[s]);if(n1)for(var s of n1(t))bI.call(t,s)&&i1(e,s,t[s]);return e};const wI=(e,t)=>{const s=g.useContext(ee),r=gf(gf({},s),e);return g.createElement("svg",gf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 11.5V16.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 7.51L12.01 7.49889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},SI=g.forwardRef(wI);var o1=SI,CI=Object.defineProperty,a1=Object.getOwnPropertySymbols,kI=Object.prototype.hasOwnProperty,EI=Object.prototype.propertyIsEnumerable,l1=(e,t,s)=>t in e?CI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,vf=(e,t)=>{for(var s in t||(t={}))kI.call(t,s)&&l1(e,s,t[s]);if(a1)for(var s of a1(t))EI.call(t,s)&&l1(e,s,t[s]);return e};const NI=(e,t)=>{const s=g.useContext(ee),r=vf(vf({},s),e);return g.createElement("svg",vf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M4 6H20C21.1046 6 22 6.89543 22 8V16C22 17.1046 21.1046 18 20 18H4C2.89543 18 2 17.1046 2 16V8C2 6.89543 2.89543 6 4 6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5 8.5H6.5M8 8.5H6.5M6.5 8.5V15.5M6.5 15.5H5M6.5 15.5H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},jI=g.forwardRef(NI);var KN=jI,PI=Object.defineProperty,c1=Object.getOwnPropertySymbols,TI=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,h1=(e,t,s)=>t in e?PI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,xf=(e,t)=>{for(var s in t||(t={}))TI.call(t,s)&&h1(e,s,t[s]);if(c1)for(var s of c1(t))LI.call(t,s)&&h1(e,s,t[s]);return e};const MI=(e,t)=>{const s=g.useContext(ee),r=xf(xf({},s),e);return g.createElement("svg",xf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M10 12C10 14.2091 8.20914 16 6 16C3.79086 16 2 14.2091 2 12C2 9.79086 3.79086 8 6 8C8.20914 8 10 9.79086 10 12ZM10 12H22V15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 12V15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},OI=g.forwardRef(MI);var Ss=OI,RI=Object.defineProperty,u1=Object.getOwnPropertySymbols,DI=Object.prototype.hasOwnProperty,AI=Object.prototype.propertyIsEnumerable,d1=(e,t,s)=>t in e?RI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,yf=(e,t)=>{for(var s in t||(t={}))DI.call(t,s)&&d1(e,s,t[s]);if(u1)for(var s of u1(t))AI.call(t,s)&&d1(e,s,t[s]);return e};const BI=(e,t)=>{const s=g.useContext(ee),r=yf(yf({},s),e);return g.createElement("svg",yf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M8 6L20 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 6.01L4.01 5.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 12.01L4.01 11.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 18.01L4.01 17.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 12L20 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 18L20 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},II=g.forwardRef(BI);var ng=II,$I=Object.defineProperty,f1=Object.getOwnPropertySymbols,FI=Object.prototype.hasOwnProperty,zI=Object.prototype.propertyIsEnumerable,p1=(e,t,s)=>t in e?$I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,_f=(e,t)=>{for(var s in t||(t={}))FI.call(t,s)&&p1(e,s,t[s]);if(f1)for(var s of f1(t))zI.call(t,s)&&p1(e,s,t[s]);return e};const HI=(e,t)=>{const s=g.useContext(ee),r=_f(_f({},s),e);return g.createElement("svg",_f({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12M16 12H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},VI=g.forwardRef(HI);var ci=VI,WI=Object.defineProperty,m1=Object.getOwnPropertySymbols,UI=Object.prototype.hasOwnProperty,KI=Object.prototype.propertyIsEnumerable,g1=(e,t,s)=>t in e?WI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,bf=(e,t)=>{for(var s in t||(t={}))UI.call(t,s)&&g1(e,s,t[s]);if(m1)for(var s of m1(t))KI.call(t,s)&&g1(e,s,t[s]);return e};const qI=(e,t)=>{const s=g.useContext(ee),r=bf(bf({},s),e);return g.createElement("svg",bf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 12H19M19 12L16 15M19 12L16 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19 6V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},YI=g.forwardRef(qI);var v1=YI,XI=Object.defineProperty,x1=Object.getOwnPropertySymbols,GI=Object.prototype.hasOwnProperty,QI=Object.prototype.propertyIsEnumerable,y1=(e,t,s)=>t in e?XI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,wf=(e,t)=>{for(var s in t||(t={}))GI.call(t,s)&&y1(e,s,t[s]);if(x1)for(var s of x1(t))QI.call(t,s)&&y1(e,s,t[s]);return e};const ZI=(e,t)=>{const s=g.useContext(ee),r=wf(wf({},s),e);return g.createElement("svg",wf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M3 5H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 12H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},JI=g.forwardRef(ZI);var e$=JI,t$=Object.defineProperty,_1=Object.getOwnPropertySymbols,s$=Object.prototype.hasOwnProperty,r$=Object.prototype.propertyIsEnumerable,b1=(e,t,s)=>t in e?t$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Sf=(e,t)=>{for(var s in t||(t={}))s$.call(t,s)&&b1(e,s,t[s]);if(_1)for(var s of _1(t))r$.call(t,s)&&b1(e,s,t[s]);return e};const n$=(e,t)=>{const s=g.useContext(ee),r=Sf(Sf({},s),e);return g.createElement("svg",Sf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},i$=g.forwardRef(n$);var o$=i$,a$=Object.defineProperty,w1=Object.getOwnPropertySymbols,l$=Object.prototype.hasOwnProperty,c$=Object.prototype.propertyIsEnumerable,S1=(e,t,s)=>t in e?a$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Cf=(e,t)=>{for(var s in t||(t={}))l$.call(t,s)&&S1(e,s,t[s]);if(w1)for(var s of w1(t))c$.call(t,s)&&S1(e,s,t[s]);return e};const h$=(e,t)=>{const s=g.useContext(ee),r=Cf(Cf({},s),e);return g.createElement("svg",Cf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M15 6L9 12L15 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},u$=g.forwardRef(h$);var d$=u$,f$=Object.defineProperty,C1=Object.getOwnPropertySymbols,p$=Object.prototype.hasOwnProperty,m$=Object.prototype.propertyIsEnumerable,k1=(e,t,s)=>t in e?f$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,kf=(e,t)=>{for(var s in t||(t={}))p$.call(t,s)&&k1(e,s,t[s]);if(C1)for(var s of C1(t))m$.call(t,s)&&k1(e,s,t[s]);return e};const g$=(e,t)=>{const s=g.useContext(ee),r=kf(kf({},s),e);return g.createElement("svg",kf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M9 6L15 12L9 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},v$=g.forwardRef(g$);var x$=v$,y$=Object.defineProperty,E1=Object.getOwnPropertySymbols,_$=Object.prototype.hasOwnProperty,b$=Object.prototype.propertyIsEnumerable,N1=(e,t,s)=>t in e?y$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ef=(e,t)=>{for(var s in t||(t={}))_$.call(t,s)&&N1(e,s,t[s]);if(E1)for(var s of E1(t))b$.call(t,s)&&N1(e,s,t[s]);return e};const w$=(e,t)=>{const s=g.useContext(ee),r=Ef(Ef({},s),e);return g.createElement("svg",Ef({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},S$=g.forwardRef(w$);var C$=S$,k$=Object.defineProperty,j1=Object.getOwnPropertySymbols,E$=Object.prototype.hasOwnProperty,N$=Object.prototype.propertyIsEnumerable,P1=(e,t,s)=>t in e?k$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Nf=(e,t)=>{for(var s in t||(t={}))E$.call(t,s)&&P1(e,s,t[s]);if(j1)for(var s of j1(t))N$.call(t,s)&&P1(e,s,t[s]);return e};const j$=(e,t)=>{const s=g.useContext(ee),r=Nf(Nf({},s),e);return g.createElement("svg",Nf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M21 3L15 3M21 3L12 12M21 3V9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H11",stroke:"currentColor",strokeLinecap:"round"}))},P$=g.forwardRef(j$);var T$=P$,L$=Object.defineProperty,T1=Object.getOwnPropertySymbols,M$=Object.prototype.hasOwnProperty,O$=Object.prototype.propertyIsEnumerable,L1=(e,t,s)=>t in e?L$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,jf=(e,t)=>{for(var s in t||(t={}))M$.call(t,s)&&L1(e,s,t[s]);if(T1)for(var s of T1(t))O$.call(t,s)&&L1(e,s,t[s]);return e};const R$=(e,t)=>{const s=g.useContext(ee),r=jf(jf({},s),e);return g.createElement("svg",jf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M4 21.4V2.6C4 2.26863 4.26863 2 4.6 2H16.2515C16.4106 2 16.5632 2.06321 16.6757 2.17574L19.8243 5.32426C19.9368 5.43679 20 5.5894 20 5.74853V21.4C20 21.7314 19.7314 22 19.4 22H4.6C4.26863 22 4 21.7314 4 21.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 10L16 10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 18L16 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 14L12 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},D$=g.forwardRef(R$);var qh=D$,A$=Object.defineProperty,M1=Object.getOwnPropertySymbols,B$=Object.prototype.hasOwnProperty,I$=Object.prototype.propertyIsEnumerable,O1=(e,t,s)=>t in e?A$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pf=(e,t)=>{for(var s in t||(t={}))B$.call(t,s)&&O1(e,s,t[s]);if(M1)for(var s of M1(t))I$.call(t,s)&&O1(e,s,t[s]);return e};const $$=(e,t)=>{const s=g.useContext(ee),r=Pf(Pf({},s),e);return g.createElement("svg",Pf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M20.5096 9.54C20.4243 9.77932 20.2918 9.99909 20.12 10.1863C19.9483 10.3735 19.7407 10.5244 19.5096 10.63C18.2796 11.1806 17.2346 12.0745 16.5002 13.2045C15.7659 14.3345 15.3733 15.6524 15.3696 17C15.3711 17.4701 15.418 17.9389 15.5096 18.4C15.5707 18.6818 15.5747 18.973 15.5215 19.2564C15.4682 19.5397 15.3588 19.8096 15.1996 20.05C15.0649 20.2604 14.8877 20.4403 14.6793 20.5781C14.4709 20.7158 14.2359 20.8085 13.9896 20.85C13.4554 20.9504 12.9131 21.0006 12.3696 21C11.1638 21.0006 9.97011 20.7588 8.85952 20.2891C7.74893 19.8194 6.74405 19.1314 5.90455 18.2657C5.06506 17.4001 4.40807 16.3747 3.97261 15.2502C3.53714 14.1257 3.33208 12.9252 3.36959 11.72C3.4472 9.47279 4.3586 7.33495 5.92622 5.72296C7.49385 4.11097 9.60542 3.14028 11.8496 3H12.3596C14.0353 3.00042 15.6777 3.46869 17.1017 4.35207C18.5257 5.23544 19.6748 6.49885 20.4196 8C20.6488 8.47498 20.6812 9.02129 20.5096 9.52V9.54Z",stroke:"currentColor"}),g.createElement("path",{d:"M8 16.01L8.01 15.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 12.01L6.01 11.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 8.01L8.01 7.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 6.01L12.01 5.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16 8.01L16.01 7.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},F$=g.forwardRef($$);var Iu=F$,z$=Object.defineProperty,R1=Object.getOwnPropertySymbols,H$=Object.prototype.hasOwnProperty,V$=Object.prototype.propertyIsEnumerable,D1=(e,t,s)=>t in e?z$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Tf=(e,t)=>{for(var s in t||(t={}))H$.call(t,s)&&D1(e,s,t[s]);if(R1)for(var s of R1(t))V$.call(t,s)&&D1(e,s,t[s]);return e};const W$=(e,t)=>{const s=g.useContext(ee),r=Tf(Tf({},s),e);return g.createElement("svg",Tf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 18.4V5.6C6 5.26863 6.26863 5 6.6 5H9.4C9.73137 5 10 5.26863 10 5.6V18.4C10 18.7314 9.73137 19 9.4 19H6.6C6.26863 19 6 18.7314 6 18.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M14 18.4V5.6C14 5.26863 14.2686 5 14.6 5H17.4C17.7314 5 18 5.26863 18 5.6V18.4C18 18.7314 17.7314 19 17.4 19H14.6C14.2686 19 14 18.7314 14 18.4Z",stroke:"currentColor"}))},U$=g.forwardRef(W$);var K$=U$,q$=Object.defineProperty,A1=Object.getOwnPropertySymbols,Y$=Object.prototype.hasOwnProperty,X$=Object.prototype.propertyIsEnumerable,B1=(e,t,s)=>t in e?q$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Lf=(e,t)=>{for(var s in t||(t={}))Y$.call(t,s)&&B1(e,s,t[s]);if(A1)for(var s of A1(t))X$.call(t,s)&&B1(e,s,t[s]);return e};const G$=(e,t)=>{const s=g.useContext(ee),r=Lf(Lf({},s),e);return g.createElement("svg",Lf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Q$=g.forwardRef(G$);var qN=Q$,Z$=Object.defineProperty,I1=Object.getOwnPropertySymbols,J$=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,$1=(e,t,s)=>t in e?Z$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mf=(e,t)=>{for(var s in t||(t={}))J$.call(t,s)&&$1(e,s,t[s]);if(I1)for(var s of I1(t))eF.call(t,s)&&$1(e,s,t[s]);return e};const tF=(e,t)=>{const s=g.useContext(ee),r=Mf(Mf({},s),e);return g.createElement("svg",Mf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M15 12L15 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 3V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 12L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 18L21 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 21H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 12H9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 6.01111L6.01 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 12.0111L12.01 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 12.0111L3.01 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 9.01111L12.01 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 15.0111L12.01 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M15 21.0111L15.01 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 21.0111L12.01 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 12.0111L21.01 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 15.0111L21.01 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 6.01111L18.01 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9 3.6V8.4C9 8.73137 8.73137 9 8.4 9H3.6C3.26863 9 3 8.73137 3 8.4V3.6C3 3.26863 3.26863 3 3.6 3H8.4C8.73137 3 9 3.26863 9 3.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 3.6V8.4C21 8.73137 20.7314 9 20.4 9H15.6C15.2686 9 15 8.73137 15 8.4V3.6C15 3.26863 15.2686 3 15.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 18.0111L6.01 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9 15.6V20.4C9 20.7314 8.73137 21 8.4 21H3.6C3.26863 21 3 20.7314 3 20.4V15.6C3 15.2686 3.26863 15 3.6 15H8.4C8.73137 15 9 15.2686 9 15.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},sF=g.forwardRef(tF);var rF=sF,nF=Object.defineProperty,F1=Object.getOwnPropertySymbols,iF=Object.prototype.hasOwnProperty,oF=Object.prototype.propertyIsEnumerable,z1=(e,t,s)=>t in e?nF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Of=(e,t)=>{for(var s in t||(t={}))iF.call(t,s)&&z1(e,s,t[s]);if(F1)for(var s of F1(t))oF.call(t,s)&&z1(e,s,t[s]);return e};const aF=(e,t)=>{const s=g.useContext(ee),r=Of(Of({},s),e);return g.createElement("svg",Of({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M21.1679 8C19.6247 4.46819 16.1006 2 11.9999 2C6.81459 2 2.55104 5.94668 2.04932 11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2.88146 16C4.42458 19.5318 7.94874 22 12.0494 22C17.2347 22 21.4983 18.0533 22 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.04932 16H2.64932C2.31795 16 2.04932 16.2686 2.04932 16.6V21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},lF=g.forwardRef(aF);var ac=lF,cF=Object.defineProperty,H1=Object.getOwnPropertySymbols,hF=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable,V1=(e,t,s)=>t in e?cF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Rf=(e,t)=>{for(var s in t||(t={}))hF.call(t,s)&&V1(e,s,t[s]);if(H1)for(var s of H1(t))uF.call(t,s)&&V1(e,s,t[s]);return e};const dF=(e,t)=>{const s=g.useContext(ee),r=Rf(Rf({},s),e);return g.createElement("svg",Rf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M21.8883 13.5C21.1645 18.3113 17.013 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C16.1006 2 19.6248 4.46819 21.1679 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},fF=g.forwardRef(dF);var $u=fF,pF=Object.defineProperty,W1=Object.getOwnPropertySymbols,mF=Object.prototype.hasOwnProperty,gF=Object.prototype.propertyIsEnumerable,U1=(e,t,s)=>t in e?pF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Df=(e,t)=>{for(var s in t||(t={}))mF.call(t,s)&&U1(e,s,t[s]);if(W1)for(var s of W1(t))gF.call(t,s)&&U1(e,s,t[s]);return e};const vF=(e,t)=>{const s=g.useContext(ee),r=Df(Df({},s),e);return g.createElement("svg",Df({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M17 17L21 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 11C3 15.4183 6.58172 19 11 19C13.213 19 15.2161 18.1015 16.6644 16.6493C18.1077 15.2022 19 13.2053 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},xF=g.forwardRef(vF);var YN=xF,yF=Object.defineProperty,K1=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,bF=Object.prototype.propertyIsEnumerable,q1=(e,t,s)=>t in e?yF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Af=(e,t)=>{for(var s in t||(t={}))_F.call(t,s)&&q1(e,s,t[s]);if(K1)for(var s of K1(t))bF.call(t,s)&&q1(e,s,t[s]);return e};const wF=(e,t)=>{const s=g.useContext(ee),r=Af(Af({},s),e);return g.createElement("svg",Af({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M22.1525 3.55321L11.1772 21.0044L9.50686 12.4078L2.00002 7.89795L22.1525 3.55321Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9.45557 12.4436L22.1524 3.55321",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},SF=g.forwardRef(wF);var W0=SF,CF=Object.defineProperty,Y1=Object.getOwnPropertySymbols,kF=Object.prototype.hasOwnProperty,EF=Object.prototype.propertyIsEnumerable,X1=(e,t,s)=>t in e?CF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Bf=(e,t)=>{for(var s in t||(t={}))kF.call(t,s)&&X1(e,s,t[s]);if(Y1)for(var s of Y1(t))EF.call(t,s)&&X1(e,s,t[s]);return e};const NF=(e,t)=>{const s=g.useContext(ee),r=Bf(Bf({},s),e);return g.createElement("svg",Bf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 18.01L6.01 17.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 6.01L6.01 5.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 9.4V2.6C2 2.26863 2.26863 2 2.6 2H21.4C21.7314 2 22 2.26863 22 2.6V9.4C22 9.73137 21.7314 10 21.4 10H2.6C2.26863 10 2 9.73137 2 9.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M2 21.4V14.6C2 14.2686 2.26863 14 2.6 14H21.4C21.7314 14 22 14.2686 22 14.6V21.4C22 21.7314 21.7314 22 21.4 22H2.6C2.26863 22 2 21.7314 2 21.4Z",stroke:"currentColor"}))},jF=g.forwardRef(NF);var Yh=jF,PF=Object.defineProperty,G1=Object.getOwnPropertySymbols,TF=Object.prototype.hasOwnProperty,LF=Object.prototype.propertyIsEnumerable,Q1=(e,t,s)=>t in e?PF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,If=(e,t)=>{for(var s in t||(t={}))TF.call(t,s)&&Q1(e,s,t[s]);if(G1)for(var s of G1(t))LF.call(t,s)&&Q1(e,s,t[s]);return e};const MF=(e,t)=>{const s=g.useContext(ee),r=If(If({},s),e);return g.createElement("svg",If({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},OF=g.forwardRef(MF);var Z1=OF,RF=Object.defineProperty,J1=Object.getOwnPropertySymbols,DF=Object.prototype.hasOwnProperty,AF=Object.prototype.propertyIsEnumerable,ew=(e,t,s)=>t in e?RF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,$f=(e,t)=>{for(var s in t||(t={}))DF.call(t,s)&&ew(e,s,t[s]);if(J1)for(var s of J1(t))AF.call(t,s)&&ew(e,s,t[s]);return e};const BF=(e,t)=>{const s=g.useContext(ee),r=$f($f({},s),e);return g.createElement("svg",$f({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M5 18L3.13036 4.91253C3.05646 4.39524 3.39389 3.91247 3.90398 3.79912L11.5661 2.09641C11.8519 2.03291 12.1481 2.03291 12.4339 2.09641L20.096 3.79912C20.6061 3.91247 20.9435 4.39524 20.8696 4.91252L19 18C18.9293 18.495 18.5 21.5 12 21.5C5.5 21.5 5.07071 18.495 5 18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},IF=g.forwardRef(BF);var gt=IF,$F=Object.defineProperty,tw=Object.getOwnPropertySymbols,FF=Object.prototype.hasOwnProperty,zF=Object.prototype.propertyIsEnumerable,sw=(e,t,s)=>t in e?$F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ff=(e,t)=>{for(var s in t||(t={}))FF.call(t,s)&&sw(e,s,t[s]);if(tw)for(var s of tw(t))zF.call(t,s)&&sw(e,s,t[s]);return e};const HF=(e,t)=>{const s=g.useContext(ee),r=Ff(Ff({},s),e);return g.createElement("svg",Ff({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 16.01L12.01 15.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 19.4V4.6C7 4.26863 7.26863 4 7.6 4H16.4C16.7314 4 17 4.26863 17 4.6V19.4C17 19.7314 16.7314 20 16.4 20H7.6C7.26863 20 7 19.7314 7 19.4Z",stroke:"currentColor"}))},VF=g.forwardRef(HF);var Kn=VF,WF=Object.defineProperty,rw=Object.getOwnPropertySymbols,UF=Object.prototype.hasOwnProperty,KF=Object.prototype.propertyIsEnumerable,nw=(e,t,s)=>t in e?WF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,zf=(e,t)=>{for(var s in t||(t={}))UF.call(t,s)&&nw(e,s,t[s]);if(rw)for(var s of rw(t))KF.call(t,s)&&nw(e,s,t[s]);return e};const qF=(e,t)=>{const s=g.useContext(ee),r=zf(zf({},s),e);return g.createElement("svg",zf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M13 17H20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5 7L10 12L5 17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},YF=g.forwardRef(qF);var un=YF,XF=Object.defineProperty,iw=Object.getOwnPropertySymbols,GF=Object.prototype.hasOwnProperty,QF=Object.prototype.propertyIsEnumerable,ow=(e,t,s)=>t in e?XF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Hf=(e,t)=>{for(var s in t||(t={}))GF.call(t,s)&&ow(e,s,t[s]);if(iw)for(var s of iw(t))QF.call(t,s)&&ow(e,s,t[s]);return e};const ZF=(e,t)=>{const s=g.useContext(ee),r=Hf(Hf({},s),e);return g.createElement("svg",Hf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},JF=g.forwardRef(ZF);var Nr=JF,e9=Object.defineProperty,aw=Object.getOwnPropertySymbols,t9=Object.prototype.hasOwnProperty,s9=Object.prototype.propertyIsEnumerable,lw=(e,t,s)=>t in e?e9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Vf=(e,t)=>{for(var s in t||(t={}))t9.call(t,s)&&lw(e,s,t[s]);if(aw)for(var s of aw(t))s9.call(t,s)&&lw(e,s,t[s]);return e};const r9=(e,t)=>{const s=g.useContext(ee),r=Vf(Vf({},s),e);return g.createElement("svg",Vf({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M4.5 8C8.5 8 11 8 15 8C15 8 15 8 15 8C15 8 20 8 20 12.7059C20 18 15 18 15 18C11.5714 18 9.71429 18 6.28571 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.5 11.5C6.13317 10.1332 5.36683 9.36683 4 8C5.36683 6.63317 6.13317 5.86683 7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},n9=g.forwardRef(r9);var XN=n9,i9=Object.defineProperty,cw=Object.getOwnPropertySymbols,o9=Object.prototype.hasOwnProperty,a9=Object.prototype.propertyIsEnumerable,hw=(e,t,s)=>t in e?i9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Wf=(e,t)=>{for(var s in t||(t={}))o9.call(t,s)&&hw(e,s,t[s]);if(cw)for(var s of cw(t))a9.call(t,s)&&hw(e,s,t[s]);return e};const l9=(e,t)=>{const s=g.useContext(ee),r=Wf(Wf({},s),e);return g.createElement("svg",Wf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6 20L18 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 16V4M12 4L15.5 7.5M12 4L8.5 7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},c9=g.forwardRef(l9);var h9=c9,u9=Object.defineProperty,uw=Object.getOwnPropertySymbols,d9=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,dw=(e,t,s)=>t in e?u9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Uf=(e,t)=>{for(var s in t||(t={}))d9.call(t,s)&&dw(e,s,t[s]);if(uw)for(var s of uw(t))f9.call(t,s)&&dw(e,s,t[s]);return e};const p9=(e,t)=>{const s=g.useContext(ee),r=Uf(Uf({},s),e);return g.createElement("svg",Uf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M17 10H20M23 10H20M20 10V7M20 10V13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M1 20V19C1 15.134 4.13401 12 8 12V12C11.866 12 15 15.134 15 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},m9=g.forwardRef(p9);var g9=m9,v9=Object.defineProperty,fw=Object.getOwnPropertySymbols,x9=Object.prototype.hasOwnProperty,y9=Object.prototype.propertyIsEnumerable,pw=(e,t,s)=>t in e?v9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Kf=(e,t)=>{for(var s in t||(t={}))x9.call(t,s)&&pw(e,s,t[s]);if(fw)for(var s of fw(t))y9.call(t,s)&&pw(e,s,t[s]);return e};const _9=(e,t)=>{const s=g.useContext(ee),r=Kf(Kf({},s),e);return g.createElement("svg",Kf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12V12C15.866 12 19 15.134 19 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},b9=g.forwardRef(_9);var w9=b9,S9=Object.defineProperty,mw=Object.getOwnPropertySymbols,C9=Object.prototype.hasOwnProperty,k9=Object.prototype.propertyIsEnumerable,gw=(e,t,s)=>t in e?S9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,qf=(e,t)=>{for(var s in t||(t={}))C9.call(t,s)&&gw(e,s,t[s]);if(mw)for(var s of mw(t))k9.call(t,s)&&gw(e,s,t[s]);return e};const E9=(e,t)=>{const s=g.useContext(ee),r=qf(qf({},s),e);return g.createElement("svg",qf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 3H20.4C20.7314 3 21 3.26863 21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H12M12 3H3.6C3.26863 3 3 3.26863 3 3.6V20.4C3 20.7314 3.26863 21 3.6 21H12M12 3V21",stroke:"currentColor"}))},N9=g.forwardRef(E9);var j9=N9,P9=Object.defineProperty,vw=Object.getOwnPropertySymbols,T9=Object.prototype.hasOwnProperty,L9=Object.prototype.propertyIsEnumerable,xw=(e,t,s)=>t in e?P9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Yf=(e,t)=>{for(var s in t||(t={}))T9.call(t,s)&&xw(e,s,t[s]);if(vw)for(var s of vw(t))L9.call(t,s)&&xw(e,s,t[s]);return e};const M9=(e,t)=>{const s=g.useContext(ee),r=Yf(Yf({},s),e);return g.createElement("svg",Yf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M14 20.4V14.6C14 14.2686 14.2686 14 14.6 14H20.4C20.7314 14 21 14.2686 21 14.6V20.4C21 20.7314 20.7314 21 20.4 21H14.6C14.2686 21 14 20.7314 14 20.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M3 20.4V14.6C3 14.2686 3.26863 14 3.6 14H9.4C9.73137 14 10 14.2686 10 14.6V20.4C10 20.7314 9.73137 21 9.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M14 9.4V3.6C14 3.26863 14.2686 3 14.6 3H20.4C20.7314 3 21 3.26863 21 3.6V9.4C21 9.73137 20.7314 10 20.4 10H14.6C14.2686 10 14 9.73137 14 9.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M3 9.4V3.6C3 3.26863 3.26863 3 3.6 3H9.4C9.73137 3 10 3.26863 10 3.6V9.4C10 9.73137 9.73137 10 9.4 10H3.6C3.26863 10 3 9.73137 3 9.4Z",stroke:"currentColor"}))},O9=g.forwardRef(M9);var yw=O9,R9=Object.defineProperty,_w=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,A9=Object.prototype.propertyIsEnumerable,bw=(e,t,s)=>t in e?R9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Xf=(e,t)=>{for(var s in t||(t={}))D9.call(t,s)&&bw(e,s,t[s]);if(_w)for(var s of _w(t))A9.call(t,s)&&bw(e,s,t[s]);return e};const B9=(e,t)=>{const s=g.useContext(ee),r=Xf(Xf({},s),e);return g.createElement("svg",Xf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M12 7L12 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},I9=g.forwardRef(B9);var $9=I9,F9=Object.defineProperty,ww=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,H9=Object.prototype.propertyIsEnumerable,Sw=(e,t,s)=>t in e?F9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Gf=(e,t)=>{for(var s in t||(t={}))z9.call(t,s)&&Sw(e,s,t[s]);if(ww)for(var s of ww(t))H9.call(t,s)&&Sw(e,s,t[s]);return e};const V9=(e,t)=>{const s=g.useContext(ee),r=Gf(Gf({},s),e);return g.createElement("svg",Gf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M20.0429 21H3.95705C2.41902 21 1.45658 19.3364 2.22324 18.0031L10.2662 4.01533C11.0352 2.67792 12.9648 2.67791 13.7338 4.01532L21.7768 18.0031C22.5434 19.3364 21.581 21 20.0429 21Z",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M12 9V13",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},W9=g.forwardRef(V9);var jr=W9,U9=Object.defineProperty,Cw=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty,q9=Object.prototype.propertyIsEnumerable,kw=(e,t,s)=>t in e?U9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Qf=(e,t)=>{for(var s in t||(t={}))K9.call(t,s)&&kw(e,s,t[s]);if(Cw)for(var s of Cw(t))q9.call(t,s)&&kw(e,s,t[s]);return e};const Y9=(e,t)=>{const s=g.useContext(ee),r=Qf(Qf({},s),e);return g.createElement("svg",Qf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M9.17218 14.8284L12.0006 12M14.829 9.17157L12.0006 12M12.0006 12L9.17218 9.17157M12.0006 12L14.829 14.8284",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},X9=g.forwardRef(Y9);var G9=X9,Q9=Object.defineProperty,Ew=Object.getOwnPropertySymbols,Z9=Object.prototype.hasOwnProperty,J9=Object.prototype.propertyIsEnumerable,Nw=(e,t,s)=>t in e?Q9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Zf=(e,t)=>{for(var s in t||(t={}))Z9.call(t,s)&&Nw(e,s,t[s]);if(Ew)for(var s of Ew(t))J9.call(t,s)&&Nw(e,s,t[s]);return e};const e7=(e,t)=>{const s=g.useContext(ee),r=Zf(Zf({},s),e);return g.createElement("svg",Zf({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),g.createElement("path",{d:"M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},t7=g.forwardRef(e7);var Tl=t7;function GN(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=GN(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Os(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=GN(e))&&(r&&(r+=" "),r+=t);return r}const QN=g.createContext(null);U.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e});U.interceptors.response.use(e=>e,e=>{var t,s;if(((t=e.response)==null?void 0:t.status)===401&&localStorage.getItem("token")){const r=((s=e.config)==null?void 0:s.url)||"";!r.includes("/api/auth/login")&&!r.includes("/api/onboarding")&&(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});function s7({children:e}){const[t,s]=g.useState(null),[r,n]=g.useState(!0);g.useEffect(()=>{localStorage.getItem("token")?U.get("/api/auth/me").then(l=>{l.data.success&&s(l.data.user)}).catch(()=>{localStorage.removeItem("token")}).finally(()=>{n(!1)}):n(!1)},[]);const i=(a,l)=>{localStorage.setItem("token",l),s(a)},o=async()=>{try{await U.post("/api/auth/logout")}catch{}localStorage.removeItem("token"),s(null)};return h.jsx(QN.Provider,{value:{user:t,loading:r,login:i,logout:o,isAuthenticated:!!t},children:e})}function Fu(){const e=g.useContext(QN);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const lc=({title:e,value:t,sub:s,icon:r,color:n="neon-pink",delay:i=0,className:o=""})=>h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i,duration:.4},className:`border-[3px] p-5 shadow-brutal hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-brutal-lg transition-all ${o}`,style:{borderColor:`var(--${n})`,backgroundColor:"var(--brutal-card)"},children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsx("h3",{className:"font-bold text-xs uppercase tracking-widest px-2 py-0.5 inline-block transform -rotate-1",style:{backgroundColor:`var(--${n})`,color:`var(--on-${n})`},children:e}),r&&h.jsx(r,{className:"w-6 h-6 stroke-[2.5]",style:{color:`var(--${n})`}})]}),h.jsx("div",{className:"text-4xl font-black mb-1 tracking-tighter",style:{color:`var(--${n})`},children:t}),s&&h.jsxs("div",{className:"font-mono text-[10px] uppercase border-t-2 pt-2 mt-2 flex justify-between text-tx/30",style:{borderColor:`var(--${n})20`},children:[h.jsx("span",{children:s}),h.jsx("span",{children:"/// RAW"})]})]}),r7=({node:e,index:t})=>{var n,i,o,a;const s=((n=e.metrics)==null?void 0:n.cpu)||0,r=e.status==="online";return h.jsx(gn,{to:`/nodes/${e.id}`,children:h.jsxs(re.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t*.05+.3},className:"border-b-2 border-neon-pink/10 p-4 flex items-center justify-between hover:bg-neon-pink/[0.04] transition-colors group cursor-pointer",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`w-5 h-5 border-2 ${r?"bg-neon-cyan border-neon-cyan/60":"bg-red-500 border-red-500/60"}`}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold uppercase text-base text-tx group-hover:text-neon-pink transition-colors",children:e.hostname||((i=e.id)==null?void 0:i.substring(0,12))}),h.jsx("div",{className:"font-mono text-[10px] text-tx/30 tracking-wider",children:((a=(o=e.system_info)==null?void 0:o.os)==null?void 0:a.distro)||"Unknown OS"})]})]}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-mono font-bold text-lg group-hover:text-neon-pink transition-colors",style:{color:s>80?"var(--neon-pink)":s>50?"var(--neon-yellow)":"var(--neon-cyan)"},children:[s.toFixed(0),"%"]}),h.jsx("div",{className:"text-[9px] text-tx/30 uppercase tracking-wider",children:"CPU"})]}),h.jsx(HN,{className:"w-4 h-4 text-tx/20 group-hover:text-neon-pink transition-colors"})]})]})})};function n7({socket:e}){var f;const[t,s]=g.useState([]),[r,n]=g.useState(!0),{user:i,isAuthenticated:o}=Fu();g.useEffect(()=>{if(o)return a(),e&&e.on("nodes:update",m=>{s(m)}),()=>{e&&e.off("nodes:update")}},[e,o]);const a=async()=>{try{const m=await U.get("/api/nodes");s(m.data.nodes||[])}catch(m){console.error("Failed to fetch agents:",m)}finally{n(!1)}},l=t.filter(m=>m.status==="online"),c=t.filter(m=>m.status==="offline"),u=l.length>0?l.reduce((m,p)=>{var v;return m+(((v=p.metrics)==null?void 0:v.cpu)||0)},0)/l.length:0,d=l.length>0?l.reduce((m,p)=>{var v;return m+(((v=p.metrics)==null?void 0:v.memory)||0)},0)/l.length:0;return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("header",{className:"mb-6 md:mb-10 flex flex-col sm:flex-row sm:items-end gap-4 sm:gap-6 border-b-[3px] border-neon-pink/20 pb-4 md:pb-6",children:[h.jsx("div",{children:h.jsxs("h1",{className:"text-3xl sm:text-5xl lg:text-6xl font-black uppercase tracking-tighter leading-[0.85]",children:[h.jsx("span",{className:"text-tx",children:"System"}),h.jsx("br",{}),h.jsx("span",{className:"text-neon-pink",style:{textShadow:"0 0 30px var(--neon-pink)"},children:"Overview"})]})}),h.jsxs("div",{className:"mb-2 font-mono text-[10px] bg-brutal-card border-2 border-neon-cyan/20 text-neon-cyan/60 p-3 tracking-wider",children:["USER: ",((f=i==null?void 0:i.username)==null?void 0:f.toUpperCase())||"ADMIN",h.jsx("br",{}),"SESSION: #",Math.floor(Math.random()*99999).toString().padStart(5,"0")]})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-10",children:[h.jsx(lc,{title:"Nodes",value:t.length,icon:Yh,color:"neon-cyan",delay:.05,sub:`${l.length} online`}),h.jsx(lc,{title:"Avg CPU",value:`${u.toFixed(0)}%`,icon:z0,color:"neon-pink",delay:.1,sub:"Fleet average"}),h.jsx(lc,{title:"Avg Memory",value:`${d.toFixed(0)}%`,icon:H0,color:"neon-purple",delay:.15,sub:"Fleet average"}),h.jsx(lc,{title:"Offline",value:c.length,icon:$9,color:c.length>0?"neon-yellow":"neon-cyan",delay:.2,sub:c.length>0?"Needs attention":"All clear"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"lg:col-span-2 border-[3px] border-neon-pink/20 bg-brutal-card shadow-brutal",children:[h.jsxs("div",{className:"bg-neon-pink/10 border-b-[3px] border-neon-pink/20 p-4 flex justify-between items-center",children:[h.jsx("h2",{className:"font-bold text-lg uppercase tracking-tight text-neon-pink",children:"Active Nodes"}),h.jsx("button",{onClick:a,className:"border-2 border-neon-pink/40 px-4 py-1 text-neon-pink hover:bg-neon-pink transition-colors font-bold uppercase text-[10px] tracking-widest",style:{"--hover-color":"var(--on-neon-pink)"},onMouseEnter:m=>m.currentTarget.style.color="var(--on-neon-pink)",onMouseLeave:m=>m.currentTarget.style.color="",children:"Refresh"})]}),h.jsx("div",{children:r?h.jsx("div",{className:"p-8 text-center font-mono text-tx/30 text-sm",children:"Scanning network..."}):t.length===0?h.jsxs("div",{className:"p-8 text-center",children:[h.jsx("div",{className:"font-mono text-tx/30 text-sm mb-2",children:"No nodes connected"}),h.jsx("div",{className:"text-[10px] text-tx/20",children:"Run `nexus --mode=node` on target machines"})]}):h.jsxs(h.Fragment,{children:[t.slice(0,6).map((m,p)=>h.jsx(r7,{node:m,index:p},m.id)),t.length>6&&h.jsxs(gn,{to:"/nodes",className:"block p-4 text-center font-mono text-xs uppercase cursor-pointer hover:bg-neon-pink/[0.06] text-neon-pink/60 hover:text-neon-pink transition-colors tracking-widest border-t-2 border-neon-pink/10",children:["View All ",t.length," Nodes ///"]})]})})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"border-[3px] border-neon-cyan/20 bg-brutal-card p-6 shadow-brutal-cyan",children:[h.jsxs("h2",{className:"font-black text-2xl uppercase mb-4 text-neon-cyan",style:{textShadow:"0 0 15px var(--neon-cyan)"},children:["Fleet",h.jsx("br",{}),"Resources"]}),h.jsx("div",{className:"space-y-4",children:[{label:"CPU",value:u,color:"var(--neon-pink)"},{label:"RAM",value:d,color:"var(--neon-cyan)"}].map((m,p)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between font-mono font-bold text-xs mb-1.5",children:[h.jsx("span",{className:"text-tx/50",children:m.label}),h.jsxs("span",{style:{color:m.color},children:[m.value.toFixed(1),"%"]})]}),h.jsx("div",{className:"h-3 border-2 overflow-hidden",style:{borderColor:`${m.color}40`,backgroundColor:`${m.color}10`},children:h.jsx(re.div,{className:"h-full",style:{backgroundColor:m.color,boxShadow:`0 0 8px ${m.color}`},initial:{width:0},animate:{width:`${m.value}%`},transition:{duration:1,delay:.5}})})]},p))}),h.jsxs("div",{className:"flex justify-between font-mono font-bold text-xs mt-4 pt-3 border-t-2 border-neon-cyan/10 text-tx/30",children:[h.jsxs("span",{children:["IN: ",l.length," nodes"]}),h.jsxs("span",{children:["OUT: ",c.length," nodes"]})]})]}),h.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"border-[3px] border-neon-purple/20 bg-brutal-card p-6 shadow-brutal-purple",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(F0,{className:"w-10 h-10 border-2 border-neon-purple/30 p-1.5 bg-neon-purple/10 text-neon-purple rounded-none flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold uppercase text-lg text-neon-purple",children:"System Status"}),h.jsx("p",{className:"font-mono text-[10px] mt-2 leading-relaxed border-l-2 border-neon-purple/30 pl-3 text-tx/40",children:c.length>0?`Warning: ${c.length} node${c.length>1?"s":""} offline. Check connectivity on affected systems.`:"All systems nominal. No alerts detected across monitored infrastructure."})]})]})})]})]})]})}const i7=({node:e,index:t,onDelete:s})=>{var c,u,d,f,m,p;const r=((c=e.metrics)==null?void 0:c.cpu)||0,n=((u=e.metrics)==null?void 0:u.memory)||0,i=((d=e.metrics)==null?void 0:d.disk)||0,o=e.status==="online",a=({value:v,color:y})=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-20 h-2.5 border-2 overflow-hidden",style:{borderColor:`${y}40`,backgroundColor:`${y}10`},children:h.jsx("div",{className:"h-full",style:{width:`${v}%`,backgroundColor:y,boxShadow:`0 0 6px ${y}`}})}),h.jsxs("span",{className:"font-mono font-bold text-xs w-10 text-right",style:{color:y},children:[v.toFixed(0),"%"]})]}),l=v=>{v.preventDefault(),v.stopPropagation(),window.confirm(`Delete node "${e.hostname||e.id}"?

This will remove the node and all its metrics from the server. The node can re-register if it reconnects.`)&&s(e.id)};return h.jsx(re.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t*.04+.2},children:h.jsx(gn,{to:`/nodes/${e.id}`,className:"block",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 px-4 md:px-5 py-3 md:py-4 border-b-2 border-neon-pink/[0.07] hover:bg-neon-pink/[0.03] transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx("div",{className:`w-4 h-4 border-2 flex-shrink-0 ${o?"bg-neon-cyan border-neon-cyan/60":"bg-red-500 border-red-500/60"}`}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"font-bold uppercase text-sm text-tx truncate group-hover:text-neon-pink transition-colors",children:e.hostname||((f=e.id)==null?void 0:f.substring(0,16))}),h.jsx("div",{className:"font-mono text-[10px] text-tx/25 truncate",children:((p=(m=e.system_info)==null?void 0:m.os)==null?void 0:p.distro)||""})]}),h.jsx("span",{className:`inline-block px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider border-2 sm:hidden ${o?"border-neon-cyan/40 text-neon-cyan bg-neon-cyan/10":"border-red-500/40 text-red-400 bg-red-500/10"}`,children:""})]}),h.jsx("span",{className:`hidden sm:inline-block px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider border-2 shrink-0 ${o?"border-neon-cyan/40 text-neon-cyan bg-neon-cyan/10":"border-red-500/40 text-red-400 bg-red-500/10"}`,children:o?" ONLINE":" OFFLINE"}),h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pl-7 sm:pl-0",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"text-[9px] text-tx/25 uppercase hidden md:inline",children:"CPU"}),h.jsx(a,{value:r,color:"var(--neon-pink)"})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"text-[9px] text-tx/25 uppercase hidden md:inline",children:"MEM"}),h.jsx(a,{value:n,color:"var(--neon-cyan)"})]}),h.jsxs("span",{className:"font-mono font-bold text-xs text-neon-purple hidden md:inline",children:[i.toFixed(0),"%"]})]}),h.jsxs("div",{className:"flex items-center gap-2 shrink-0 pl-7 sm:pl-0",children:[h.jsx("button",{onClick:l,className:"p-1.5 border-2 border-transparent hover:border-red-500/40 hover:bg-red-500/10 text-tx/30 hover:text-red-400 transition-all",title:"Delete node",children:h.jsx(Nr,{className:"w-3.5 h-3.5"})}),h.jsx(HN,{className:"w-4 h-4 text-tx/15 group-hover:text-neon-pink transition-colors"})]})]})})})};function o7({socket:e}){const[t,s]=g.useState([]),[r,n]=g.useState(!0),[i,o]=g.useState(!1),[a,l]=g.useState(null);g.useEffect(()=>(c(),e&&e.on("nodes:update",p=>s(p)),()=>{e&&e.off("nodes:update")}),[e]);const c=async()=>{try{const p=await U.get("/api/nodes");s(p.data.nodes||[])}catch(p){console.error("Failed to fetch agents:",p),s([])}finally{n(!1)}},u=async p=>{var v,y;try{const x=localStorage.getItem("token");await U.delete(`/api/nodes/${p}`,{headers:{Authorization:`Bearer ${x}`}}),s(t.filter(b=>b.id!==p))}catch(x){console.error("Failed to delete node:",x),alert("Failed to delete node: "+(((y=(v=x.response)==null?void 0:v.data)==null?void 0:y.error)||x.message))}},d=window.location.origin,f=(p,v)=>{navigator.clipboard.writeText(p),l(v),setTimeout(()=>l(null),2e3)},m=({text:p,label:v})=>h.jsx("button",{onClick:()=>f(p,v),className:"ml-2 p-1 text-tx/30 hover:text-neon-cyan transition-colors",title:"Copy",children:a===v?h.jsx(ye,{className:"w-3.5 h-3.5 text-green-400"}):h.jsx(ei,{className:"w-3.5 h-3.5"})});return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("header",{className:"mb-6 md:mb-8 flex flex-col sm:flex-row sm:items-end justify-between gap-4 border-b-[3px] border-neon-pink/20 pb-4 md:pb-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black uppercase tracking-tighter leading-[0.9]",children:[h.jsx("span",{className:"text-tx",children:"All"})," ",h.jsx("span",{className:"text-neon-pink",style:{textShadow:"0 0 25px var(--neon-pink)"},children:"Nodes"})]}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mt-2 tracking-wider uppercase",children:[t.length," registered  ",t.filter(p=>p.status==="online").length," online"]})]}),h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[h.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-cyan/40 text-neon-cyan font-bold uppercase text-[10px] tracking-widest hover:bg-neon-cyan transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onMouseEnter:p=>p.currentTarget.style.color="var(--on-neon-cyan)",onMouseLeave:p=>p.currentTarget.style.color="",children:[h.jsx(qN,{className:"w-3.5 h-3.5"}),"Add Node"]}),h.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-pink/40 text-neon-pink font-bold uppercase text-[10px] tracking-widest hover:bg-neon-pink transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onMouseEnter:p=>p.currentTarget.style.color="var(--on-neon-pink)",onMouseLeave:p=>p.currentTarget.style.color="",children:[h.jsx($u,{className:"w-3.5 h-3.5"}),"Refresh"]})]})]}),h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-[3px] border-neon-pink/20 bg-brutal-card shadow-brutal",children:[h.jsxs("div",{className:"hidden sm:flex items-center gap-4 px-5 py-3 text-[10px] font-bold uppercase tracking-widest border-b-[3px] border-neon-pink/20 bg-neon-pink/[0.05] text-tx/30",children:[h.jsx("div",{className:"flex-1",children:"Node"}),h.jsx("div",{className:"w-20 shrink-0",children:"Status"}),h.jsx("div",{className:"w-36 shrink-0",children:"CPU"}),h.jsx("div",{className:"w-36 shrink-0",children:"MEM"}),h.jsx("div",{className:"w-12 shrink-0 hidden md:block",children:"Disk"}),h.jsx("div",{className:"w-16 shrink-0"})]}),r?h.jsx("div",{className:"p-12 text-center font-mono text-tx/30 text-sm",children:"Scanning network..."}):t.length===0?h.jsxs("div",{className:"p-12 text-center",children:[h.jsx("div",{className:"font-bold text-xl text-tx/20 uppercase mb-2",children:"No Nodes Found"}),h.jsx("div",{className:"font-mono text-[10px] text-tx/15",children:"Run `nexus --mode=node` on target machines to register"})]}):t.map((p,v)=>h.jsx(i7,{node:p,index:v,onDelete:u},p.id)),h.jsxs("div",{className:"px-5 py-3 border-t-2 border-neon-pink/10 text-center font-mono text-[10px] text-tx/20 uppercase tracking-widest",children:["Total: ",t.length," nodes /// Nexus Fleet Monitor"]})]}),h.jsx(Xt,{children:i&&h.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:()=>o(!1),children:h.jsxs(re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-2xl bg-brutal-card border-[3px] border-neon-cyan/30 shadow-brutal max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b-[3px] border-neon-cyan/20 bg-neon-cyan/5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Yh,{className:"w-5 h-5 text-neon-cyan"}),h.jsxs("h3",{className:"font-black text-lg uppercase tracking-tight text-tx",children:["Add a ",h.jsx("span",{className:"text-neon-cyan",children:"Node"})]})]}),h.jsx("button",{onClick:()=>o(!1),className:"text-tx/30 hover:text-tx transition-colors",children:h.jsx(Tl,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-xs uppercase tracking-wider text-tx/60 mb-3",children:"Run this command on the target machine:"}),h.jsxs("div",{className:"bg-brutal-bg border-2 border-tx/10 p-4 font-mono text-xs text-tx/80 flex items-start",children:[h.jsx(un,{className:"w-4 h-4 text-neon-cyan/40 mr-2 mt-0.5 shrink-0"}),h.jsx("code",{className:"flex-1 break-all whitespace-pre-wrap",children:`git clone https://github.com/dronzer-tb/nexus.git && cd nexus && npm install && node -e "const c=require('./src/utils/config');c.set('node.serverUrl','${d}');console.log('Configured!')" && node src/index.js --mode=node`}),h.jsx(m,{text:`git clone https://github.com/dronzer-tb/nexus.git && cd nexus && npm install && node -e "const c=require('./src/utils/config');c.set('node.serverUrl','${d}');console.log('Configured!')" && node src/index.js --mode=node`,label:"command"})]})]}),h.jsxs("div",{className:"border-[3px] border-neon-pink/20 bg-neon-pink/5 p-4",children:[h.jsx("div",{className:"font-bold text-xs uppercase tracking-wider text-neon-pink mb-2",children:" Auto-start as a service"}),h.jsxs("div",{className:"font-mono text-[11px] text-tx/50 leading-relaxed mb-3",children:["After the node is running, set it up as a ",h.jsx("span",{className:"text-neon-pink",children:"systemd service"})," so it auto-starts on boot:"]}),h.jsxs("div",{className:"bg-brutal-bg border-2 border-tx/10 p-3 font-mono text-xs text-tx/80 flex items-start",children:[h.jsx(un,{className:"w-4 h-4 text-neon-pink/40 mr-2 mt-0.5 shrink-0"}),h.jsx("code",{className:"flex-1 break-all whitespace-pre-wrap",children:"node src/index.js --mode=node --install-service"}),h.jsx(m,{text:"node src/index.js --mode=node --install-service",label:"service"})]}),h.jsx("div",{className:"font-mono text-[10px] text-tx/30 mt-2",children:"Creates a systemd unit, enables auto-start, and launches the node service."})]}),h.jsxs("div",{className:"border-[3px] border-neon-cyan/10 bg-neon-cyan/5 p-4 space-y-2",children:[h.jsxs("div",{className:"font-bold text-[10px] text-neon-cyan uppercase tracking-widest flex items-center gap-1",children:[h.jsx(Ss,{className:"w-3 h-3"})," How it works"]}),h.jsxs("div",{className:"font-mono text-[11px] text-tx/50 leading-relaxed",children:["The node ",h.jsx("span",{className:"text-neon-cyan",children:"auto-generates"})," its own unique API key on first run and registers itself with this server. No manual API key setup is needed  just clone, configure the URL, and start. The credentials are saved in ",h.jsx("span",{className:"text-neon-cyan",children:"data/node-info.json"})," on the node machine."]})]})]})]})})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ll(e){return e+.5|0}const Gr=(e,t,s)=>Math.max(Math.min(e,s),t);function oa(e){return Gr(Ll(e*2.55),0,255)}function dn(e){return Gr(Ll(e*255),0,255)}function vr(e){return Gr(Ll(e/2.55)/100,0,1)}function jw(e){return Gr(Ll(e*100),0,100)}const is={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ig=[..."0123456789ABCDEF"],a7=e=>ig[e&15],l7=e=>ig[(e&240)>>4]+ig[e&15],cc=e=>(e&240)>>4===(e&15),c7=e=>cc(e.r)&&cc(e.g)&&cc(e.b)&&cc(e.a);function h7(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&is[e[1]]*17,g:255&is[e[2]]*17,b:255&is[e[3]]*17,a:t===5?is[e[4]]*17:255}:(t===7||t===9)&&(s={r:is[e[1]]<<4|is[e[2]],g:is[e[3]]<<4|is[e[4]],b:is[e[5]]<<4|is[e[6]],a:t===9?is[e[7]]<<4|is[e[8]]:255})),s}const u7=(e,t)=>e<255?t(e):"";function d7(e){var t=c7(e)?a7:l7;return e?"#"+t(e.r)+t(e.g)+t(e.b)+u7(e.a,t):void 0}const f7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZN(e,t,s){const r=t*Math.min(s,1-s),n=(i,o=(i+e/30)%12)=>s-r*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function p7(e,t,s){const r=(n,i=(n+e/60)%6)=>s-s*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function m7(e,t,s){const r=ZN(e,1,.5);let n;for(t+s>1&&(n=1/(t+s),t*=n,s*=n),n=0;n<3;n++)r[n]*=1-t-s,r[n]+=t;return r}function g7(e,t,s,r,n){return e===n?(t-s)/r+(t<s?6:0):t===n?(s-e)/r+2:(e-t)/r+4}function U0(e){const s=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(s,r,n),o=Math.min(s,r,n),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=g7(s,r,n,u,i),l=l*60+.5),[l|0,c||0,a]}function K0(e,t,s,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,r)).map(dn)}function q0(e,t,s){return K0(ZN,e,t,s)}function v7(e,t,s){return K0(m7,e,t,s)}function x7(e,t,s){return K0(p7,e,t,s)}function JN(e){return(e%360+360)%360}function y7(e){const t=f7.exec(e);let s=255,r;if(!t)return;t[5]!==r&&(s=t[6]?oa(+t[5]):dn(+t[5]));const n=JN(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=v7(n,i,o):t[1]==="hsv"?r=x7(n,i,o):r=q0(n,i,o),{r:r[0],g:r[1],b:r[2],a:s}}function _7(e,t){var s=U0(e);s[0]=JN(s[0]+t),s=q0(s),e.r=s[0],e.g=s[1],e.b=s[2]}function b7(e){if(!e)return;const t=U0(e),s=t[0],r=jw(t[1]),n=jw(t[2]);return e.a<255?`hsla(${s}, ${r}%, ${n}%, ${vr(e.a)})`:`hsl(${s}, ${r}%, ${n}%)`}const Pw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Tw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function w7(){const e={},t=Object.keys(Tw),s=Object.keys(Pw);let r,n,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],n=0;n<s.length;n++)i=s[n],a=a.replace(i,Pw[i]);i=parseInt(Tw[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let hc;function S7(e){hc||(hc=w7(),hc.transparent=[0,0,0,0]);const t=hc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const C7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k7(e){const t=C7.exec(e);let s=255,r,n,i;if(t){if(t[7]!==r){const o=+t[7];s=t[8]?oa(o):Gr(o*255,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?oa(r):Gr(r,0,255)),n=255&(t[4]?oa(n):Gr(n,0,255)),i=255&(t[6]?oa(i):Gr(i,0,255)),{r,g:n,b:i,a:s}}}function E7(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Jf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,bi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function N7(e,t,s){const r=bi(vr(e.r)),n=bi(vr(e.g)),i=bi(vr(e.b));return{r:dn(Jf(r+s*(bi(vr(t.r))-r))),g:dn(Jf(n+s*(bi(vr(t.g))-n))),b:dn(Jf(i+s*(bi(vr(t.b))-i))),a:e.a+s*(t.a-e.a)}}function uc(e,t,s){if(e){let r=U0(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*s,t===0?360:1)),r=q0(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function e3(e,t){return e&&Object.assign(t||{},e)}function Lw(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=dn(e[3]))):(t=e3(e,{r:0,g:0,b:0,a:1}),t.a=dn(t.a)),t}function j7(e){return e.charAt(0)==="r"?k7(e):y7(e)}class il{constructor(t){if(t instanceof il)return t;const s=typeof t;let r;s==="object"?r=Lw(t):s==="string"&&(r=h7(t)||S7(t)||j7(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=e3(this._rgb);return t&&(t.a=vr(t.a)),t}set rgb(t){this._rgb=Lw(t)}rgbString(){return this._valid?E7(this._rgb):void 0}hexString(){return this._valid?d7(this._rgb):void 0}hslString(){return this._valid?b7(this._rgb):void 0}mix(t,s){if(t){const r=this.rgb,n=t.rgb;let i;const o=s===i?.5:s,a=2*o-1,l=r.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*n.r+.5,r.g=255&c*r.g+i*n.g+.5,r.b=255&c*r.b+i*n.b+.5,r.a=o*r.a+(1-o)*n.a,this.rgb=r}return this}interpolate(t,s){return t&&(this._rgb=N7(this._rgb,t._rgb,s)),this}clone(){return new il(this.rgb)}alpha(t){return this._rgb.a=dn(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Ll(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return uc(this._rgb,2,t),this}darken(t){return uc(this._rgb,2,-t),this}saturate(t){return uc(this._rgb,1,t),this}desaturate(t){return uc(this._rgb,1,-t),this}rotate(t){return _7(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hr(){}const P7=(()=>{let e=0;return()=>e++})();function be(e){return e==null}function st(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function he(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Pt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ws(e,t){return Pt(e)?e:t}function ce(e,t){return typeof e>"u"?t:e}const T7=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ke(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ge(e,t,s,r){let n,i,o;if(st(e))for(i=e.length,n=0;n<i;n++)t.call(s,e[n],n);else if(he(e))for(o=Object.keys(e),i=o.length,n=0;n<i;n++)t.call(s,e[o[n]],o[n])}function Xh(e,t){let s,r,n,i;if(!e||!t||e.length!==t.length)return!1;for(s=0,r=e.length;s<r;++s)if(n=e[s],i=t[s],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Gh(e){if(st(e))return e.map(Gh);if(he(e)){const t=Object.create(null),s=Object.keys(e),r=s.length;let n=0;for(;n<r;++n)t[s[n]]=Gh(e[s[n]]);return t}return e}function t3(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function L7(e,t,s,r){if(!t3(e))return;const n=t[e],i=s[e];he(n)&&he(i)?ol(n,i,r):t[e]=Gh(i)}function ol(e,t,s){const r=st(t)?t:[t],n=r.length;if(!he(e))return e;s=s||{};const i=s.merger||L7;let o;for(let a=0;a<n;++a){if(o=r[a],!he(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],e,o,s)}return e}function Na(e,t){return ol(e,t,{merger:M7})}function M7(e,t,s){if(!t3(e))return;const r=t[e],n=s[e];he(r)&&he(n)?Na(r,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Gh(n))}const Mw={"":e=>e,x:e=>e.x,y:e=>e.y};function O7(e){const t=e.split("."),s=[];let r="";for(const n of t)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function R7(e){const t=O7(e);return s=>{for(const r of t){if(r==="")break;s=s&&s[r]}return s}}function Qh(e,t){return(Mw[t]||(Mw[t]=R7(t)))(e)}function Y0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zh=e=>typeof e<"u",yn=e=>typeof e=="function",Ow=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function D7(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ut=Math.PI,Bs=2*ut,A7=Bs+ut,Jh=Number.POSITIVE_INFINITY,B7=ut/180,Rs=ut/2,Nn=ut/4,Rw=ut*2/3,s3=Math.log10,lo=Math.sign;function ja(e,t,s){return Math.abs(e-t)<s}function Dw(e){const t=Math.round(e);e=ja(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(s3(e))),r=e/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function I7(e){const t=[],s=Math.sqrt(e);let r;for(r=1;r<s;r++)e%r===0&&(t.push(r),t.push(e/r));return s===(s|0)&&t.push(s),t.sort((n,i)=>n-i).pop(),t}function $7(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function al(e){return!$7(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function F7(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function z7(e,t,s){let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r][s],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function qn(e){return e*(ut/180)}function H7(e){return e*(180/ut)}function Aw(e){if(!Pt(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function V7(e,t){const s=t.x-e.x,r=t.y-e.y,n=Math.sqrt(s*s+r*r);let i=Math.atan2(r,s);return i<-.5*ut&&(i+=Bs),{angle:i,distance:n}}function og(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function W7(e,t){return(e-t+A7)%Bs-ut}function Zs(e){return(e%Bs+Bs)%Bs}function r3(e,t,s,r){const n=Zs(e),i=Zs(t),o=Zs(s),a=Zs(i-n),l=Zs(o-n),c=Zs(n-i),u=Zs(n-o);return n===i||n===o||r&&i===o||a>l&&c<u}function gs(e,t,s){return Math.max(t,Math.min(s,e))}function U7(e){return gs(e,-32768,32767)}function Vi(e,t,s,r=1e-6){return e>=Math.min(t,s)-r&&e<=Math.max(t,s)+r}function X0(e,t,s){s=s||(o=>e[o]<t);let r=e.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,s(i)?n=i:r=i;return{lo:n,hi:r}}const Yn=(e,t,s,r)=>X0(e,s,r?n=>{const i=e[n][t];return i<s||i===s&&e[n+1][t]===s}:n=>e[n][t]<s),K7=(e,t,s)=>X0(e,s,r=>e[r][t]>=s);function q7(e,t,s){let r=0,n=e.length;for(;r<n&&e[r]<t;)r++;for(;n>r&&e[n-1]>s;)n--;return r>0||n<e.length?e.slice(r,n):e}const n3=["push","pop","shift","splice","unshift"];function Y7(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),n3.forEach(s=>{const r="_onData"+Y0(s),n=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...i){const o=n.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Bw(e,t){const s=e._chartjs;if(!s)return;const r=s.listeners,n=r.indexOf(t);n!==-1&&r.splice(n,1),!(r.length>0)&&(n3.forEach(i=>{delete e[i]}),delete e._chartjs)}function X7(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const i3=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function o3(e,t){let s=[],r=!1;return function(...n){s=n,r||(r=!0,i3.call(window,()=>{r=!1,e.apply(t,s)}))}}function G7(e,t){let s;return function(...r){return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}const G0=e=>e==="start"?"left":e==="end"?"right":"center",St=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,Q7=(e,t,s,r)=>e===(r?"left":"right")?s:e==="center"?(t+s)/2:t;function Z7(e,t,s){const r=t.length;let n=0,i=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:m,maxDefined:p}=o.getUserBounds();if(m){if(n=Math.min(Yn(l,u,d).lo,s?r:Yn(t,u,o.getPixelForValue(d)).lo),c){const v=l.slice(0,n+1).reverse().findIndex(y=>!be(y[a.axis]));n-=Math.max(0,v)}n=gs(n,0,r-1)}if(p){let v=Math.max(Yn(l,o.axis,f,!0).hi+1,s?0:Yn(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(v-1).findIndex(x=>!be(x[a.axis]));v+=Math.max(0,y)}i=gs(v,n,r)-n}else i=r-n}return{start:n,count:i}}function J7(e){const{xScale:t,yScale:s,_scaleRanges:r}=e,n={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!r)return e._scaleRanges=n,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,n),i}const dc=e=>e===0||e===1,Iw=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bs/s)),$w=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bs/s)+1,Pa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Rs)+1,easeOutSine:e=>Math.sin(e*Rs),easeInOutSine:e=>-.5*(Math.cos(ut*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>dc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dc(e)?e:Iw(e,.075,.3),easeOutElastic:e=>dc(e)?e:$w(e,.075,.3),easeInOutElastic(e){return dc(e)?e:e<.5?.5*Iw(e*2,.1125,.45):.5+.5*$w(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Pa.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Pa.easeInBounce(e*2)*.5:Pa.easeOutBounce(e*2-1)*.5+.5};function Q0(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Fw(e){return Q0(e)?e:new il(e)}function ep(e){return Q0(e)?e:new il(e).saturate(.5).darken(.1).hexString()}const ez=["x","y","borderWidth","radius","tension"],tz=["color","borderColor","backgroundColor"];function sz(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:tz},numbers:{type:"number",properties:ez}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function rz(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zw=new Map;function nz(e,t){t=t||{};const s=e+JSON.stringify(t);let r=zw.get(s);return r||(r=new Intl.NumberFormat(e,t),zw.set(s,r)),r}function a3(e,t,s){return nz(t,s).format(e)}const iz={values(e){return st(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const r=this.chart.options.locale;let n,i=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),i=oz(e,s)}const o=s3(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),a3(e,r,l)}};function oz(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var l3={formatters:iz};function az(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:l3.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const hi=Object.create(null),ag=Object.create(null);function Ta(e,t){if(!t)return e;const s=t.split(".");for(let r=0,n=s.length;r<n;++r){const i=s[r];e=e[i]||(e[i]=Object.create(null))}return e}function tp(e,t,s){return typeof t=="string"?ol(Ta(e,t),s):ol(Ta(e,""),t)}class lz{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>ep(n.backgroundColor),this.hoverBorderColor=(r,n)=>ep(n.borderColor),this.hoverColor=(r,n)=>ep(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return tp(this,t,s)}get(t){return Ta(this,t)}describe(t,s){return tp(ag,t,s)}override(t,s){return tp(hi,t,s)}route(t,s,r,n){const i=Ta(this,t),o=Ta(this,r),a="_"+s;Object.defineProperties(i,{[a]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[n];return he(l)?Object.assign({},c,l):ce(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var We=new lz({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sz,rz,az]);function cz(e){return!e||be(e.size)||be(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Hw(e,t,s,r,n){let i=t[n];return i||(i=t[n]=e.measureText(n).width,s.push(n)),i>r&&(r=i),r}function jn(e,t,s){const r=e.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((t-n)*r)/r+n}function Vw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function lg(e,t,s,r){c3(e,t,s,r,null)}function c3(e,t,s,r,n){let i,o,a,l,c,u,d,f;const m=t.pointStyle,p=t.rotation,v=t.radius;let y=(p||0)*B7;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(s,r),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),m){default:n?e.ellipse(s,r,n/2,v,0,0,Bs):e.arc(s,r,v,0,Bs),e.closePath();break;case"triangle":u=n?n/2:v,e.moveTo(s+Math.sin(y)*u,r-Math.cos(y)*v),y+=Rw,e.lineTo(s+Math.sin(y)*u,r-Math.cos(y)*v),y+=Rw,e.lineTo(s+Math.sin(y)*u,r-Math.cos(y)*v),e.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(y+Nn)*l,d=Math.cos(y+Nn)*(n?n/2-c:l),a=Math.sin(y+Nn)*l,f=Math.sin(y+Nn)*(n?n/2-c:l),e.arc(s-d,r-a,c,y-ut,y-Rs),e.arc(s+f,r-o,c,y-Rs,y),e.arc(s+d,r+a,c,y,y+Rs),e.arc(s-f,r+o,c,y+Rs,y+ut),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,u=n?n/2:l,e.rect(s-u,r-l,2*u,2*l);break}y+=Nn;case"rectRot":d=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),e.moveTo(s-d,r-a),e.lineTo(s+f,r-o),e.lineTo(s+d,r+a),e.lineTo(s-f,r+o),e.closePath();break;case"crossRot":y+=Nn;case"cross":d=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),e.moveTo(s-d,r-a),e.lineTo(s+d,r+a),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o);break;case"star":d=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),e.moveTo(s-d,r-a),e.lineTo(s+d,r+a),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o),y+=Nn,d=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),e.moveTo(s-d,r-a),e.lineTo(s+d,r+a),e.moveTo(s+f,r-o),e.lineTo(s-f,r+o);break;case"line":o=n?n/2:Math.cos(y)*v,a=Math.sin(y)*v,e.moveTo(s-o,r-a),e.lineTo(s+o,r+a);break;case"dash":e.moveTo(s,r),e.lineTo(s+Math.cos(y)*(n?n/2:v),r+Math.sin(y)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ll(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function zu(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Hu(e){e.restore()}function hz(e,t,s,r,n){if(!t)return e.lineTo(s.x,s.y);if(n==="middle"){const i=(t.x+s.x)/2;e.lineTo(i,t.y),e.lineTo(i,s.y)}else n==="after"!=!!r?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function uz(e,t,s,r){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function dz(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),be(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function fz(e,t,s,r,n){if(n.strikethrough||n.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=s-i.actualBoundingBoxAscent,c=s+i.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function pz(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function cl(e,t,s,r,n,i={}){const o=st(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=n.string,dz(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&pz(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),be(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,s,r,i.maxWidth)),e.fillText(c,s,r,i.maxWidth),fz(e,s,r,c,i),r+=Number(n.lineHeight);e.restore()}function cg(e,t){const{x:s,y:r,w:n,h:i,radius:o}=t;e.arc(s+o.topLeft,r+o.topLeft,o.topLeft,1.5*ut,ut,!0),e.lineTo(s,r+i-o.bottomLeft),e.arc(s+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,ut,Rs,!0),e.lineTo(s+n-o.bottomRight,r+i),e.arc(s+n-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Rs,0,!0),e.lineTo(s+n,r+o.topRight),e.arc(s+n-o.topRight,r+o.topRight,o.topRight,0,-Rs,!0),e.lineTo(s+o.topLeft,r)}const mz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vz(e,t){const s=(""+e).match(mz);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const xz=e=>+e||0;function h3(e,t){const s={},r=he(t),n=r?Object.keys(t):t,i=he(e)?r?o=>ce(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of n)s[o]=xz(i(o));return s}function yz(e){return h3(e,{top:"y",right:"x",bottom:"y",left:"x"})}function La(e){return h3(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Cs(e){const t=yz(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Nt(e,t){e=e||{},t=t||We.font;let s=ce(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let r=ce(e.style,t.style);r&&!(""+r).match(gz)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:ce(e.family,t.family),lineHeight:vz(ce(e.lineHeight,t.lineHeight),s),size:s,style:r,weight:ce(e.weight,t.weight),string:""};return n.string=cz(n),n}function fc(e,t,s,r){let n,i,o;for(n=0,i=e.length;n<i;++n)if(o=e[n],o!==void 0&&o!==void 0)return o}function _z(e,t,s){const{min:r,max:n}=e,i=T7(t,(n-r)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(n,i)}}function gi(e,t){return Object.assign(Object.create(e),t)}function Z0(e,t=[""],s,r,n=()=>e[0]){const i=s||e;typeof r>"u"&&(r=p3("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:a=>Z0([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return d3(a,l,()=>jz(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Uw(a).includes(l)},ownKeys(a){return Uw(a)},set(a,l,c){const u=a._storage||(a._storage=n());return a[l]=u[l]=c,delete a._keys,!0}})}function co(e,t,s,r){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:u3(e,r),setContext:i=>co(e,i,s,r),override:i=>co(e.override(i),t,s,r)};return new Proxy(n,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return d3(i,o,()=>wz(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function u3(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:r=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:s,indexable:r,isScriptable:yn(s)?s:()=>s,isIndexable:yn(r)?r:()=>r}}const bz=(e,t)=>e?e+Y0(t):t,J0=(e,t)=>he(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function d3(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=s();return e[t]=r,r}function wz(e,t,s){const{_proxy:r,_context:n,_subProxy:i,_descriptors:o}=e;let a=r[t];return yn(a)&&o.isScriptable(t)&&(a=Sz(t,a,e,s)),st(a)&&a.length&&(a=Cz(t,a,e,o.isIndexable)),J0(t,a)&&(a=co(a,n,i&&i[t],o)),a}function Sz(e,t,s,r){const{_proxy:n,_context:i,_subProxy:o,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),J0(e,l)&&(l=ex(n._scopes,n,e,l)),l}function Cz(e,t,s,r){const{_proxy:n,_context:i,_subProxy:o,_descriptors:a}=s;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(he(t[0])){const l=t,c=n._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=ex(c,n,e,u);t.push(co(d,i,o&&o[e],a))}}return t}function f3(e,t,s){return yn(e)?e(t,s):e}const kz=(e,t)=>e===!0?t:typeof e=="string"?Qh(t,e):void 0;function Ez(e,t,s,r,n){for(const i of t){const o=kz(s,i);if(o){e.add(o);const a=f3(o._fallback,s,n);if(typeof a<"u"&&a!==s&&a!==r)return a}else if(o===!1&&typeof r<"u"&&s!==r)return null}return!1}function ex(e,t,s,r){const n=t._rootScopes,i=f3(t._fallback,s,r),o=[...e,...n],a=new Set;a.add(r);let l=Ww(a,o,s,i||s,r);return l===null||typeof i<"u"&&i!==s&&(l=Ww(a,o,i,l,r),l===null)?!1:Z0(Array.from(a),[""],n,i,()=>Nz(t,s,r))}function Ww(e,t,s,r,n){for(;s;)s=Ez(e,t,s,r,n);return s}function Nz(e,t,s){const r=e._getTarget();t in r||(r[t]={});const n=r[t];return st(n)&&he(s)?s:n||{}}function jz(e,t,s,r){let n;for(const i of t)if(n=p3(bz(i,e),s),typeof n<"u")return J0(e,n)?ex(s,r,e,n):n}function p3(e,t){for(const s of t){if(!s)continue;const r=s[e];if(typeof r<"u")return r}}function Uw(e){let t=e._keys;return t||(t=e._keys=Pz(e._scopes)),t}function Pz(e){const t=new Set;for(const s of e)for(const r of Object.keys(s).filter(n=>!n.startsWith("_")))t.add(r);return Array.from(t)}const Tz=Number.EPSILON||1e-14,ho=(e,t)=>t<e.length&&!e[t].skip&&e[t],m3=e=>e==="x"?"y":"x";function Lz(e,t,s,r){const n=e.skip?t:e,i=t,o=s.skip?t:s,a=og(i,n),l=og(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(o.x-n.x),y:i.y-d*(o.y-n.y)},next:{x:i.x+f*(o.x-n.x),y:i.y+f*(o.y-n.y)}}}function Mz(e,t,s){const r=e.length;let n,i,o,a,l,c=ho(e,0);for(let u=0;u<r-1;++u)if(l=c,c=ho(e,u+1),!(!l||!c)){if(ja(t[u],0,Tz)){s[u]=s[u+1]=0;continue}n=s[u]/t[u],i=s[u+1]/t[u],a=Math.pow(n,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=n*o*t[u],s[u+1]=i*o*t[u])}}function Oz(e,t,s="x"){const r=m3(s),n=e.length;let i,o,a,l=ho(e,0);for(let c=0;c<n;++c){if(o=a,a=l,l=ho(e,c+1),!a)continue;const u=a[s],d=a[r];o&&(i=(u-o[s])/3,a[`cp1${s}`]=u-i,a[`cp1${r}`]=d-i*t[c]),l&&(i=(l[s]-u)/3,a[`cp2${s}`]=u+i,a[`cp2${r}`]=d+i*t[c])}}function Rz(e,t="x"){const s=m3(t),r=e.length,n=Array(r).fill(0),i=Array(r);let o,a,l,c=ho(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=ho(e,o+1),!!l){if(c){const u=c[t]-l[t];n[o]=u!==0?(c[s]-l[s])/u:0}i[o]=a?c?lo(n[o-1])!==lo(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}Mz(e,n,i),Oz(e,i,t)}function pc(e,t,s){return Math.max(Math.min(e,s),t)}function Dz(e,t){let s,r,n,i,o,a=ll(e[0],t);for(s=0,r=e.length;s<r;++s)o=i,i=a,a=s<r-1&&ll(e[s+1],t),i&&(n=e[s],o&&(n.cp1x=pc(n.cp1x,t.left,t.right),n.cp1y=pc(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=pc(n.cp2x,t.left,t.right),n.cp2y=pc(n.cp2y,t.top,t.bottom)))}function Az(e,t,s,r,n){let i,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Rz(e,n);else{let c=r?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)a=e[i],l=Lz(c,a,e[Math.min(i+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Dz(e,s)}function tx(){return typeof window<"u"&&typeof document<"u"}function sx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function eu(e,t,s){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[s])):r=e,r}const Vu=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Bz(e,t){return Vu(e).getPropertyValue(t)}const Iz=["top","right","bottom","left"];function ti(e,t,s){const r={};s=s?"-"+s:"";for(let n=0;n<4;n++){const i=Iz[n];r[i]=parseFloat(e[t+"-"+i+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const $z=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Fz(e,t){const s=e.touches,r=s&&s.length?s[0]:e,{offsetX:n,offsetY:i}=r;let o=!1,a,l;if($z(n,i,e.target))a=n,l=i;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Rn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:r}=t,n=Vu(s),i=n.boxSizing==="border-box",o=ti(n,"padding"),a=ti(n,"border","width"),{x:l,y:c,box:u}=Fz(e,s),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:p}=t;return i&&(m-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/m*s.width/r),y:Math.round((c-f)/p*s.height/r)}}function zz(e,t,s){let r,n;if(t===void 0||s===void 0){const i=e&&sx(e);if(!i)t=e.clientWidth,s=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Vu(i),l=ti(a,"border","width"),c=ti(a,"padding");t=o.width-c.width-l.width,s=o.height-c.height-l.height,r=eu(a.maxWidth,i,"clientWidth"),n=eu(a.maxHeight,i,"clientHeight")}}return{width:t,height:s,maxWidth:r||Jh,maxHeight:n||Jh}}const Qr=e=>Math.round(e*10)/10;function Hz(e,t,s,r){const n=Vu(e),i=ti(n,"margin"),o=eu(n.maxWidth,e,"clientWidth")||Jh,a=eu(n.maxHeight,e,"clientHeight")||Jh,l=zz(e,t,s);let{width:c,height:u}=l;if(n.boxSizing==="content-box"){const f=ti(n,"border","width"),m=ti(n,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=Qr(Math.min(c,o,l.maxWidth)),u=Qr(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Qr(c/2)),(t!==void 0||s!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Qr(Math.floor(u*r))),{width:c,height:u}}function Kw(e,t,s){const r=t||1,n=Qr(e.height*r),i=Qr(e.width*r);e.height=Qr(e.height),e.width=Qr(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==n||o.width!==i?(e.currentDevicePixelRatio=r,o.height=n,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Vz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};tx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function qw(e,t){const s=Bz(e,t),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Dn(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Wz(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:r==="middle"?s<.5?e.y:t.y:r==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Uz(e,t,s,r){const n={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=Dn(e,n,s),a=Dn(n,i,s),l=Dn(i,t,s),c=Dn(o,a,s),u=Dn(a,l,s);return Dn(c,u,s)}const Kz=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},qz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Zi(e,t,s){return e?Kz(t,s):qz()}function g3(e,t){let s,r;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=r)}function v3(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function x3(e){return e==="angle"?{between:r3,compare:W7,normalize:Zs}:{between:Vi,compare:(t,s)=>t-s,normalize:t=>t}}function Yw({start:e,end:t,count:s,loop:r,style:n}){return{start:e%s,end:t%s,loop:r&&(t-e+1)%s===0,style:n}}function Yz(e,t,s){const{property:r,start:n,end:i}=s,{between:o,normalize:a}=x3(r),l=t.length;let{start:c,end:u,loop:d}=e,f,m;if(d){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(t[c%l][r]),n,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function y3(e,t,s){if(!s)return[e];const{property:r,start:n,end:i}=s,o=t.length,{compare:a,between:l,normalize:c}=x3(r),{start:u,end:d,loop:f,style:m}=Yz(e,t,s),p=[];let v=!1,y=null,x,b,_;const w=()=>l(n,_,x)&&a(n,_)!==0,S=()=>a(i,x)===0||l(i,_,x),E=()=>v||w(),k=()=>!v||S();for(let C=u,N=u;C<=d;++C)b=t[C%o],!b.skip&&(x=c(b[r]),x!==_&&(v=l(x,n,i),y===null&&E()&&(y=a(x,n)===0?C:N),y!==null&&k()&&(p.push(Yw({start:y,end:C,loop:f,count:o,style:m})),y=null),N=C,_=x));return y!==null&&p.push(Yw({start:y,end:d,loop:f,count:o,style:m})),p}function _3(e,t){const s=[],r=e.segments;for(let n=0;n<r.length;n++){const i=y3(r[n],e.points,t);i.length&&s.push(...i)}return s}function Xz(e,t,s,r){let n=0,i=t-1;if(s&&!r)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,s&&(i+=n);i>n&&e[i%t].skip;)i--;return i%=t,{start:n,end:i}}function Gz(e,t,s,r){const n=e.length,i=[];let o=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%n];c.skip||c.stop?a.skip||(r=!1,i.push({start:t%n,end:(l-1)%n,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&i.push({start:t%n,end:o%n,loop:r}),i}function Qz(e,t){const s=e.points,r=e.options.spanGaps,n=s.length;if(!n)return[];const i=!!e._loop,{start:o,end:a}=Xz(s,n,i,r);if(r===!0)return Xw(e,[{start:o,end:a,loop:i}],s,t);const l=a<o?a+n:a,c=!!e._fullLoop&&o===0&&a===n-1;return Xw(e,Gz(s,o,l,c),s,t)}function Xw(e,t,s,r){return!r||!r.setContext||!s?t:Zz(e,t,s,r)}function Zz(e,t,s,r){const n=e._chart.getContext(),i=Gw(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=s.length,c=[];let u=i,d=t[0].start,f=d;function m(p,v,y,x){const b=a?-1:1;if(p!==v){for(p+=l;s[p%l].skip;)p-=b;for(;s[v%l].skip;)v+=b;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:y,style:x}),u=x,d=v%l)}}for(const p of t){d=a?d:p.start;let v=s[d%l],y;for(f=d+1;f<=p.end;f++){const x=s[f%l];y=Gw(r.setContext(gi(n,{type:"segment",p0:v,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Jz(y,u)&&m(d,f-1,p.loop,u),v=x,u=y}d<f-1&&m(d,f-1,p.loop,u)}return c}function Gw(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Jz(e,t){if(!t)return!1;const s=[],r=function(n,i){return Q0(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function mc(e,t,s){return e.options.clip?e[s]:t[s]}function eH(e,t){const{xScale:s,yScale:r}=e;return s&&r?{left:mc(s,t,"left"),right:mc(s,t,"right"),top:mc(r,t,"top"),bottom:mc(r,t,"bottom")}:t}function b3(e,t){const s=t._clip;if(s.disabled)return!1;const r=eH(t,e.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,r,n){const i=s.listeners[n],o=s.duration;i.forEach(a=>a({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(r-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=i3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),s+=i.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let r=s.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,r)),r}listen(t,s,r){this._getAnims(t).listeners[s].push(r)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const r=s.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var fr=new tH;const Qw="transparent",sH={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const r=Fw(e||Qw),n=r.valid&&Fw(t||Qw);return n&&n.valid?n.mix(r,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class rH{constructor(t,s,r,n){const i=s[r];n=fc([t.to,n,i,t.from]);const o=fc([t.from,i,n]);this._active=!0,this._fn=t.fn||sH[t.type||typeof o],this._easing=Pa[t.easing]||Pa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=r,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,s,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=fc([t.to,s,n,t.from]),this._from=fc([t.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,r=this._duration,n=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||s<r),!this._active){this._target[n]=a,this._notify(!0);return}if(s<0){this._target[n]=i;return}l=s/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,r)=>{t.push({res:s,rej:r})})}_notify(t){const s=t?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][s]()}}class w3{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!he(t))return;const s=Object.keys(We.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n];if(!he(i))return;const o={};for(const a of s)o[a]=i[a];(st(i.properties)&&i.properties||[n]).forEach(a=>{(a===n||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,s){const r=s.options,n=iH(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&nH(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,s){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,s));continue}const u=s[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}i[c]=d=new rH(f,t,c,u),n.push(d)}return n}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const r=this._createAnimations(t,s);if(r.length)return fr.add(this._chart,r),!0}}function nH(e,t){const s=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const i=e[r[n]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function iH(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Zw(e,t){const s=e&&e.options||{},r=s.reverse,n=s.min===void 0?t:0,i=s.max===void 0?t:0;return{start:r?i:n,end:r?n:i}}function oH(e,t,s){if(s===!1)return!1;const r=Zw(e,s),n=Zw(t,s);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function aH(e){let t,s,r,n;return he(e)?(t=e.top,s=e.right,r=e.bottom,n=e.left):t=s=r=n=e,{top:t,right:s,bottom:r,left:n,disabled:e===!1}}function S3(e,t){const s=[],r=e._getSortedDatasetMetas(t);let n,i;for(n=0,i=r.length;n<i;++n)s.push(r[n].index);return s}function Jw(e,t,s,r={}){const n=e.keys,i=r.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===s){if(u=!0,r.all)continue;break}c=e.values[l],Pt(c)&&(i||t===0||lo(t)===lo(c))&&(t+=c)}return!u&&!r.all?0:t}function lH(e,t){const{iScale:s,vScale:r}=t,n=s.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[n]:u,[i]:e[u]};return a}function sp(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function cH(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function hH(e){const{min:t,max:s,minDefined:r,maxDefined:n}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function uH(e,t,s){const r=e[t]||(e[t]={});return r[s]||(r[s]={})}function eS(e,t,s,r){for(const n of t.getMatchingVisibleMetas(r).reverse()){const i=e[n.index];if(s&&i>0||!s&&i<0)return n.index}return null}function tS(e,t){const{chart:s,_cachedMeta:r}=e,n=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=cH(i,o,r),d=t.length;let f;for(let m=0;m<d;++m){const p=t[m],{[l]:v,[c]:y}=p,x=p._stacks||(p._stacks={});f=x[c]=uH(n,u,v),f[a]=y,f._top=eS(f,o,!0,r.type),f._bottom=eS(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[a]=y}}function rp(e,t){const s=e.scales;return Object.keys(s).filter(r=>s[r].axis===t).shift()}function dH(e,t){return gi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function fH(e,t,s){return gi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function zo(e,t){const s=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const n of t){const i=n._stacks;if(!i||i[r]===void 0||i[r][s]===void 0)return;delete i[r][s],i[r]._visualValues!==void 0&&i[r]._visualValues[s]!==void 0&&delete i[r]._visualValues[s]}}}const np=e=>e==="reset"||e==="none",sS=(e,t)=>t?e:Object.assign({},e),pH=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:S3(s,!0),values:null};class Ma{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,r=this.getDataset(),n=(d,f,m,p)=>d==="x"?f:d==="r"?p:m,i=s.xAxisID=ce(r.xAxisID,rp(t,"x")),o=s.yAxisID=ce(r.yAxisID,rp(t,"y")),a=s.rAxisID=ce(r.rAxisID,rp(t,"r")),l=s.indexAxis,c=s.iAxisID=n(l,i,o,a),u=s.vAxisID=n(l,o,i,a);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bw(this._data,this),t._stacked&&zo(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),r=this._data;if(he(s)){const n=this._cachedMeta;this._data=lH(s,n)}else if(r!==s){if(r){Bw(r,this);const n=this._cachedMeta;zo(n),n._parsed=[]}s&&Object.isExtensible(s)&&Y7(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=s._stacked;s._stacked=sp(s.vScale,s),s.stack!==r.stack&&(n=!0,zo(s),s.stack=r.stack),this._resyncElements(t),(n||i!==s._stacked)&&(tS(this,s._parsed),s._stacked=sp(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&s===n.length?!0:r._sorted,c=t>0&&r._parsed[t-1],u,d,f;if(this._parsing===!1)r._parsed=n,r._sorted=!0,f=n;else{st(n[t])?f=this.parseArrayData(r,n,t,s):he(n[t])?f=this.parseObjectData(r,n,t,s):f=this.parsePrimitiveData(r,n,t,s);const m=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)r._parsed[u+t]=d=f[u],l&&(m()&&(l=!1),c=d);r._sorted=l}o&&tS(this,f)}parsePrimitiveData(t,s,r,n){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(n);let f,m,p;for(f=0,m=n;f<m;++f)p=f+r,d[f]={[a]:u||i.parse(c[p],p),[l]:o.parse(s[p],p)};return d}parseArrayData(t,s,r,n){const{xScale:i,yScale:o}=t,a=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=s[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(t,s,r,n){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let u,d,f,m;for(u=0,d=n;u<d;++u)f=u+r,m=s[f],c[u]={x:i.parse(Qh(m,a),f),y:o.parse(Qh(m,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,r){const n=this.chart,i=this._cachedMeta,o=s[t.axis],a={keys:S3(n,!0),values:s._stacks[t.axis]._visualValues};return Jw(a,o,i.index,{mode:r})}updateRangeFromParsed(t,s,r,n){const i=r[s.axis];let o=i===null?NaN:i;const a=n&&r._stacks[s.axis];n&&a&&(n.values=a,o=Jw(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,o=n.length,a=this._getOtherScale(t),l=pH(s,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=hH(a);let f,m;function p(){m=n[f];const v=m[a.axis];return!Pt(m[t.axis])||u>v||d<v}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,m,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,m,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,r=[];let n,i,o;for(n=0,i=s.length;n<i;++n)o=s[n][t.axis],Pt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,r=s.iScale,n=s.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=aH(ce(this.options.clip,oH(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,r=this._cachedMeta,n=r.data||[],i=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,i,a,l),u=a;u<a+l;++u){const d=n[u];d.hidden||(d.active&&c?o.push(d):d.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,s){const r=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,s,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=fH(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=dH(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",r){const n=s==="active",i=this._cachedDataOpts,o=t+"-"+s,a=i[o],l=this.enableOptionSharing&&Zh(r);if(a)return sS(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=n?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(We.elements[t]),p=()=>this.getContext(r,n,s),v=c.resolveNamedOptions(f,m,p,d);return v.$shared&&(v.$shared=l,i[o]=Object.freeze(sS(v,l))),v}_resolveAnimations(t,s,r){const n=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,a=i[o];if(a)return a;let l;if(n.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(t,r,s))}const c=new w3(n,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||np(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const r=this.resolveDataElementOptions(t,s),n=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(s,i)||i!==n;return this.updateSharedOptions(i,s,r),{sharedOptions:i,includeOptions:o}}updateElement(t,s,r,n){np(n)?Object.assign(t,r):this._resolveAnimations(s,n).update(t,r)}updateSharedOptions(t,s,r){t&&!np(s)&&this._resolveAnimations(void 0,s).update(t,r)}_setStyle(t,s,r,n){t.active=n;const i=this.getStyle(s,n);this._resolveAnimations(s,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,s,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,s,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=r.length,i=s.length,o=Math.min(i,n);o&&this.parse(0,o),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,s,r=!0){const n=this._cachedMeta,i=n.data,o=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,s),r&&this.updateElements(i,t,s,"reset")}updateElements(t,s,r,n){}_removeElements(t,s){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,s);r._stacked&&zo(r,n)}r.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,r,n]=t;this[s](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ne(Ma,"defaults",{}),ne(Ma,"datasetElementType",null),ne(Ma,"dataElementType",null);class rh extends Ma{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=Z7(s,n,o);this._drawStart=a,this._drawCount=l,J7(s)&&(a=0,l=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(n,a,l,t)}updateElements(t,s,r,n){const i=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,n),f=o.axis,m=a.axis,{spanGaps:p,segment:v}=this.options,y=al(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||n==="none",b=s+r,_=t.length;let w=s>0&&this.getParsed(s-1);for(let S=0;S<_;++S){const E=t[S],k=x?E:{};if(S<s||S>=b){k.skip=!0;continue}const C=this.getParsed(S),N=be(C[m]),P=k[f]=o.getPixelForValue(C[f],S),M=k[m]=i||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[m],S);k.skip=isNaN(P)||isNaN(M)||N,k.stop=S>0&&Math.abs(C[f]-w[f])>y,v&&(k.parsed=C,k.raw=c.data[S]),d&&(k.options=u||this.resolveDataElementOptions(S,E.active?"active":n)),x||this.updateElement(E,S,k,n),w=C}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,r=s.options&&s.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ne(rh,"id","line"),ne(rh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ne(rh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Pn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rx{constructor(t){ne(this,"options");this.options=t||{}}static override(t){Object.assign(rx.prototype,t)}init(){}formats(){return Pn()}parse(){return Pn()}format(){return Pn()}add(){return Pn()}diff(){return Pn()}startOf(){return Pn()}endOf(){return Pn()}}var mH={_date:rx};function gH(e,t,s,r){const{controller:n,data:i,_sorted:o}=e,a=n._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const c=a._reversePixels?K7:Yn;if(r){if(n._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const f=c(i,t,s-d),m=c(i,t,s+d);return{lo:f.lo,hi:m.hi}}}}else{const u=c(i,t,s);if(l){const{vScale:d}=n._cachedMeta,{_parsed:f}=e,m=f.slice(0,u.lo+1).reverse().findIndex(v=>!be(v[d.axis]));u.lo-=Math.max(0,m);const p=f.slice(u.hi).findIndex(v=>!be(v[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:i.length-1}}function Wu(e,t,s,r,n){const i=e.getSortedVisibleDatasetMetas(),o=s[t];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=gH(i[a],t,o,n);for(let m=d;m<=f;++m){const p=u[m];p.skip||r(p,c,m)}}}function vH(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(r,n){const i=t?Math.abs(r.x-n.x):0,o=s?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function ip(e,t,s,r,n){const i=[];return!n&&!e.isPointInArea(t)||Wu(e,s,t,function(a,l,c){!n&&!ll(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function xH(e,t,s,r){let n=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=V7(o,{x:t.x,y:t.y});r3(d,c,u)&&n.push({element:o,datasetIndex:a,index:l})}return Wu(e,s,t,i),n}function yH(e,t,s,r,n,i){let o=[];const a=vH(s);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const m=u.inRange(t.x,t.y,n);if(r&&!m)return;const p=u.getCenterPoint(n);if(!(!!i||e.isPointInArea(p))&&!m)return;const y=a(t,p);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return Wu(e,s,t,c),o}function op(e,t,s,r,n,i){return!i&&!e.isPointInArea(t)?[]:s==="r"&&!r?xH(e,t,s,n):yH(e,t,s,r,n,i)}function rS(e,t,s,r,n){const i=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return Wu(e,s,t,(l,c,u)=>{l[o]&&l[o](t[s],n)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,n))}),r&&!a?[]:i}var _H={modes:{index(e,t,s,r){const n=Rn(t,e),i=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?ip(e,n,i,r,o):op(e,n,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,r){const n=Rn(t,e),i=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?ip(e,n,i,r,o):op(e,n,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,r){const n=Rn(t,e),i=s.axis||"xy",o=s.includeInvisible||!1;return ip(e,n,i,r,o)},nearest(e,t,s,r){const n=Rn(t,e),i=s.axis||"xy",o=s.includeInvisible||!1;return op(e,n,i,s.intersect,r,o)},x(e,t,s,r){const n=Rn(t,e);return rS(e,n,"x",s.intersect,r)},y(e,t,s,r){const n=Rn(t,e);return rS(e,n,"y",s.intersect,r)}}};const C3=["left","top","right","bottom"];function Ho(e,t){return e.filter(s=>s.pos===t)}function nS(e,t){return e.filter(s=>C3.indexOf(s.pos)===-1&&s.box.axis===t)}function Vo(e,t){return e.sort((s,r)=>{const n=t?r:s,i=t?s:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function bH(e){const t=[];let s,r,n,i,o,a;for(s=0,r=(e||[]).length;s<r;++s)n=e[s],{position:i,options:{stack:o,stackWeight:a=1}}=n,t.push({index:s,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&i+o,stackWeight:a});return t}function wH(e){const t={};for(const s of e){const{stack:r,pos:n,stackWeight:i}=s;if(!r||!C3.includes(n))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function SH(e,t){const s=wH(e),{vBoxMaxWidth:r,hBoxMaxHeight:n}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=n):(a.width=r,a.height=u?u*n:l&&t.availableHeight)}return s}function CH(e){const t=bH(e),s=Vo(t.filter(c=>c.box.fullSize),!0),r=Vo(Ho(t,"left"),!0),n=Vo(Ho(t,"right")),i=Vo(Ho(t,"top"),!0),o=Vo(Ho(t,"bottom")),a=nS(t,"x"),l=nS(t,"y");return{fullSize:s,leftAndTop:r.concat(i),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Ho(t,"chartArea"),vertical:r.concat(n).concat(l),horizontal:i.concat(o).concat(a)}}function iS(e,t,s,r){return Math.max(e[s],t[s])+Math.max(e[r],t[r])}function k3(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function kH(e,t,s,r){const{pos:n,box:i}=s,o=e.maxPadding;if(!he(n)){s.size&&(e[n]-=s.size);const d=r[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?i.height:i.width),s.size=d.size/d.count,e[n]+=s.size}i.getPadding&&k3(o,i.getPadding());const a=Math.max(0,t.outerWidth-iS(o,e,"left","right")),l=Math.max(0,t.outerHeight-iS(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function EH(e){const t=e.maxPadding;function s(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function NH(e,t){const s=t.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{i[o]=Math.max(t[o],s[o])}),i}return r(e?["left","right"]:["top","bottom"])}function aa(e,t,s,r){const n=[];let i,o,a,l,c,u;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,NH(a.horizontal,t));const{same:d,other:f}=kH(t,s,a,r);c|=d&&n.length,u=u||f,l.fullSize||n.push(a)}return c&&aa(n,t,s,r)||u}function gc(e,t,s,r,n){e.top=s,e.left=t,e.right=t+r,e.bottom=s+n,e.width=r,e.height=n}function oS(e,t,s,r){const n=s.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;Zh(c.start)&&(o=c.start),l.fullSize?gc(l,n.left,o,s.outerWidth-n.right-n.left,f):gc(l,t.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,f=c.size||l.width;Zh(c.start)&&(i=c.start),l.fullSize?gc(l,i,n.top,f,s.outerHeight-n.bottom-n.top):gc(l,i,t.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}t.x=i,t.y=o}var vs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,r){if(!e)return;const n=Cs(e.options.layout.padding),i=Math.max(t-n.width,0),o=Math.max(s-n.height,0),a=CH(e.boxes),l=a.vertical,c=a.horizontal;ge(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:s,padding:n,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},n);k3(f,Cs(r));const m=Object.assign({maxPadding:f,w:i,h:o,x:n.left,y:n.top},n),p=SH(l.concat(c),d);aa(a.fullSize,m,d,p),aa(l,m,d,p),aa(c,m,d,p)&&aa(l,m,d,p),EH(m),oS(a.leftAndTop,m,d,p),m.x+=m.w,m.y+=m.h,oS(a.rightAndBottom,m,d,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ge(a.chartArea,v=>{const y=v.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class E3{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,r){}removeEventListener(t,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,r,n){return s=Math.max(0,s||t.width),r=r||t.height,{width:s,height:Math.max(0,n?Math.floor(s/n):r)}}isAttached(t){return!0}updateConfig(t){}}class jH extends E3{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nh="$chartjs",PH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aS=e=>e===null||e==="";function TH(e,t){const s=e.style,r=e.getAttribute("height"),n=e.getAttribute("width");if(e[nh]={initial:{height:r,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",aS(n)){const i=qw(e,"width");i!==void 0&&(e.width=i)}if(aS(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=qw(e,"height");i!==void 0&&(e.height=i)}return e}const N3=Vz?{passive:!0}:!1;function LH(e,t,s){e&&e.addEventListener(t,s,N3)}function MH(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,N3)}function OH(e,t){const s=PH[e.type]||e.type,{x:r,y:n}=Rn(e,t);return{type:s,chart:t,native:e,x:r!==void 0?r:null,y:n!==void 0?n:null}}function tu(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function RH(e,t,s){const r=e.canvas,n=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||tu(a.addedNodes,r),o=o&&!tu(a.removedNodes,r);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function DH(e,t,s){const r=e.canvas,n=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||tu(a.removedNodes,r),o=o&&!tu(a.addedNodes,r);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const hl=new Map;let lS=0;function j3(){const e=window.devicePixelRatio;e!==lS&&(lS=e,hl.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function AH(e,t){hl.size||window.addEventListener("resize",j3),hl.set(e,t)}function BH(e){hl.delete(e),hl.size||window.removeEventListener("resize",j3)}function IH(e,t,s){const r=e.canvas,n=r&&sx(r);if(!n)return;const i=o3((a,l)=>{const c=n.clientWidth;s(a,l),c<n.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(n),AH(e,i),o}function ap(e,t,s){s&&s.disconnect(),t==="resize"&&BH(e)}function $H(e,t,s){const r=e.canvas,n=o3(i=>{e.ctx!==null&&s(OH(i,e))},e);return LH(r,t,n),n}class FH extends E3{acquireContext(t,s){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(TH(t,s),r):null}releaseContext(t){const s=t.canvas;if(!s[nh])return!1;const r=s[nh].initial;["height","width"].forEach(i=>{const o=r[i];be(o)?s.removeAttribute(i):s.setAttribute(i,o)});const n=r.style||{};return Object.keys(n).forEach(i=>{s.style[i]=n[i]}),s.width=s.width,delete s[nh],!0}addEventListener(t,s,r){this.removeEventListener(t,s);const n=t.$proxies||(t.$proxies={}),o={attach:RH,detach:DH,resize:IH}[s]||$H;n[s]=o(t,s,r)}removeEventListener(t,s){const r=t.$proxies||(t.$proxies={}),n=r[s];if(!n)return;({attach:ap,detach:ap,resize:ap}[s]||MH)(t,s,n),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,r,n){return Hz(t,s,r,n)}isAttached(t){const s=t&&sx(t);return!!(s&&s.isConnected)}}function zH(e){return!tx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?jH:FH}var Lc;let vi=(Lc=class{constructor(){ne(this,"x");ne(this,"y");ne(this,"active",!1);ne(this,"options");ne(this,"$animations")}tooltipPosition(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}hasValue(){return al(this.x)&&al(this.y)}getProps(t,s){const r=this.$animations;if(!s||!r)return this;const n={};return t.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}},ne(Lc,"defaults",{}),ne(Lc,"defaultRoutes"),Lc);function HH(e,t){const s=e.options.ticks,r=VH(e),n=Math.min(s.maxTicksLimit||r,r),i=s.major.enabled?UH(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>n)return KH(t,c,i,o/n),c;const u=WH(i,t,n);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(vc(t,c,u,be(m)?0:a-m,a),d=0,f=o-1;d<f;d++)vc(t,c,u,i[d],i[d+1]);return vc(t,c,u,l,be(m)?t.length:l+m),c}return vc(t,c,u),c}function VH(e){const t=e.options.offset,s=e._tickSize(),r=e._length/s+(t?0:1),n=e._maxLength/s;return Math.floor(Math.min(r,n))}function WH(e,t,s){const r=qH(e),n=t.length/s;if(!r)return Math.max(n,1);const i=I7(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>n)return l}return Math.max(n,1)}function UH(e){const t=[];let s,r;for(s=0,r=e.length;s<r;s++)e[s].major&&t.push(s);return t}function KH(e,t,s,r){let n=0,i=s[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),n++,i=s[n*r])}function vc(e,t,s,r,n){const i=ce(r,0),o=Math.min(ce(n,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),n&&(l=n-r,s=l/Math.floor(l/s)),u=i;u<0;)a++,u=Math.round(i+a*s);for(c=Math.max(i,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(i+a*s))}function qH(e){const t=e.length;let s,r;if(t<2)return!1;for(r=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==r)return!1;return r}const YH=e=>e==="left"?"right":e==="right"?"left":e,cS=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,hS=(e,t)=>Math.min(t||e,e);function uS(e,t){const s=[],r=e.length/t,n=e.length;let i=0;for(;i<n;i+=r)s.push(e[Math.floor(i)]);return s}function XH(e,t,s){const r=e.ticks.length,n=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(n),c;if(!(s&&(r===1?c=Math.max(l-i,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<i-a||l>o+a)))return l}function GH(e,t){ge(e,s=>{const r=s.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete s.data[r[i]];r.splice(0,n)}})}function Wo(e){return e.drawTicks?e.tickLength:0}function dS(e,t){if(!e.display)return 0;const s=Nt(e.font,t),r=Cs(e.padding);return(st(e.text)?e.text.length:1)*s.lineHeight+r.height}function QH(e,t){return gi(e,{scale:t,type:"scale"})}function ZH(e,t,s){return gi(e,{tick:s,index:t,type:"tick"})}function JH(e,t,s){let r=G0(e);return(s&&t!=="right"||!s&&t==="right")&&(r=YH(r)),r}function eV(e,t,s,r){const{top:n,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,f,m,p;const v=o-n,y=a-i;if(e.isHorizontal()){if(m=St(r,i,a),he(s)){const x=Object.keys(s)[0],b=s[x];p=u[x].getPixelForValue(b)+v-t}else s==="center"?p=(c.bottom+c.top)/2+v-t:p=cS(e,s,t);f=a-i}else{if(he(s)){const x=Object.keys(s)[0],b=s[x];m=u[x].getPixelForValue(b)-y+t}else s==="center"?m=(c.left+c.right)/2-y+t:m=cS(e,s,t);p=St(r,o,n),d=s==="left"?-Rs:Rs}return{titleX:m,titleY:p,maxWidth:f,rotation:d}}class Eo extends vi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:r,_suggestedMax:n}=this;return t=Ws(t,Number.POSITIVE_INFINITY),s=Ws(s,Number.NEGATIVE_INFINITY),r=Ws(r,Number.POSITIVE_INFINITY),n=Ws(n,Number.NEGATIVE_INFINITY),{min:Ws(t,r),max:Ws(s,n),minDefined:Pt(t),maxDefined:Pt(s)}}getMinMax(t){let{min:s,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),o;if(n&&i)return{min:s,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),n||(s=Math.min(s,o.min)),i||(r=Math.max(r,o.max));return s=i&&s>r?r:s,r=n&&s>r?s:r,{min:Ws(s,Ws(r,s)),max:Ws(r,Ws(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(t,s,r){const{beginAtZero:n,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_z(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?uS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,t=!t),this._startPixel=s,this._endPixel=r,this._reversePixels=t,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=ke(s.callback,[i.value,r,t],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,r=hS(this.ticks.length,t.ticks.maxTicksLimit),n=s.minRotation||0,i=s.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!s.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,m=gs(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(t.offset?.5:1)),l=this.maxHeight-Wo(t.grid)-s.padding-dS(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=H7(Math.min(Math.asin(gs((u.highest.height+6)/a,-1,1)),Math.asin(gs(l/c,-1,1))-Math.asin(gs(f/c,-1,1)))),o=Math.max(n,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:r,title:n,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=dS(n,s.options.font);if(a?(t.width=this.maxWidth,t.height=Wo(i)+l):(t.height=this.maxHeight,t.width=Wo(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,p=qn(this.labelRotation),v=Math.cos(p),y=Math.sin(p);if(a){const x=r.mirror?0:y*d.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+x+m)}else{const x=r.mirror?0:v*d.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+x+m)}this._calculatePadding(c,u,y,v)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,r,n){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=n*t.width,m=r*s.height):(f=r*t.height,m=n*s.width):i==="start"?m=s.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,m=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=t.height/2;i==="start"?(u=0,d=t.height):i==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,r;for(s=0,r=t.length;s<r;s++)be(t[s].label)&&(t.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=uS(r,s)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,r){const{ctx:n,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(s/hS(s,r));let c=0,u=0,d,f,m,p,v,y,x,b,_,w,S;for(d=0;d<s;d+=l){if(p=t[d].label,v=this._resolveTickFontOptions(d),n.font=y=v.string,x=i[y]=i[y]||{data:{},gc:[]},b=v.lineHeight,_=w=0,!be(p)&&!st(p))_=Hw(n,x.data,x.gc,_,p),w=b;else if(st(p))for(f=0,m=p.length;f<m;++f)S=p[f],!be(S)&&!st(S)&&(_=Hw(n,x.data,x.gc,_,S),w+=b);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}GH(i,s);const E=o.indexOf(c),k=a.indexOf(u),C=N=>({width:o[N]||0,height:a[N]||0});return{first:C(0),last:C(s-1),widest:C(E),highest:C(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return U7(this._alignToPixels?jn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const r=s[t];return r.$context||(r.$context=ZH(this.getContext(),t,r))}return this.$context||(this.$context=QH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=qn(this.labelRotation),r=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*n?a/r:l/n:l*n<a*r?l/r:a/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,r=this.chart,n=this.options,{grid:i,position:o,border:a}=n,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Wo(i),m=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,y=v/2,x=function(A){return jn(r,A,v)};let b,_,w,S,E,k,C,N,P,M,T,L;if(o==="top")b=x(this.bottom),k=this.bottom-f,N=b-y,M=x(t.top)+y,L=t.bottom;else if(o==="bottom")b=x(this.top),M=t.top,L=x(t.bottom)-y,k=b+y,N=this.top+f;else if(o==="left")b=x(this.right),E=this.right-f,C=b-y,P=x(t.left)+y,T=t.right;else if(o==="right")b=x(this.left),P=t.left,T=x(t.right)-y,E=b+y,C=this.left+f;else if(s==="x"){if(o==="center")b=x((t.top+t.bottom)/2+.5);else if(he(o)){const A=Object.keys(o)[0],F=o[A];b=x(this.chart.scales[A].getPixelForValue(F))}M=t.top,L=t.bottom,k=b+y,N=k+f}else if(s==="y"){if(o==="center")b=x((t.left+t.right)/2);else if(he(o)){const A=Object.keys(o)[0],F=o[A];b=x(this.chart.scales[A].getPixelForValue(F))}E=b-y,C=E-f,P=t.left,T=t.right}const $=ce(n.ticks.maxTicksLimit,d),O=Math.max(1,Math.ceil(d/$));for(_=0;_<d;_+=O){const A=this.getContext(_),F=i.setContext(A),j=a.setContext(A),B=F.lineWidth,V=F.color,Y=j.dash||[],D=j.dashOffset,K=F.tickWidth,X=F.tickColor,z=F.tickBorderDash||[],Z=F.tickBorderDashOffset;w=XH(this,_,l),w!==void 0&&(S=jn(r,w,B),c?E=C=P=T=S:k=N=M=L=S,m.push({tx1:E,ty1:k,tx2:C,ty2:N,x1:P,y1:M,x2:T,y2:L,width:B,color:V,borderDash:Y,borderDashOffset:D,tickWidth:K,tickColor:X,tickBorderDash:z,tickBorderDashOffset:Z}))}return this._ticksLength=d,this._borderValue=b,m}_computeLabelItems(t){const s=this.axis,r=this.options,{position:n,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Wo(r.grid),m=f+u,p=d?-u:m,v=-qn(this.labelRotation),y=[];let x,b,_,w,S,E,k,C,N,P,M,T,L="middle";if(n==="top")E=this.bottom-p,k=this._getXAxisLabelAlignment();else if(n==="bottom")E=this.top+p,k=this._getXAxisLabelAlignment();else if(n==="left"){const O=this._getYAxisLabelAlignment(f);k=O.textAlign,S=O.x}else if(n==="right"){const O=this._getYAxisLabelAlignment(f);k=O.textAlign,S=O.x}else if(s==="x"){if(n==="center")E=(t.top+t.bottom)/2+m;else if(he(n)){const O=Object.keys(n)[0],A=n[O];E=this.chart.scales[O].getPixelForValue(A)+m}k=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")S=(t.left+t.right)/2-m;else if(he(n)){const O=Object.keys(n)[0],A=n[O];S=this.chart.scales[O].getPixelForValue(A)}k=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const $=this._getLabelSizes();for(x=0,b=a.length;x<b;++x){_=a[x],w=_.label;const O=i.setContext(this.getContext(x));C=this.getPixelForTick(x)+i.labelOffset,N=this._resolveTickFontOptions(x),P=N.lineHeight,M=st(w)?w.length:1;const A=M/2,F=O.color,j=O.textStrokeColor,B=O.textStrokeWidth;let V=k;o?(S=C,k==="inner"&&(x===b-1?V=this.options.reverse?"left":"right":x===0?V=this.options.reverse?"right":"left":V="center"),n==="top"?c==="near"||v!==0?T=-M*P+P/2:c==="center"?T=-$.highest.height/2-A*P+P:T=-$.highest.height+P/2:c==="near"||v!==0?T=P/2:c==="center"?T=$.highest.height/2-A*P:T=$.highest.height-M*P,d&&(T*=-1),v!==0&&!O.showLabelBackdrop&&(S+=P/2*Math.sin(v))):(E=C,T=(1-M)*P/2);let Y;if(O.showLabelBackdrop){const D=Cs(O.backdropPadding),K=$.heights[x],X=$.widths[x];let z=T-D.top,Z=0-D.left;switch(L){case"middle":z-=K/2;break;case"bottom":z-=K;break}switch(k){case"center":Z-=X/2;break;case"right":Z-=X;break;case"inner":x===b-1?Z-=X:x>0&&(Z-=X/2);break}Y={left:Z,top:z,width:X+D.width,height:K+D.height,color:O.backdropColor}}y.push({label:w,font:N,textOffset:T,options:{rotation:v,color:F,strokeColor:j,strokeWidth:B,textAlign:V,textBaseline:L,translation:[S,E],backdrop:Y}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-qn(this.labelRotation))return t==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let c,u;return s==="left"?n?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?n?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:r,top:n,width:i,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(r,n,i,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(i=>i.value===t);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const s=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(s.display)for(i=0,o=n.length;i<o;++i){const l=n[i];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=jn(t,this.left,o)-o/2,u=jn(t,this.right,a)+a/2,d=f=l):(d=jn(t,this.top,o)-o/2,f=jn(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&zu(r,n);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;cl(r,c,0,u,l,a)}n&&Hu(r)}drawTitle(){const{ctx:t,options:{position:s,title:r,reverse:n}}=this;if(!r.display)return;const i=Nt(r.font),o=Cs(r.padding),a=r.align;let l=i.lineHeight/2;s==="bottom"||s==="center"||he(s)?(l+=o.bottom,st(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=eV(this,l,s,a);cl(t,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:JH(a,s,n),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,r=ce(t.grid&&t.grid.z,-1),n=ce(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Eo.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,o;for(i=0,o=s.length;i<o;++i){const a=s[i];a[r]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Nt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xc{constructor(t,s,r){this.type=t,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let r;rV(s)&&(r=this.register(s));const n=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,tV(t,o,r),this.override&&We.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,r=t.id,n=this.scope;r in s&&delete s[r],n&&r in We[n]&&(delete We[n][r],this.override&&delete hi[r])}}function tV(e,t,s){const r=ol(Object.create(null),[s?We.get(s):{},We.get(t),e.defaults]);We.set(t,r),e.defaultRoutes&&sV(t,e.defaultRoutes),e.descriptors&&We.describe(t,e.descriptors)}function sV(e,t){Object.keys(t).forEach(s=>{const r=s.split("."),n=r.pop(),i=[e].concat(r).join("."),o=t[s].split("."),a=o.pop(),l=o.join(".");We.route(i,n,l,a)})}function rV(e){return"id"in e&&"defaults"in e}class nV{constructor(){this.controllers=new xc(Ma,"datasets",!0),this.elements=new xc(vi,"elements"),this.plugins=new xc(Object,"plugins"),this.scales=new xc(Eo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,r){[...s].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(t,i,n):ge(n,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,s,r){const n=Y0(t);ke(r["before"+n],[],r),s[t](r),ke(r["after"+n],[],r)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(t))return r}return this.plugins}_get(t,s,r){const n=s.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var Qs=new nV;class iV{constructor(){this._init=void 0}notify(t,s,r,n){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(i,t,s,r);return s==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,s,r,n){n=n||{};for(const i of t){const o=i.plugin,a=o[r],l=[s,n,i.options];if(ke(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const r=t&&t.config,n=ce(r.options&&r.options.plugins,{}),i=oV(r);return n===!1&&!s?[]:lV(t,i,n,s)}_notifyStateChanges(t){const s=this._oldCache||[],r=this._cache,n=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(s,r),t,"stop"),this._notify(n(r,s),t,"start")}}function oV(e){const t={},s=[],r=Object.keys(Qs.plugins.items);for(let i=0;i<r.length;i++)s.push(Qs.getPlugin(r[i]));const n=e.plugins||[];for(let i=0;i<n.length;i++){const o=n[i];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function aV(e,t){return!t&&e===!1?null:e===!0?{}:e}function lV(e,{plugins:t,localIds:s},r,n){const i=[],o=e.getContext();for(const a of t){const l=a.id,c=aV(r[l],n);c!==null&&i.push({plugin:a,options:cV(e.config,{plugin:a,local:s[l]},c,o)})}return i}function cV(e,{plugin:t,local:s},r,n){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hg(e,t){const s=We.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function hV(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function uV(e,t){return e===t?"_index_":"_value_"}function fS(e){if(e==="x"||e==="y"||e==="r")return e}function dV(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ug(e,...t){if(fS(e))return e;for(const s of t){const r=s.axis||dV(s.position)||e.length>1&&fS(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pS(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function fV(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(s.length)return pS(e,"x",s[0])||pS(e,"y",s[0])}return{}}function pV(e,t){const s=hi[e.type]||{scales:{}},r=t.scales||{},n=hg(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ug(o,a,fV(o,e),We.scales[a.type]),c=uV(l,n),u=s.scales||{};i[o]=Na(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||hg(a,t),u=(hi[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=hV(d,l),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Na(i[m],[{axis:f},r[m],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];Na(a,[We.scales[a.type],We.scale])}),i}function P3(e){const t=e.options||(e.options={});t.plugins=ce(t.plugins,{}),t.scales=pV(e,t)}function T3(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function mV(e){return e=e||{},e.data=T3(e.data),P3(e),e}const mS=new Map,L3=new Set;function yc(e,t){let s=mS.get(e);return s||(s=t(),mS.set(e,s),L3.add(s)),s}const Uo=(e,t,s)=>{const r=Qh(t,s);r!==void 0&&e.add(r)};class gV{constructor(t){this._config=mV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=T3(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),P3(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return yc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return yc(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return yc(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,r=this.type;return yc(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const r=this._scopeCache;let n=r.get(t);return(!n||s)&&(n=new Map,r.set(t,n)),n}getOptionScopes(t,s,r){const{options:n,type:i}=this,o=this._cachedScopes(t,r),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(d=>Uo(l,t,d))),u.forEach(d=>Uo(l,n,d)),u.forEach(d=>Uo(l,hi[i]||{},d)),u.forEach(d=>Uo(l,We,d)),u.forEach(d=>Uo(l,ag,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),L3.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,hi[s]||{},We.datasets[s]||{},{type:s},We,ag]}resolveNamedOptions(t,s,r,n=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=gS(this._resolverCache,t,n);let l=o;if(xV(o,s)){i.$shared=!1,r=yn(r)?r():r;const c=this.createResolver(t,r,a);l=co(o,r,c)}for(const c of s)i[c]=l[c];return i}createResolver(t,s,r=[""],n){const{resolver:i}=gS(this._resolverCache,t,r);return he(s)?co(i,s,void 0,n):i}}function gS(e,t,s){let r=e.get(t);r||(r=new Map,e.set(t,r));const n=s.join();let i=r.get(n);return i||(i={resolver:Z0(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},r.set(n,i)),i}const vV=e=>he(e)&&Object.getOwnPropertyNames(e).some(t=>yn(e[t]));function xV(e,t){const{isScriptable:s,isIndexable:r}=u3(e);for(const n of t){const i=s(n),o=r(n),a=(o||i)&&e[n];if(i&&(yn(a)||vV(a))||o&&st(a))return!0}return!1}var yV="4.5.1";const _V=["top","bottom","left","right","chartArea"];function vS(e,t){return e==="top"||e==="bottom"||_V.indexOf(e)===-1&&t==="x"}function xS(e,t){return function(s,r){return s[e]===r[e]?s[t]-r[t]:s[e]-r[e]}}function yS(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),ke(s&&s.onComplete,[e],t)}function bV(e){const t=e.chart,s=t.options.animation;ke(s&&s.onProgress,[e],t)}function M3(e){return tx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ih={},_S=e=>{const t=M3(e);return Object.values(ih).filter(s=>s.canvas===t).pop()};function wV(e,t,s){const r=Object.keys(e);for(const n of r){const i=+n;if(i>=t){const o=e[n];delete e[n],(s>0||i>t)&&(e[i+s]=o)}}}function SV(e,t,s,r){return!s||e.type==="mouseout"?null:r?t:e}var Ir;let Uu=(Ir=class{static register(...t){Qs.add(...t),bS()}static unregister(...t){Qs.remove(...t),bS()}constructor(t,s){const r=this.config=new gV(s),n=M3(t),i=_S(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zH(n)),this.platform.updateConfig(r);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=P7(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new iV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G7(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],ih[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fr.listen(this,"complete",yS),fr.listen(this,"progress",bV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:r,height:n,_aspectRatio:i}=this;return be(t)?s&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vw(this.canvas,this.ctx),this}stop(){return fr.stop(this),this}resize(t,s){fr.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,s,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ke(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ge(s,(r,n)=>{r.id=n})}buildOrUpdateScales(){const t=this.options,s=t.scales,r=this.scales,n=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const a=s[o],l=ug(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ge(i,o=>{const a=o.options,l=a.id,c=ug(l,a),u=ce(a.type,o.dtype);(a.position===void 0||vS(a.position,c)!==vS(o.dposition))&&(a.position=o.dposition),n[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=Qs.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,t)}),ge(n,(o,a)=>{o||delete r[a]}),ge(r,o=>{vs.configure(this,o,o.options),vs.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,r=t.length;if(t.sort((n,i)=>n.index-i.index),r>s){for(let n=s;n<r;++n)this._destroyDatasetMeta(n);t.splice(s,r-s)}this._sortedMetasets=t.slice(0).sort(xS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((r,n)=>{s.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=s.length;r<n;r++){const i=s[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||hg(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Qs.getController(a),{datasetElementType:c,dataElementType:u}=We.datasets[a];Object.assign(l,{dataElementType:Qs.getElement(u),datasetElementType:c&&Qs.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ge(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!n&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),n||ge(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ge(this.scales,t=>{vs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Ow(s,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of s){const o=r==="_removeElements"?-i:i;wV(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),n=r(0);for(let i=1;i<s;i++)if(!Ow(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vs.update(this,this.width,this.height,t);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],ge(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,yn(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fr.has(this)?this.attached&&!fr.running(this)&&fr.start(this):(this.draw(),yS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,r=[];let n,i;for(n=0,i=s.length;n<i;++n){const o=s[n];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,r={meta:t,index:t.index,cancelable:!0},n=b3(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&zu(s,n),t.controller.draw(),n&&Hu(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ll(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,r,n){const i=_H.modes[s];return typeof i=="function"?i(this,t,r,n):[]}getDatasetMeta(t){const s=this.data.datasets[t],r=this._metasets;let n=r.filter(i=>i&&i._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(t,s){const r=this.getDatasetMeta(t);r.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,n);Zh(s)?(i.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?n:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),fr.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vw(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,r=(i,o)=>{s.addEventListener(this,i,o),t[i]=o},n=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ge(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,r=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){ge(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ge(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,r){const n=r?"set":"remove";let i,o,a,l;for(s==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Xh(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(t,s,r){return this._plugins.notify(this,t,s,r)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,r){const n=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(s,t),a=r?t:i(t,s);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,s){const r={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(t,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,s,r){const{_active:n=[],options:i}=this,o=s,a=this._getActiveElements(t,n,r,o),l=D7(t),c=SV(t,this._lastEvent,r,l);r&&(this._lastEvent=null,ke(i.onHover,[t,a,this],this),l&&ke(i.onClick,[t,a,this],this));const u=!Xh(a,n);return(u||s)&&(this._active=a,this._updateHoverStyles(a,n,s)),this._lastEvent=c,u}_getActiveElements(t,s,r,n){if(t.type==="mouseout")return[];if(!r)return s;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}},ne(Ir,"defaults",We),ne(Ir,"instances",ih),ne(Ir,"overrides",hi),ne(Ir,"registry",Qs),ne(Ir,"version",yV),ne(Ir,"getChart",_S),Ir);function bS(){return ge(Uu.instances,e=>e._plugins.invalidate())}function O3(e,t,s=t){e.lineCap=ce(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ce(s.borderDash,t.borderDash)),e.lineDashOffset=ce(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ce(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ce(s.borderWidth,t.borderWidth),e.strokeStyle=ce(s.borderColor,t.borderColor)}function CV(e,t,s){e.lineTo(s.x,s.y)}function kV(e){return e.stepped?hz:e.tension||e.cubicInterpolationMode==="monotone"?uz:CV}function R3(e,t,s={}){const r=e.length,{start:n=0,end:i=r-1}=s,{start:o,end:a}=t,l=Math.max(n,o),c=Math.min(i,a),u=n<o&&i<o||n>a&&i>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function EV(e,t,s,r){const{points:n,options:i}=t,{count:o,start:a,loop:l,ilen:c}=R3(n,s,r),u=kV(i);let{move:d=!0,reverse:f}=r||{},m,p,v;for(m=0;m<=c;++m)p=n[(a+(f?c-m:m))%o],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):u(e,v,p,f,i.stepped),v=p);return l&&(p=n[(a+(f?c:0))%o],u(e,v,p,f,i.stepped)),!!l}function NV(e,t,s,r){const n=t.points,{count:i,start:o,ilen:a}=R3(n,s,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,m,p,v,y,x;const b=w=>(o+(c?a-w:w))%i,_=()=>{v!==y&&(e.lineTo(u,y),e.lineTo(u,v),e.lineTo(u,x))};for(l&&(m=n[b(0)],e.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=n[b(f)],m.skip)continue;const w=m.x,S=m.y,E=w|0;E===p?(S<v?v=S:S>y&&(y=S),u=(d*u+w)/++d):(_(),e.lineTo(w,S),p=E,d=0,v=y=S),x=S}_()}function dg(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?NV:EV}function jV(e){return e.stepped?Wz:e.tension||e.cubicInterpolationMode==="monotone"?Uz:Dn}function PV(e,t,s,r){let n=t._path;n||(n=t._path=new Path2D,t.path(n,s,r)&&n.closePath()),O3(e,t.options),e.stroke(n)}function TV(e,t,s,r){const{segments:n,options:i}=t,o=dg(t);for(const a of n)O3(e,i,a.style),e.beginPath(),o(e,t,a,{start:s,end:s+r-1})&&e.closePath(),e.stroke()}const LV=typeof Path2D=="function";function MV(e,t,s,r){LV&&!t.options.segment?PV(e,t,s,r):TV(e,t,s,r)}class Zr extends vi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;Az(this._points,r,t,n,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qz(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,r=t.length;return r&&s[t[r-1].end]}interpolate(t,s){const r=this.options,n=t[s],i=this.points,o=_3(this,{property:s,start:n,end:n});if(!o.length)return;const a=[],l=jV(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],m=i[d],p=i[f];if(m===p){a.push(m);continue}const v=Math.abs((n-m[s])/(p[s]-m[s])),y=l(m,p,v,r.stepped);y[s]=t[s],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,s,r){return dg(this)(t,this,s,r)}path(t,s,r){const n=this.segments,i=dg(this);let o=this._loop;s=s||0,r=r||this.points.length-s;for(const a of n)o&=i(t,this,a,{start:s,end:s+r-1});return!!o}draw(t,s,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),MV(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ne(Zr,"id","line"),ne(Zr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ne(Zr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ne(Zr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function wS(e,t,s,r){const n=e.options,{[s]:i}=e.getProps([s],r);return Math.abs(t-i)<n.radius+n.hitRadius}class oh extends vi{constructor(s){super();ne(this,"parsed");ne(this,"skip");ne(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,r,n){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(s-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,r){return wS(this,s,"x",r)}inYRange(s,r){return wS(this,s,"y",r)}getCenterPoint(s){const{x:r,y:n}=this.getProps(["x","y"],s);return{x:r,y:n}}size(s){s=s||this.options||{};let r=s.radius||0;r=Math.max(r,r&&s.hoverRadius||0);const n=r&&s.borderWidth||0;return(r+n)*2}draw(s,r){const n=this.options;this.skip||n.radius<.1||!ll(this,r,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,lg(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ne(oh,"id","point"),ne(oh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ne(oh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OV(e,t,s){const r=e.segments,n=e.points,i=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=Ku(l,c,n);const u=fg(s,n[l],n[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:n[l],end:n[c]});continue}const d=_3(t,u);for(const f of d){const m=fg(s,i[f.start],i[f.end],f.loop),p=y3(a,n,m);for(const v of p)o.push({source:v,target:f,start:{[s]:SS(u,m,"start",Math.max)},end:{[s]:SS(u,m,"end",Math.min)}})}}return o}function fg(e,t,s,r){if(r)return;let n=t[e],i=s[e];return e==="angle"&&(n=Zs(n),i=Zs(i)),{property:e,start:n,end:i}}function RV(e,t){const{x:s=null,y:r=null}=e||{},n=t.points,i=[];return t.segments.forEach(({start:o,end:a})=>{a=Ku(o,a,n);const l=n[o],c=n[a];r!==null?(i.push({x:l.x,y:r}),i.push({x:c.x,y:r})):s!==null&&(i.push({x:s,y:l.y}),i.push({x:s,y:c.y}))}),i}function Ku(e,t,s){for(;t>e;t--){const r=s[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function SS(e,t,s,r){return e&&t?r(e[s],t[s]):e?e[s]:t?t[s]:0}function D3(e,t){let s=[],r=!1;return st(e)?(r=!0,s=e):s=RV(e,t),s.length?new Zr({points:s,options:{tension:0},_loop:r,_fullLoop:r}):null}function CS(e){return e&&e.fill!==!1}function DV(e,t,s){let n=e[t].fill;const i=[t];let o;if(!s)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Pt(n))return n;if(o=e[n],!o)return!1;if(o.visible)return n;i.push(n),n=o.fill}return!1}function AV(e,t,s){const r=FV(e);if(he(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return Pt(n)&&Math.floor(n)===n?BV(r[0],t,n,s):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function BV(e,t,s,r){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=r?!1:s}function IV(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:he(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function $V(e,t,s){let r;return e==="start"?r=s:e==="end"?r=t.options.reverse?t.min:t.max:he(e)?r=e.value:r=t.getBaseValue(),r}function FV(e){const t=e.options,s=t.fill;let r=ce(s&&s.target,s);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function zV(e){const{scale:t,index:s,line:r}=e,n=[],i=r.segments,o=r.points,a=HV(t,s);a.push(D3({x:null,y:t.bottom},r));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)VV(n,o[u],a)}return new Zr({points:n,options:{}})}function HV(e,t){const s=[],r=e.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===t)break;i.hidden||s.unshift(i.dataset)}return s}function VV(e,t,s){const r=[];for(let n=0;n<s.length;n++){const i=s[n],{first:o,last:a,point:l}=WV(i,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function WV(e,t,s){const r=e.interpolate(t,s);if(!r)return{};const n=r[s],i=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=o[u.start][s],f=o[u.end][s];if(Vi(n,d,f)){a=n===d,l=n===f;break}}return{first:a,last:l,point:r}}class A3{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,r){const{x:n,y:i,radius:o}=this;return s=s||{start:0,end:Bs},t.arc(n,i,o,s.end,s.start,!0),!r.bounds}interpolate(t){const{x:s,y:r,radius:n}=this,i=t.angle;return{x:s+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function UV(e){const{chart:t,fill:s,line:r}=e;if(Pt(s))return KV(t,s);if(s==="stack")return zV(e);if(s==="shape")return!0;const n=qV(e);return n instanceof A3?n:D3(n,r)}function KV(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function qV(e){return(e.scale||{}).getPointPositionForValue?XV(e):YV(e)}function YV(e){const{scale:t={},fill:s}=e,r=IV(s,t);if(Pt(r)){const n=t.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function XV(e){const{scale:t,fill:s}=e,r=t.options,n=t.getLabels().length,i=r.reverse?t.max:t.min,o=$V(s,t,i),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,i);return new A3({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,o));return a}function lp(e,t,s){const r=UV(t),{chart:n,index:i,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:m=d}=u||{},p=n.getDatasetMeta(i),v=b3(n,p);r&&o.points.length&&(zu(e,s),GV(e,{line:o,target:r,above:f,below:m,area:s,scale:a,axis:l,clip:v}),Hu(e))}function GV(e,t){const{line:s,target:r,above:n,below:i,area:o,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save();let u=i;i!==n&&(c==="x"?(kS(e,r,o.top),cp(e,{line:s,target:r,color:n,scale:a,property:c,clip:l}),e.restore(),e.save(),kS(e,r,o.bottom)):c==="y"&&(ES(e,r,o.left),cp(e,{line:s,target:r,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),ES(e,r,o.right),u=n)),cp(e,{line:s,target:r,color:u,scale:a,property:c,clip:l}),e.restore()}function kS(e,t,s){const{segments:r,points:n}=t;let i=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,u=n[l],d=n[Ku(l,c,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function ES(e,t,s){const{segments:r,points:n}=t;let i=!0,o=!1;e.beginPath();for(const a of r){const{start:l,end:c}=a,u=n[l],d=n[Ku(l,c,n)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function cp(e,t){const{line:s,target:r,property:n,color:i,scale:o,clip:a}=t,l=OV(s,r,n);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:m=i}={}}=c,p=r!==!0;e.save(),e.fillStyle=m,QV(e,o,a,p&&fg(n,d,f)),e.beginPath();const v=!!s.pathSegment(e,c);let y;if(p){v?e.closePath():NS(e,r,f,n);const x=!!r.pathSegment(e,u,{move:v,reverse:!0});y=v&&x,y||NS(e,r,d,n)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function QV(e,t,s,r){const n=t.chart.chartArea,{property:i,start:o,end:a}=r||{};if(i==="x"||i==="y"){let l,c,u,d;i==="x"?(l=o,c=n.top,u=a,d=n.bottom):(l=n.left,c=o,u=n.right,d=a),e.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),d=Math.min(d,s.bottom)),e.rect(l,c,u-l,d-c),e.clip()}}function NS(e,t,s,r){const n=t.interpolate(s,r);n&&e.lineTo(n.x,n.y)}var ZV={id:"filler",afterDatasetsUpdate(e,t,s){const r=(e.data.datasets||[]).length,n=[];let i,o,a,l;for(o=0;o<r;++o)i=e.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof Zr&&(l={visible:e.isDatasetVisible(o),index:o,fill:AV(a,o,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,n.push(l);for(o=0;o<r;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=DV(n,o,s.propagate))},beforeDraw(e,t,s){const r=s.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),r&&a.fill&&lp(e.ctx,a,i))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;CS(i)&&lp(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,s){const r=t.meta.$filler;!CS(r)||s.drawTime!=="beforeDatasetDraw"||lp(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jS=(e,t)=>{let{boxHeight:s=t,boxWidth:r=t}=e;return e.usePointStyle&&(s=Math.min(s,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(t,s)}},JV=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class PS extends vi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,r){this.maxWidth=t,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=ke(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(r=>t.filter(r,this.chart.data))),t.sort&&(s=s.sort((r,n)=>t.sort(r,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,n=Nt(r.font),i=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=jS(r,i);let c,u;s.font=n.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,r,n){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=n+a;let d=t;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((p,v)=>{const y=r+s/2+i.measureText(p.text).width;(v===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(v>0?0:1)]=0,m+=u,f++),l[v]={left:0,top:m,row:f,width:y,height:n},c[c.length-1]+=y+a}),d}_fitCols(t,s,r,n){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,f=0,m=0,p=0,v=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:_}=eW(r,s,i,y,n);x>0&&m+_+2*a>u&&(d+=f+a,c.push({width:f,height:m}),p+=f+a,v++,f=m=0),l[x]={left:p,top:m,col:v,width:b,height:_},f=Math.max(f,b),m+=_+a}),d+=f,c.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:n},rtl:i}}=this,o=Zi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=St(r,this.left+n,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=St(r,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=St(r,this.top+t+n,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=St(r,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zu(t,this),this._draw(),Hu(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:r,ctx:n}=this,{align:i,labels:o}=t,a=We.color,l=Zi(t.rtl,this.left,this.width),c=Nt(o.font),{padding:u}=o,d=c.size,f=d/2;let m;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:y}=jS(o,d),x=function(E,k,C){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;n.save();const N=ce(C.lineWidth,1);if(n.fillStyle=ce(C.fillStyle,a),n.lineCap=ce(C.lineCap,"butt"),n.lineDashOffset=ce(C.lineDashOffset,0),n.lineJoin=ce(C.lineJoin,"miter"),n.lineWidth=N,n.strokeStyle=ce(C.strokeStyle,a),n.setLineDash(ce(C.lineDash,[])),o.usePointStyle){const P={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},M=l.xPlus(E,p/2),T=k+f;c3(n,P,M,T,o.pointStyleWidth&&p)}else{const P=k+Math.max((d-v)/2,0),M=l.leftForLtr(E,p),T=La(C.borderRadius);n.beginPath(),Object.values(T).some(L=>L!==0)?cg(n,{x:M,y:P,w:p,h:v,radius:T}):n.rect(M,P,p,v),n.fill(),N!==0&&n.stroke()}n.restore()},b=function(E,k,C){cl(n,C.text,E,k+y/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?m={x:St(i,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:St(i,this.top+w+u,this.bottom-s[0].height),line:0},g3(this.ctx,t.textDirection);const S=y+u;this.legendItems.forEach((E,k)=>{n.strokeStyle=E.fontColor,n.fillStyle=E.fontColor;const C=n.measureText(E.text).width,N=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),P=p+f+C;let M=m.x,T=m.y;l.setWidth(this.width),_?k>0&&M+P+u>this.right&&(T=m.y+=S,m.line++,M=m.x=St(i,this.left+u,this.right-r[m.line])):k>0&&T+S>this.bottom&&(M=m.x=M+s[m.line].width+u,m.line++,T=m.y=St(i,this.top+w+u,this.bottom-s[m.line].height));const L=l.x(M);if(x(L,T,E),M=Q7(N,M+p+f,_?M+P:this.right,t.rtl),b(l.x(M),T,E),_)m.x+=P+u;else if(typeof E.text!="string"){const $=c.lineHeight;m.y+=B3(E,$)+u}else m.y+=S}),v3(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,r=Nt(s.font),n=Cs(s.padding);if(!s.display)return;const i=Zi(t.rtl,this.left,this.width),o=this.ctx,a=s.position,l=r.size/2,c=n.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=St(t.align,d,this.right-f);else{const p=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);u=c+St(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const m=St(a,d,d+f);o.textAlign=i.textAlign(G0(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=r.string,cl(o,s.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,s=Nt(t.font),r=Cs(t.padding);return t.display?s.lineHeight+r.height:0}_getLegendItemAt(t,s){let r,n,i;if(Vi(t,this.left,this.right)&&Vi(s,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Vi(t,n.left,n.left+n.width)&&Vi(s,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(t){const s=this.options;if(!rW(t.type,s))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,i=JV(n,r);n&&!i&&ke(s.onLeave,[t,n,this],this),this._hoveredItem=r,r&&!i&&ke(s.onHover,[t,r,this],this)}else r&&ke(s.onClick,[t,r,this],this)}}function eW(e,t,s,r,n){const i=tW(r,e,t,s),o=sW(n,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function tW(e,t,s,r){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((i,o)=>i.length>o.length?i:o)),t+s.size/2+r.measureText(n).width}function sW(e,t,s){let r=e;return typeof t.text!="string"&&(r=B3(t,s)),r}function B3(e,t){const s=e.text?e.text.length:0;return t*s}function rW(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var nW={id:"legend",_element:PS,start(e,t,s){const r=e.legend=new PS({ctx:e.ctx,options:s,chart:e});vs.configure(e,r,s),vs.addBox(e,r)},stop(e){vs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const r=e.legend;vs.configure(e,r,s),r.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const r=t.datasetIndex,n=s.chart;n.isDatasetVisible(r)?(n.hide(r),t.hidden=!0):(n.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:n,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=Cs(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class I3 extends vi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const n=st(r.text)?r.text.length:1;this._padding=Cs(r.padding);const i=n*Nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:r,bottom:n,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=St(a,r,i),d=s+t,c=i-r):(o.position==="left"?(u=r+t,d=St(a,n,s),l=ut*-.5):(u=i-t,d=St(a,s,n),l=ut*.5),c=n-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const r=Nt(s.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);cl(t,s.text,0,0,r,{color:s.color,maxWidth:l,rotation:c,textAlign:G0(s.align),textBaseline:"middle",translation:[o,a]})}}function iW(e,t){const s=new I3({ctx:e.ctx,options:t,chart:e});vs.configure(e,s,t),vs.addBox(e,s),e.titleBlock=s}var oW={id:"title",_element:I3,start(e,t,s){iW(e,s)},stop(e){const t=e.titleBlock;vs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const r=e.titleBlock;vs.configure(e,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const la={average(e){if(!e.length)return!1;let t,s,r=new Set,n=0,i=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),n+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:n/i}},nearest(e,t){if(!e.length)return!1;let s=t.x,r=t.y,n=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=og(t,c);u<n&&(n=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,r=l.y}return{x:s,y:r}}};function qs(e,t){return t&&(st(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function aW(e,t){const{element:s,datasetIndex:r,index:n}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(n);return{chart:e,label:o,parsed:i.getParsed(n),raw:e.data.datasets[r].data[n],formattedValue:a,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:s}}function TS(e,t){const s=e.chart.ctx,{body:r,footer:n,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=Nt(t.bodyFont),c=Nt(t.titleFont),u=Nt(t.footerFont),d=i.length,f=n.length,m=r.length,p=Cs(t.padding);let v=p.height,y=0,x=r.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),x){const w=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=m*w+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const _=function(w){y=Math.max(y,s.measureText(w).width+b)};return s.save(),s.font=c.string,ge(e.title,_),s.font=l.string,ge(e.beforeBody.concat(e.afterBody),_),b=t.displayColors?o+2+t.boxPadding:0,ge(r,w=>{ge(w.before,_),ge(w.lines,_),ge(w.after,_)}),b=0,s.font=u.string,ge(e.footer,_),s.restore(),y+=p.width,{width:y,height:v}}function lW(e,t){const{y:s,height:r}=t;return s<r/2?"top":s>e.height-r/2?"bottom":"center"}function cW(e,t,s,r){const{x:n,width:i}=r,o=s.caretSize+s.caretPadding;if(e==="left"&&n+i+o>t.width||e==="right"&&n-i-o<0)return!0}function hW(e,t,s,r){const{x:n,width:i}=s,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=n<=(a+l)/2?"left":"right":n<=i/2?c="left":n>=o-i/2&&(c="right"),cW(c,e,t,s)&&(c="center"),c}function LS(e,t,s){const r=s.yAlign||t.yAlign||lW(e,s);return{xAlign:s.xAlign||t.xAlign||hW(e,t,s,r),yAlign:r}}function uW(e,t){let{x:s,width:r}=e;return t==="right"?s-=r:t==="center"&&(s-=r/2),s}function dW(e,t,s){let{y:r,height:n}=e;return t==="top"?r+=s:t==="bottom"?r-=n+s:r-=n/2,r}function MS(e,t,s,r){const{caretSize:n,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=s,c=n+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=La(o);let p=uW(t,a);const v=dW(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+n:a==="right"&&(p+=Math.max(d,m)+n),{x:gs(p,0,r.width-t.width),y:gs(v,0,r.height-t.height)}}function _c(e,t,s){const r=Cs(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function OS(e){return qs([],pr(e))}function fW(e,t,s){return gi(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function RS(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const $3={beforeTitle:hr,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return s[t.dataIndex]}return""},afterTitle:hr,beforeBody:hr,beforeLabel:hr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return be(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:hr,afterBody:hr,beforeFooter:hr,footer:hr,afterFooter:hr};function $t(e,t,s,r){const n=e[t].call(s,r);return typeof n>"u"?$3[t].call(s,r):n}class pg extends vi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&s.options.animation&&r.animations,i=new w3(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=fW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:r}=s,n=$t(r,"beforeTitle",this,t),i=$t(r,"title",this,t),o=$t(r,"afterTitle",this,t);let a=[];return a=qs(a,pr(n)),a=qs(a,pr(i)),a=qs(a,pr(o)),a}getBeforeBody(t,s){return OS($t(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:r}=s,n=[];return ge(t,i=>{const o={before:[],lines:[],after:[]},a=RS(r,i);qs(o.before,pr($t(a,"beforeLabel",this,i))),qs(o.lines,$t(a,"label",this,i)),qs(o.after,pr($t(a,"afterLabel",this,i))),n.push(o)}),n}getAfterBody(t,s){return OS($t(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:r}=s,n=$t(r,"beforeFooter",this,t),i=$t(r,"footer",this,t),o=$t(r,"afterFooter",this,t);let a=[];return a=qs(a,pr(n)),a=qs(a,pr(i)),a=qs(a,pr(o)),a}_createItems(t){const s=this._active,r=this.chart.data,n=[],i=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(aW(this.chart,s[l]));return t.filter&&(a=a.filter((u,d,f)=>t.filter(u,d,f,r))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,r))),ge(a,u=>{const d=RS(t.callbacks,u);n.push($t(d,"labelColor",this,u)),i.push($t(d,"labelPointStyle",this,u)),o.push($t(d,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,s){const r=this.options.setContext(this.getContext()),n=this._active;let i,o=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const a=la[r.position].call(this,n,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=TS(this,r),c=Object.assign({},a,l),u=LS(this.chart,r,c),d=MS(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,r,n){const i=this.getCaretPosition(t,r,n);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(t,s,r){const{xAlign:n,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=La(a),{x:f,y:m}=t,{width:p,height:v}=s;let y,x,b,_,w,S;return i==="center"?(w=m+v/2,n==="left"?(y=f,x=y-o,_=w+o,S=w-o):(y=f+p,x=y+o,_=w-o,S=w+o),b=y):(n==="left"?x=f+Math.max(l,u)+o:n==="right"?x=f+p-Math.max(c,d)-o:x=this.caretX,i==="top"?(_=m,w=_-o,y=x-o,b=x+o):(_=m+v,w=_+o,y=x+o,b=x-o),S=_),{x1:y,x2:x,x3:b,y1:_,y2:w,y3:S}}drawTitle(t,s,r){const n=this.title,i=n.length;let o,a,l;if(i){const c=Zi(r.rtl,this.x,this.width);for(t.x=_c(this,r.titleAlign,r),s.textAlign=c.textAlign(r.titleAlign),s.textBaseline="middle",o=Nt(r.titleFont),a=r.titleSpacing,s.fillStyle=r.titleColor,s.font=o.string,l=0;l<i;++l)s.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,s,r,n,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Nt(i.bodyFont),d=_c(this,"left",i),f=n.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,p=s.y+m;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=n.leftForLtr(f,c)+c/2,x=p+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,lg(t,v,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,lg(t,v,y,x)}else{t.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=n.leftForLtr(f,c),y=n.leftForLtr(n.xPlus(f,1),c-2),x=La(o.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,cg(t,{x:v,y:p,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),cg(t,{x:y,y:p+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,p,c,l),t.strokeRect(v,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,s,r){const{body:n}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Nt(r.bodyFont);let f=d.lineHeight,m=0;const p=Zi(r.rtl,this.x,this.width),v=function(C){s.fillText(C,p.x(t.x+m),t.y+f/2),t.y+=f+i},y=p.textAlign(o);let x,b,_,w,S,E,k;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,t.x=_c(this,y,r),s.fillStyle=r.bodyColor,ge(this.beforeBody,v),m=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,E=n.length;w<E;++w){for(x=n[w],b=this.labelTextColors[w],s.fillStyle=b,ge(x.before,v),_=x.lines,a&&_.length&&(this._drawColorBox(s,t,w,p,r),f=Math.max(d.lineHeight,l)),S=0,k=_.length;S<k;++S)v(_[S]),f=d.lineHeight;ge(x.after,v)}m=0,f=d.lineHeight,ge(this.afterBody,v),t.y-=i}drawFooter(t,s,r){const n=this.footer,i=n.length;let o,a;if(i){const l=Zi(r.rtl,this.x,this.width);for(t.x=_c(this,r.footerAlign,r),t.y+=r.footerMarginTop,s.textAlign=l.textAlign(r.footerAlign),s.textBaseline="middle",o=Nt(r.footerFont),s.fillStyle=r.footerColor,s.font=o.string,a=0;a<i;++a)s.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,s,r,n){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=La(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(t,s,r,n),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(t,s,r,n),s.lineTo(a+c,l+u-p),s.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,s,r,n),s.lineTo(a+m,l+u),s.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&i==="left"&&this.drawCaret(t,s,r,n),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const o=la[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=TS(this,t),l=Object.assign({},o,this._size),c=LS(s,t,l),u=MS(t,l,c,s);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Cs(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,s),g3(t,s.textDirection),i.y+=o.top,this.drawTitle(i,t,s),this.drawBody(i,t,s),this.drawFooter(i,t,s),v3(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const r=this._active,n=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Xh(r,n),o=this._positionChanged(n,s);(i||o)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],o=this._getActiveElements(t,i,s,r),a=this._positionChanged(o,t),l=s||!Xh(o,i)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,r,n){const i=this.options;if(t.type==="mouseout")return[];if(!n)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:r,caretY:n,options:i}=this,o=la[i.position].call(this,t,s);return o!==!1&&(r!==o.x||n!==o.y)}}ne(pg,"positioners",la);var pW={id:"tooltip",_element:pg,positioners:la,afterInit(e,t,s){s&&(e.tooltip=new pg({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mW=(e,t,s,r)=>(typeof t=="string"?(s=e.push(t)-1,r.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function gW(e,t,s,r){const n=e.indexOf(t);if(n===-1)return mW(e,t,s,r);const i=e.lastIndexOf(t);return n!==i?s:n}const vW=(e,t)=>e===null?null:gs(Math.round(e),0,t);function DS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class mg extends Eo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:n,label:i}of s)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(be(t))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===t?s:gW(r,t,ce(s,t),this._addedLabels),vW(s,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),s||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,s=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=t===0&&s===i.length-1?i:i.slice(t,s+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=s;o++)n.push({value:o});return n}getLabelForValue(t){return DS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ne(mg,"id","category"),ne(mg,"defaults",{ticks:{callback:DS}});function xW(e,t){const s=[],{bounds:n,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=e,m=i||1,p=u-1,{min:v,max:y}=t,x=!be(o),b=!be(a),_=!be(c),w=(y-v)/(d+1);let S=Dw((y-v)/p/m)*m,E,k,C,N;if(S<1e-14&&!x&&!b)return[{value:v},{value:y}];N=Math.ceil(y/S)-Math.floor(v/S),N>p&&(S=Dw(N*S/p/m)*m),be(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),n==="ticks"?(k=Math.floor(v/S)*S,C=Math.ceil(y/S)*S):(k=v,C=y),x&&b&&i&&F7((a-o)/i,S/1e3)?(N=Math.round(Math.min((a-o)/S,u)),S=(a-o)/N,k=o,C=a):_?(k=x?o:k,C=b?a:C,N=c-1,S=(C-k)/N):(N=(C-k)/S,ja(N,Math.round(N),S/1e3)?N=Math.round(N):N=Math.ceil(N));const P=Math.max(Aw(S),Aw(k));E=Math.pow(10,be(l)?P:l),k=Math.round(k*E)/E,C=Math.round(C*E)/E;let M=0;for(x&&(f&&k!==o?(s.push({value:o}),k<o&&M++,ja(Math.round((k+M*S)*E)/E,o,AS(o,w,e))&&M++):k<o&&M++);M<N;++M){const T=Math.round((k+M*S)*E)/E;if(b&&T>a)break;s.push({value:T})}return b&&f&&C!==a?s.length&&ja(s[s.length-1].value,a,AS(a,w,e))?s[s.length-1].value=a:s.push({value:a}):(!b||C===a)&&s.push({value:C}),s}function AS(e,t,{horizontal:s,minRotation:r}){const n=qn(r),i=(s?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class yW extends Eo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return be(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const o=l=>n=s?n:l,a=l=>i=r?i:l;if(t){const l=lo(n),c=lo(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(n-l)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=t,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=xW(n,i);return t.bounds==="ticks"&&z7(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-s)/Math.max(t.length-1,1)/2;s-=n,r+=n}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(t){return a3(t,this.chart.options.locale,this.options.ticks.format)}}class gg extends yW{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Pt(t)?t:0,this.max=Pt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,r=qn(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ne(gg,"id","linear"),ne(gg,"defaults",{ticks:{callback:l3.formatters.numeric}});const qu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ht=Object.keys(qu);function BS(e,t){return e-t}function IS(e,t){if(be(t))return null;const s=e._adapter,{parser:r,round:n,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Pt(o)||(o=typeof r=="string"?s.parse(o,r):s.parse(o)),o===null?null:(n&&(o=n==="week"&&(al(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,n)),+o)}function $S(e,t,s,r){const n=Ht.length;for(let i=Ht.indexOf(e);i<n-1;++i){const o=qu[Ht[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(a*o.size))<=r)return Ht[i]}return Ht[n-1]}function _W(e,t,s,r,n){for(let i=Ht.length-1;i>=Ht.indexOf(s);i--){const o=Ht[i];if(qu[o].common&&e._adapter.diff(n,r,o)>=t-1)return o}return Ht[s?Ht.indexOf(s):0]}function bW(e){for(let t=Ht.indexOf(e)+1,s=Ht.length;t<s;++t)if(qu[Ht[t]].common)return Ht[t]}function FS(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:r,hi:n}=X0(s,t),i=s[r]>=t?s[r]:s[n];e[i]=!0}}function wW(e,t,s,r){const n=e._adapter,i=+n.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+n.add(a,1,r))l=s[a],l>=0&&(t[l].major=!0);return t}function zS(e,t,s){const r=[],n={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],n[a]=o,r.push({value:a,major:!1});return i===0||!s?r:wW(e,r,n,s)}class su extends Eo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const r=t.time||(t.time={}),n=this._adapter=new mH._date(t.adapters.date);n.init(s),Na(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:IS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=Pt(n)&&!isNaN(n)?n:+s.startOf(Date.now(),r),i=Pt(i)&&!isNaN(i)?i:+s.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],r=t[t.length-1]),{min:s,max:r}}buildTicks(){const t=this.options,s=t.time,r=t.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,o=this.max,a=q7(n,i,o);return this._unit=s.unit||(r.autoSkip?$S(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):_W(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:bW(this._unit),this.initOffsets(n),t.reverse&&a.reverse(),zS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,r=0,n,i;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?s=1-n:s=(this.getDecimalForValue(t[1])-n)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=gs(s,0,o),r=gs(r,0,o),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const t=this._adapter,s=this.min,r=this.max,n=this.options,i=n.time,o=i.unit||$S(i.minUnit,s,r,this._getLabelCapacity(s)),a=ce(n.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=al(l)||l===!0,u={};let d=s,f,m;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":o),t.diff(r,s,o)>1e5*a)throw new Error(s+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=n.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+t.add(f,a,o),m++)FS(u,f,p);return(f===r||n.bounds==="ticks"||m===1)&&FS(u,f,p),Object.keys(u).sort(BS).map(v=>+v)}getLabelForValue(t){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(t,r.tooltipFormat):s.format(t,r.displayFormats.datetime)}format(t,s){const n=this.options.time.displayFormats,i=this._unit,o=s||n[i];return this._adapter.format(t,o)}_tickFormatFunction(t,s,r,n){const i=this.options,o=i.ticks.callback;if(o)return ke(o,[t,s,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[s],m=c&&d&&f&&f.major;return this._adapter.format(t,n||(m?d:u))}generateTickLabels(t){let s,r,n;for(s=0,r=t.length;s<r;++s)n=t[s],n.label=this._tickFormatFunction(n.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,r=this.ctx.measureText(t).width,n=qn(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const s=this.options.time,r=s.displayFormats,n=r[s.unit]||r.millisecond,i=this._tickFormatFunction(t,0,zS(this,[t],this._majorUnit),n),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,r;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,r=n.length;s<r;++s)t=t.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,r;if(t.length)return t;const n=this.getLabels();for(s=0,r=n.length;s<r;++s)t.push(IS(this,n[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return X7(t.sort(BS))}}ne(su,"id","time"),ne(su,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bc(e,t,s){let r=0,n=e.length-1,i,o,a,l;s?(t>=e[r].pos&&t<=e[n].pos&&({lo:r,hi:n}=Yn(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[n]):(t>=e[r].time&&t<=e[n].time&&({lo:r,hi:n}=Yn(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[n]);const c=o-i;return c?a+(l-a)*(t-i)/c:a}class HS extends su{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=bc(s,this.min),this._tableRange=bc(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:r}=this,n=[],i=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=s&&c<=r&&n.push(c);if(n.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(o=0,a=n.length;o<a;++o)u=n[o+1],l=n[o-1],c=n[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const t=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?t=this.normalize(s.concat(r)):t=s.length?s:r,t=this._cache.all=t,t}getDecimalForValue(t){return(bc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return bc(this._table,r*this._tableRange+this._minPos,!0)}}ne(HS,"id","timeseries"),ne(HS,"defaults",su.defaults);const F3="label";function VS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function SW(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function z3(e,t){e.labels=t}function H3(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F3;const r=[];e.datasets=t.map(n=>{const i=e.datasets.find(o=>o[s]===n[s]);return!i||!n.data||r.includes(i)?{...n}:(r.push(i),Object.assign(i,n),i)})}function CW(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F3;const s={labels:[],datasets:[]};return z3(s,e.labels),H3(s,e.datasets,t),s}function kW(e,t){const{height:s=150,width:r=300,redraw:n=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=e,m=g.useRef(null),p=g.useRef(null),v=()=>{m.current&&(p.current=new Uu(m.current,{type:o,data:CW(a,i),options:l&&{...l},plugins:c}),VS(t,p.current))},y=()=>{VS(t,null),p.current&&(p.current.destroy(),p.current=null)};return g.useEffect(()=>{!n&&p.current&&l&&SW(p.current,l)},[n,l]),g.useEffect(()=>{!n&&p.current&&z3(p.current.config.data,a.labels)},[n,a.labels]),g.useEffect(()=>{!n&&p.current&&a.datasets&&H3(p.current.config.data,a.datasets,i)},[n,a.datasets]),g.useEffect(()=>{p.current&&(n?(y(),setTimeout(v)):p.current.update(d))},[n,l,a.labels,a.datasets,d]),g.useEffect(()=>{p.current&&(y(),setTimeout(v))},[o]),g.useEffect(()=>(v(),()=>y()),[]),gl.createElement("canvas",{ref:m,role:"img",height:s,width:r,...f},u)}const EW=g.forwardRef(kW);function NW(e,t){return Uu.register(t),g.forwardRef((s,r)=>gl.createElement(EW,{...s,ref:r,type:e}))}const jW=NW("line",rh);function Fs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const V3=6048e5,PW=864e5;let TW={};function Yu(){return TW}function ul(e,t){var a,l,c,u;const s=Yu(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=Fs(e),i=n.getDay(),o=(i<r?7:0)+i-r;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ru(e){return ul(e,{weekStartsOn:1})}function W3(e){const t=Fs(e),s=t.getFullYear(),r=ui(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const n=ru(r),i=ui(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=ru(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function WS(e){const t=Fs(e);return t.setHours(0,0,0,0),t}function US(e){const t=Fs(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function LW(e,t){const s=WS(e),r=WS(t),n=+s-US(s),i=+r-US(r);return Math.round((n-i)/PW)}function MW(e){const t=W3(e),s=ui(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),ru(s)}function OW(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function RW(e){if(!OW(e)&&typeof e!="number")return!1;const t=Fs(e);return!isNaN(Number(t))}function DW(e){const t=Fs(e),s=ui(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const AW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BW=(e,t,s)=>{let r;const n=AW[e];return typeof n=="string"?r=n:t===1?r=n.one:r=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function hp(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const IW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$W={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zW={date:hp({formats:IW,defaultWidth:"full"}),time:hp({formats:$W,defaultWidth:"full"}),dateTime:hp({formats:FW,defaultWidth:"full"})},HW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VW=(e,t,s,r)=>HW[e];function Ko(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let n;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=s!=null&&s.width?String(s.width):o;n=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const WW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GW=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},QW={ordinalNumber:GW,era:Ko({values:WW,defaultWidth:"wide"}),quarter:Ko({values:UW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ko({values:KW,defaultWidth:"wide"}),day:Ko({values:qW,defaultWidth:"wide"}),dayPeriod:Ko({values:YW,defaultWidth:"wide",formattingValues:XW,defaultFormattingWidth:"wide"})};function qo(e){return(t,s={})=>{const r=s.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?JW(a,d=>d.test(o)):ZW(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function ZW(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function JW(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function eU(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const a=t.slice(n.length);return{value:o,rest:a}}}const tU=/^(\d+)(th|st|nd|rd)?/i,sU=/\d+/i,rU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nU={any:[/^b/i,/^(a|c)/i]},iU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oU={any:[/1/i,/2/i,/3/i,/4/i]},aU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fU={ordinalNumber:eU({matchPattern:tU,parsePattern:sU,valueCallback:e=>parseInt(e,10)}),era:qo({matchPatterns:rU,defaultMatchWidth:"wide",parsePatterns:nU,defaultParseWidth:"any"}),quarter:qo({matchPatterns:iU,defaultMatchWidth:"wide",parsePatterns:oU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qo({matchPatterns:aU,defaultMatchWidth:"wide",parsePatterns:lU,defaultParseWidth:"any"}),day:qo({matchPatterns:cU,defaultMatchWidth:"wide",parsePatterns:hU,defaultParseWidth:"any"}),dayPeriod:qo({matchPatterns:uU,defaultMatchWidth:"any",parsePatterns:dU,defaultParseWidth:"any"})},pU={code:"en-US",formatDistance:BW,formatLong:zW,formatRelative:VW,localize:QW,match:fU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mU(e){const t=Fs(e);return LW(t,DW(t))+1}function gU(e){const t=Fs(e),s=+ru(t)-+MW(t);return Math.round(s/V3)+1}function U3(e,t){var u,d,f,m;const s=Fs(e),r=s.getFullYear(),n=Yu(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=ui(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ul(o,t),l=ui(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ul(l,t);return s.getTime()>=a.getTime()?r+1:s.getTime()>=c.getTime()?r:r-1}function vU(e,t){var a,l,c,u;const s=Yu(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,n=U3(e,t),i=ui(e,0);return i.setFullYear(n,0,r),i.setHours(0,0,0,0),ul(i,t)}function xU(e,t){const s=Fs(e),r=+ul(s,t)-+vU(s,t);return Math.round(r/V3)+1}function me(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const Rr={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return me(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):me(s+1,2)},d(e,t){return me(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return me(e.getHours()%12||12,t.length)},H(e,t){return me(e.getHours(),t.length)},m(e,t){return me(e.getMinutes(),t.length)},s(e,t){return me(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),n=Math.trunc(r*Math.pow(10,s-3));return me(n,t.length)}},wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KS={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),n=r>0?r:1-r;return s.ordinalNumber(n,{unit:"year"})}return Rr.y(e,t)},Y:function(e,t,s,r){const n=U3(e,r),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return me(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):me(i,t.length)},R:function(e,t){const s=W3(e);return me(s,t.length)},u:function(e,t){const s=e.getFullYear();return me(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return me(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return me(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return Rr.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return me(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const n=xU(e,r);return t==="wo"?s.ordinalNumber(n,{unit:"week"}):me(n,t.length)},I:function(e,t,s){const r=gU(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):me(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Rr.d(e,t)},D:function(e,t,s){const r=mU(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):me(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const n=e.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return me(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const n=e.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return me(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),n=r===0?7:r;switch(t){case"i":return String(n);case"ii":return me(n,t.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let n;switch(r===12?n=wi.noon:r===0?n=wi.midnight:n=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let n;switch(r>=17?n=wi.evening:r>=12?n=wi.afternoon:r>=4?n=wi.morning:n=wi.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Rr.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Rr.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):me(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):me(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Rr.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Rr.s(e,t)},S:function(e,t){return Rr.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return YS(r);case"XXXX":case"XX":return An(r);case"XXXXX":case"XXX":default:return An(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return YS(r);case"xxxx":case"xx":return An(r);case"xxxxx":case"xxx":default:return An(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qS(r,":");case"OOOO":default:return"GMT"+An(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qS(r,":");case"zzzz":default:return"GMT"+An(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return me(r,t.length)},T:function(e,t,s){const r=e.getTime();return me(r,t.length)}};function qS(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),i=r%60;return i===0?s+String(n):s+String(n)+t+me(i,2)}function YS(e,t){return e%60===0?(e>0?"-":"+")+me(Math.abs(e)/60,2):An(e,t)}function An(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),n=me(Math.trunc(r/60),2),i=me(r%60,2);return s+n+t+i}const XS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},K3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yU=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],n=s[2];if(!n)return XS(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",XS(r,t)).replace("{{time}}",K3(n,t))},_U={p:K3,P:yU},bU=/^D+$/,wU=/^Y+$/,SU=["D","DD","YY","YYYY"];function CU(e){return bU.test(e)}function kU(e){return wU.test(e)}function EU(e,t,s){const r=NU(e,t,s);if(console.warn(r),SU.includes(e))throw new RangeError(r)}function NU(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TU=/^'([^]*?)'?$/,LU=/''/g,MU=/[a-zA-Z]/;function OU(e,t,s){var u,d,f,m;const r=Yu(),n=r.locale??pU,i=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Fs(e);if(!RW(a))throw new RangeError("Invalid time value");let l=t.match(PU).map(p=>{const v=p[0];if(v==="p"||v==="P"){const y=_U[v];return y(p,n.formatLong)}return p}).join("").match(jU).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:RU(p)};if(KS[v])return{isToken:!0,value:p};if(v.match(MU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});n.localize.preprocessor&&(l=n.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return l.map(p=>{if(!p.isToken)return p.value;const v=p.value;(kU(v)||CU(v))&&EU(v,t,String(e));const y=KS[v[0]];return y(a,v,n.localize,c)}).join("")}function RU(e){const t=e.match(TU);return t?t[1].replace(LU,"'"):e}const DU=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?`${parseInt(t[1],16)} ${parseInt(t[2],16)} ${parseInt(t[3],16)}`:"0 0 0"},$n=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?(.299*parseInt(t[1],16)+.587*parseInt(t[2],16)+.114*parseInt(t[3],16))/255:0},cs={dark:{id:"dark",name:"Midnight Hacker",isBuiltIn:!0,colors:{bgPrimary:"#0a0a0a",bgSecondary:"#0f0f0f",bgCard:"#161616",accent1:"#00ff41",accent2:"#00d4aa",accent3:"#a0ff00",accent4:"#ff9500",text:"#c8c8c8",textSecondary:"#555555",textMuted:"#2a2a2a",danger:"#ff1744",success:"#00ff41"}},light:{id:"light",name:"Pastel Mocha",isBuiltIn:!0,colors:{bgPrimary:"#f9f3ed",bgSecondary:"#f0e6d8",bgCard:"#ffffff",accent1:"#b07d62",accent2:"#8a9e82",accent3:"#9b8bb4",accent4:"#c9a96e",text:"#3a2d23",textSecondary:"#7a6b5d",textMuted:"#d4c4b4",danger:"#c47272",success:"#8a9e82"}},readyPlayerOne:{id:"readyPlayerOne",name:"Ready Player One",isBuiltIn:!0,colors:{bgPrimary:"#1a1a1a",bgSecondary:"#2a2a2a",bgCard:"#1f1f1f",accent1:"#ff6b35",accent2:"#f7931e",accent3:"#ffd23f",accent4:"#00d9ff",text:"#e8e8e8",textSecondary:"#b8b8b8",textMuted:"#888888",danger:"#ff3864",success:"#00ff88"}}},AU={bgPrimary:"Background",bgSecondary:"Surface",bgCard:"Card",accent1:"Accent 1 (Primary)",accent2:"Accent 2 (Secondary)",accent3:"Accent 3 (Tertiary)",accent4:"Accent 4 (Highlight)",text:"Text Primary",textSecondary:"Text Secondary",textMuted:"Text Muted",danger:"Danger / Error",success:"Success / Online"},up="nexus-theme",GS="nexus-user-presets",dp=10,BU=e=>{const t=document.documentElement,s=e.colors,r=(n,i)=>{t.style.setProperty(n,i),t.style.setProperty(`${n}-rgb`,DU(i))};r("--brutal-bg",s.bgPrimary),r("--brutal-surface",s.bgSecondary),r("--brutal-card",s.bgCard),r("--neon-pink",s.accent1),r("--neon-cyan",s.accent2),r("--neon-purple",s.accent3),r("--neon-yellow",s.accent4),r("--theme-text",s.text),r("--theme-text-secondary",s.textSecondary),r("--theme-text-muted",s.textMuted),r("--theme-danger",s.danger),r("--theme-success",s.success),t.style.setProperty("--on-primary",$n(s.accent1)>.5?"#000000":"#ffffff"),t.style.setProperty("--on-neon-pink",$n(s.accent1)>.5?"#000000":"#ffffff"),t.style.setProperty("--on-neon-cyan",$n(s.accent2)>.5?"#000000":"#ffffff"),t.style.setProperty("--on-neon-purple",$n(s.accent3)>.5?"#000000":"#ffffff"),t.style.setProperty("--on-neon-yellow",$n(s.accent4)>.5?"#000000":"#ffffff"),t.style.setProperty("--accent-1",s.accent1),t.style.setProperty("--accent-2",s.accent2),t.style.setProperty("--accent-3",s.accent3),t.style.setProperty("--accent-4",s.accent4),t.style.setProperty("--primary",s.accent1)},q3=g.createContext(null);function fp({children:e}){const[t,s]=g.useState(()=>{try{const k=localStorage.getItem(up);if(k){const C=JSON.parse(k);if(C!=null&&C.colors)return C}}catch{}return cs.dark}),[r,n]=g.useState(()=>{try{const k=localStorage.getItem(up);if(k){const C=JSON.parse(k);if(C!=null&&C.colors)return{...C}}}catch{}return{...cs.dark}}),[i,o]=g.useState(null),[a,l]=g.useState(()=>{try{const k=localStorage.getItem(GS);if(k){const C=JSON.parse(k);if(Array.isArray(C))return C}}catch{}return[]});g.useLayoutEffect(()=>{BU(t)},[t]),g.useEffect(()=>{localStorage.setItem(up,JSON.stringify(t))},[t]),g.useEffect(()=>{localStorage.setItem(GS,JSON.stringify(a))},[a]);const c=g.useCallback(k=>s(k),[]),u=g.useCallback((k,C)=>{n(N=>({...N,isBuiltIn:!1,name:N.isBuiltIn?"Custom":N.name,colors:{...N.colors,[k]:C}}))},[]),d=g.useCallback((k,C)=>{s(N=>({...N,isBuiltIn:!1,name:N.isBuiltIn?"Custom":N.name,colors:{...N.colors,[k]:C}}))},[]),f=g.useCallback(()=>{s({...r})},[r]),m=g.useCallback(k=>{cs[k]&&(n({...cs[k]}),s({...cs[k]}),o(null))},[]),p=g.useCallback(k=>{cs[k]&&(n({...cs[k]}),o(null))},[]),v=g.useCallback(k=>{a[k]&&(n({...a[k]}),s({...a[k]}),o(null))},[a]),y=g.useCallback(k=>{a[k]&&(n({...a[k]}),o(k))},[a]),x=g.useCallback(k=>{if(a.length>=dp)return!1;const C={...r,name:k,isBuiltIn:!1};return l(N=>[...N,C]),o(null),!0},[r,a.length]),b=g.useCallback(k=>{l(C=>C.filter((N,P)=>P!==k)),i===k&&o(null)},[i]),_=g.useCallback(k=>{l(C=>C.map((N,P)=>P===k?{...r,name:N.name,isBuiltIn:!1}:N))},[r]),w=g.useCallback((k,C)=>{l(N=>N.map((P,M)=>M===k?{...P,name:C}:P))},[]),S=g.useCallback(k=>{const C=k||r,N={nexusTheme:!0,version:1,name:C.name||"Custom Theme",colors:C.colors,exportedAt:new Date().toISOString()},P=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),M=URL.createObjectURL(P),T=document.createElement("a");T.href=M,T.download=`nexus-theme-${N.name.toLowerCase().replace(/\s+/g,"-")}.json`,T.click(),URL.revokeObjectURL(M)},[r]),E=g.useCallback(k=>new Promise((C,N)=>{const P=new FileReader;P.onload=M=>{try{const T=JSON.parse(M.target.result);if(!T.colors||!T.nexusTheme){N(new Error("Invalid theme file"));return}if(!Object.keys(cs.dark.colors).every(A=>T.colors[A])){N(new Error("Theme file is missing required color keys"));return}const O={name:T.name||"Imported Theme",isBuiltIn:!1,colors:T.colors};n(O),o(null),a.length<dp&&l(A=>[...A,O]),C(O)}catch{N(new Error("Failed to parse theme file"))}},P.onerror=()=>N(new Error("Failed to read file")),P.readAsText(k)}),[a.length]);return h.jsx(q3.Provider,{value:{theme:t,draft:r,userPresets:a,editingPresetIndex:i,setTheme:c,setDraft:n,updateColor:d,updateDraftColor:u,applyDraft:f,loadBuiltIn:m,loadBuiltInToDraft:p,loadUserPreset:v,loadUserPresetToDraft:y,saveUserPreset:x,deleteUserPreset:b,overwriteUserPreset:_,renameUserPreset:w,exportTheme:S,importTheme:E,setEditingPresetIndex:o,maxUserPresets:dp},children:e})}const nx=()=>{const e=g.useContext(q3);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e};Uu.register(mg,gg,oh,Zr,oW,pW,nW,ZV);function IU({metrics:e}){const{theme:t}=nx(),s=t.colors,r=g.useMemo(()=>{if(!e||e.length===0)return null;const i=[...e].reverse(),o=i.map(u=>{const d=u.data||u;return OU(new Date(d.timestamp),"HH:mm:ss")}),a=i.map(u=>{var f;return((f=(u.data||u).cpu)==null?void 0:f.usage)||0}),l=i.map(u=>{var f;return((f=(u.data||u).memory)==null?void 0:f.usagePercent)||0}),c=i.map(u=>{var f;return((f=(u.data||u).swap)==null?void 0:f.usagePercent)||0});return{labels:o,datasets:[{label:"CPU Usage (%)",data:a,borderColor:s.accent1,backgroundColor:s.accent1+"1a",fill:!0,tension:.4},{label:"Memory Usage (%)",data:l,borderColor:s.accent2,backgroundColor:s.accent2+"1a",fill:!0,tension:.4},{label:"Swap Usage (%)",data:c,borderColor:s.accent4,backgroundColor:s.accent4+"1a",fill:!0,tension:.4}]}},[e,s]),n=g.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:s.text,font:{size:12,family:"Space Mono"}}},title:{display:!1},tooltip:{backgroundColor:s.bgCard+"ee",titleColor:s.text,bodyColor:s.text,borderColor:s.textMuted,borderWidth:1,titleFont:{family:"Space Mono"},bodyFont:{family:"Space Mono"}}},scales:{x:{grid:{color:s.textMuted+"30"},ticks:{color:s.textSecondary,maxTicksLimit:10,font:{family:"Space Mono",size:10}}},y:{min:0,max:100,grid:{color:s.textMuted+"30"},ticks:{color:s.textSecondary,font:{family:"Space Mono",size:10},callback:i=>i+"%"}}}}),[s]);return r?h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"card-header",children:"Resource Usage"}),h.jsx("div",{style:{height:"300px"},children:h.jsx(jW,{data:r,options:n})})]}):h.jsxs("div",{className:"card",children:[h.jsx("h3",{className:"card-header",children:"Resource Usage"}),h.jsx("div",{className:"h-64 flex items-center justify-center text-tx/40",children:h.jsx("p",{children:"Waiting for metrics data..."})})]})}const ur=e=>{if(!e)return"0 B";const t=1024,s=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+s[r]},$U=e=>{if(!e)return"Unknown";const t=Math.floor(e/86400),s=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return t>0?`${t}d ${s}h`:s>0?`${s}h ${r}m`:`${r}m`},wc=({label:e,value:t,sub:s,icon:r,color:n,delay:i=0,onClick:o})=>h.jsxs(re.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:i},className:"border-[3px] p-5 bg-brutal-card cursor-pointer hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-brutal transition-all",style:{borderColor:`${n}30`,boxShadow:`4px 4px 0 ${n}20`},onClick:o,children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-tx/30",children:e}),r&&h.jsx(r,{className:"w-5 h-5",style:{color:n}})]}),h.jsx("div",{className:"text-3xl font-black tracking-tighter",style:{color:n},children:t}),s&&h.jsx("div",{className:"text-[10px] font-mono text-tx/25 mt-1",children:s})]}),FU=({value:e,label:t,color:s,sub:r})=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between font-bold text-xs mb-1.5",children:[h.jsx("span",{className:"text-tx/50 uppercase tracking-wider",children:t}),h.jsxs("span",{style:{color:s},children:[e.toFixed(1),"%"]})]}),h.jsx("div",{className:"h-4 border-2 overflow-hidden",style:{borderColor:`${s}40`,backgroundColor:`${s}08`},children:h.jsx(re.div,{className:"h-full",style:{backgroundColor:s,boxShadow:`0 0 10px ${s}`},initial:{width:0},animate:{width:`${Math.min(e,100)}%`},transition:{duration:1}})}),r&&h.jsx("div",{className:"text-[10px] font-mono text-tx/25 mt-1",children:r})]});function zU({socket:e}){var x,b,_,w,S,E,k,C,N,P,M,T,L,$,O,A,F,j;const{agentId:t}=Zv(),s=yo(),[r,n]=g.useState(null),[i,o]=g.useState([]),[a,l]=g.useState(null),[c,u]=g.useState(!0),[d,f]=g.useState(null);g.useEffect(()=>{m(),p();const B=setInterval(p,5e3);return e&&e.on("nodes:update",V=>{const Y=V.find(D=>D.id===t);Y&&n(D=>D&&{...D,status:Y.status,last_seen:Y.last_seen})}),()=>{clearInterval(B),e&&e.off("nodes:update")}},[t,e]);const m=async()=>{try{const B=await U.get(`/api/nodes/${t}`);B.data.success?n(B.data.node):f("Node not found")}catch{f("Failed to load node details")}finally{u(!1)}},p=async()=>{try{const B=await U.get(`/api/metrics/${t}/latest?limit=50`);B.data.success&&B.data.metrics&&(o(B.data.metrics),B.data.metrics.length>0&&l(B.data.metrics[0]))}catch(B){console.error("Failed to fetch metrics:",B)}};if(c)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("div",{className:"font-mono text-tx/30",children:"Loading node data..."})});if(d||!r)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-96 gap-4",children:[h.jsx("div",{className:"font-bold text-xl text-red-400 uppercase",children:d||"Node not found"}),h.jsx(gn,{to:"/nodes",className:"text-neon-pink text-sm font-bold uppercase tracking-wider hover:underline",children:" Back to Nodes"})]});const v=(a==null?void 0:a.data)||null,y=r.status==="online";return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs(gn,{to:"/nodes",className:"inline-flex items-center gap-2 text-neon-pink/60 hover:text-neon-pink text-xs font-bold uppercase tracking-wider mb-6 transition-colors",children:[h.jsx(FN,{className:"w-4 h-4"})," Back to Nodes"]}),h.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},className:"border-[3px] border-neon-pink/20 bg-brutal-card p-6 mb-6 shadow-brutal",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black uppercase tracking-tighter text-tx",children:r.hostname}),h.jsx("span",{className:`px-3 py-1 text-[10px] font-bold uppercase tracking-widest border-2 ${y?"border-neon-cyan/40 text-neon-cyan bg-neon-cyan/10":"border-red-500/40 text-red-400 bg-red-500/10"}`,children:y?" ONLINE":" OFFLINE"})]}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 flex flex-wrap gap-x-4 gap-y-1 tracking-wider uppercase",children:[h.jsxs("span",{children:["ID: ",r.id.substring(0,24),"..."]}),h.jsx("span",{children:((b=(x=r.system_info)==null?void 0:x.os)==null?void 0:b.distro)||""}),((_=r.system_info)==null?void 0:_.uptime)&&h.jsxs("span",{children:["Uptime: ",$U(r.system_info.uptime)]})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsxs("button",{onClick:()=>s("/console"),className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-cyan/40 bg-neon-cyan/10 text-neon-cyan font-bold text-xs uppercase tracking-wider hover:bg-neon-cyan/20 hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",style:{boxShadow:"3px 3px 0 rgba(0, 217, 255, 0.2)"},children:[h.jsx(un,{className:"w-4 h-4"}),"Console"]}),h.jsxs("button",{onClick:()=>s(`/nodes/${t}/processes`),className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-purple/40 bg-neon-purple/10 text-neon-purple font-bold text-xs uppercase tracking-wider hover:bg-neon-purple/20 hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",style:{boxShadow:"3px 3px 0 rgba(168, 85, 247, 0.2)"},children:[h.jsx(ng,{className:"w-4 h-4"}),"Processes"]}),h.jsxs("div",{className:"font-mono text-[10px] bg-brutal-bg border-2 border-neon-pink/10 text-tx/25 p-3 tracking-wider hidden sm:block",children:["ARCH: ",((S=(w=r.system_info)==null?void 0:w.os)==null?void 0:S.arch)||"",h.jsx("br",{}),"KERNEL: ",((k=(E=r.system_info)==null?void 0:E.os)==null?void 0:k.kernel)||""]})]})]})}),v&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsx(wc,{label:"CPU",value:`${(((C=v.cpu)==null?void 0:C.usage)||0).toFixed(1)}%`,icon:z0,color:"var(--neon-pink)",delay:.1,sub:(P=(N=r.system_info)==null?void 0:N.cpu)==null?void 0:P.brand,onClick:()=>s(`/nodes/${t}/processes`)}),h.jsx(wc,{label:"Memory",value:`${(((M=v.memory)==null?void 0:M.usagePercent)||0).toFixed(1)}%`,icon:H0,color:"var(--neon-cyan)",delay:.15,sub:`${ur(((T=v.memory)==null?void 0:T.active)||0)} used  ${ur(((L=v.memory)==null?void 0:L.cached)||0)} cached / ${ur(($=v.memory)==null?void 0:$.total)}`,onClick:()=>s(`/nodes/${t}/processes`)}),h.jsx(wc,{label:"Swap",value:`${(((O=v.swap)==null?void 0:O.usagePercent)||0).toFixed(1)}%`,icon:Pl,color:"var(--neon-purple)",delay:.2,onClick:()=>s(`/nodes/${t}/processes`)}),h.jsx(wc,{label:"Processes",value:((A=v.processes)==null?void 0:A.all)||0,icon:F0,color:"var(--neon-yellow)",delay:.25,sub:`${((F=v.processes)==null?void 0:F.running)||0} running`,onClick:()=>s(`/nodes/${t}/processes`)})]}),!v&&h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:"border-[3px] border-neon-pink/10 bg-brutal-card p-10 mb-6 text-center",children:[h.jsx("div",{className:"font-mono text-tx/30 text-sm",children:"Awaiting metrics data..."}),h.jsx("div",{className:"font-mono text-tx/15 text-[10px] mt-1",children:"Metrics appear once the node starts reporting."})]}),i.length>0&&h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"border-[3px] border-neon-pink/15 bg-brutal-card p-6 mb-6 shadow-brutal",children:[h.jsxs("h3",{className:"font-bold text-sm uppercase tracking-widest text-neon-pink mb-4",children:[h.jsx("span",{className:"bg-neon-pink px-2 py-0.5 text-[10px] mr-2",style:{color:"var(--on-neon-pink)"},children:"LIVE"}),"Metrics History"]}),h.jsx(IU,{metrics:i})]}),(v==null?void 0:v.disk)&&v.disk.length>0&&h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"border-[3px] border-neon-cyan/15 bg-brutal-card p-6 mb-6 shadow-brutal-cyan",children:[h.jsxs("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-tx/30 mb-4",children:[h.jsx(xI,{className:"w-4 h-4 inline mr-2 text-neon-cyan"}),"Disk Partitions"]}),h.jsx("div",{className:"space-y-4",children:v.disk.map((B,V)=>h.jsx(FU,{label:B.mount,value:B.usagePercent||0,color:B.usagePercent>90?"var(--neon-pink)":"var(--neon-cyan)",sub:`${ur(B.used)} / ${ur(B.size)}`},V))})]}),((j=v==null?void 0:v.processes)==null?void 0:j.list)&&v.processes.list.length>0&&h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"border-[3px] border-neon-purple/15 bg-brutal-card shadow-brutal-purple mb-6",children:[h.jsxs("div",{className:"px-5 py-3 border-b-[3px] border-neon-purple/10 bg-neon-purple/[0.04] flex justify-between items-center",children:[h.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider text-neon-purple",children:"Top Processes"}),h.jsxs("span",{className:"font-mono text-[10px] text-tx/25",children:[v.processes.all," total  ",v.processes.running," running"]})]}),h.jsxs("div",{className:"hidden sm:grid grid-cols-12 gap-2 px-5 py-2 text-[9px] font-bold uppercase tracking-widest text-tx/20 border-b-2 border-neon-purple/[0.06]",children:[h.jsx("div",{className:"col-span-2",children:"PID"}),h.jsx("div",{className:"col-span-6",children:"Name"}),h.jsx("div",{className:"col-span-2 text-right",children:"CPU %"}),h.jsx("div",{className:"col-span-2 text-right",children:"MEM %"})]}),v.processes.list.slice(0,10).map((B,V)=>{var Y,D;return h.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-12 gap-1 sm:gap-2 px-4 sm:px-5 py-2.5 text-xs border-b border-neon-purple/[0.04] hover:bg-neon-purple/[0.03] transition-colors",children:[h.jsxs("div",{className:"sm:col-span-2 font-mono text-tx/30",children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"PID "}),B.pid]}),h.jsx("div",{className:"sm:col-span-6 font-bold text-tx/80 truncate",children:B.name}),h.jsxs("div",{className:"flex sm:contents gap-4",children:[h.jsxs("div",{className:"sm:col-span-2 sm:text-right font-mono font-bold",style:{color:B.cpu>50?"var(--neon-pink)":"var(--neon-cyan)"},children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"CPU "}),(Y=B.cpu)==null?void 0:Y.toFixed(1),"%"]}),h.jsxs("div",{className:"sm:col-span-2 sm:text-right font-mono text-tx/40",children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"MEM "}),(D=B.mem)==null?void 0:D.toFixed(1),"%"]})]})]},V)})]}),(v==null?void 0:v.network)&&v.network.length>0&&h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},className:"border-[3px] border-neon-yellow/15 bg-brutal-card shadow-brutal-yellow mb-6",children:[h.jsx("div",{className:"px-5 py-3 border-b-[3px] border-neon-yellow/10 bg-neon-yellow/[0.03]",children:h.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider text-neon-yellow",children:"Network Interfaces"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-xs",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b-2 border-neon-yellow/[0.06]",children:[h.jsx("th",{className:"text-left py-2 px-5 text-tx/25 font-bold uppercase tracking-wider text-[9px]",children:"Interface"}),h.jsx("th",{className:"text-right py-2 px-5 text-tx/25 font-bold uppercase tracking-wider text-[9px]",children:"RX/s"}),h.jsx("th",{className:"text-right py-2 px-5 text-tx/25 font-bold uppercase tracking-wider text-[9px]",children:"TX/s"}),h.jsx("th",{className:"text-right py-2 px-5 text-tx/25 font-bold uppercase tracking-wider text-[9px]",children:"Total RX"}),h.jsx("th",{className:"text-right py-2 px-5 text-tx/25 font-bold uppercase tracking-wider text-[9px]",children:"Total TX"})]})}),h.jsx("tbody",{children:v.network.map((B,V)=>h.jsxs("tr",{className:"border-b border-neon-yellow/[0.04] hover:bg-neon-yellow/[0.02] transition-colors",children:[h.jsx("td",{className:"py-2 px-5 font-bold text-tx/70",children:B.iface}),h.jsxs("td",{className:"py-2 px-5 text-right font-mono text-neon-cyan",children:[ur(B.rx_sec||0),"/s"]}),h.jsxs("td",{className:"py-2 px-5 text-right font-mono text-neon-pink",children:[ur(B.tx_sec||0),"/s"]}),h.jsx("td",{className:"py-2 px-5 text-right font-mono text-tx/30",children:ur(B.rx_bytes||0)}),h.jsx("td",{className:"py-2 px-5 text-right font-mono text-tx/30",children:ur(B.tx_bytes||0)})]},V))})]})})]}),h.jsx("div",{className:"text-center py-4 font-mono text-[9px] text-tx/15 uppercase tracking-widest",children:"Nexus Fleet Monitor /// Dronzer Studios"})]})}function HU({socket:e}){const[t,s]=g.useState([]),[r,n]=g.useState([]),[i,o]=g.useState("server"),[a,l]=g.useState("all"),[c,u]=g.useState(""),[d,f]=g.useState(!0),[m,p]=g.useState(!1),v=g.useRef(null),y=localStorage.getItem("token"),x=async()=>{try{const N=await U.get("/api/logs",{headers:{Authorization:`Bearer ${y}`},params:{limit:500}});s(N.data)}catch(N){console.error("Failed to fetch logs:",N)}},b=async()=>{p(!0);try{const N=await U.get("/api/logs/server",{headers:{Authorization:`Bearer ${y}`},params:{lines:500}});n(N.data.logs||[])}catch(N){console.error("Failed to fetch server logs:",N)}finally{p(!1)}};g.useEffect(()=>{x(),b(),e&&e.on("log:new",P=>{s(M=>[P,...M].slice(0,1e3))});const N=setInterval(b,1e4);return()=>{clearInterval(N),e&&e.off("log:new")}},[e]),g.useEffect(()=>{d&&v.current&&(v.current.scrollTop=0)},[t,r,d]);const _=async()=>{if(confirm("Clear all event logs?"))try{await U.delete("/api/logs",{headers:{Authorization:`Bearer ${y}`}}),s([])}catch{alert("Failed to clear logs")}},w=i==="server"?r:t,S=()=>{let N=w;if(a!=="all"&&(N=N.filter(P=>P.level===a)),c){const P=c.toLowerCase();N=N.filter(M=>(M.message||"").toLowerCase().includes(P)||M.meta&&JSON.stringify(M.meta).toLowerCase().includes(P))}return N},E=N=>{switch(N){case"error":return{color:"var(--theme-danger)",bg:"var(--theme-danger)",border:"var(--theme-danger)"};case"warn":return{color:"var(--neon-yellow)",bg:"var(--neon-yellow)",border:"var(--neon-yellow)"};case"info":return{color:"var(--neon-cyan)",bg:"var(--neon-cyan)",border:"var(--neon-cyan)"};case"debug":return{color:"var(--neon-purple)",bg:"var(--neon-purple)",border:"var(--neon-purple)"};default:return{color:"var(--theme-text-secondary)",bg:"var(--theme-text-secondary)",border:"var(--theme-text-secondary)"}}},k=S(),C=()=>{const N=k.map(L=>`[${L.timestamp||""}] [${(L.level||"info").toUpperCase()}] ${L.message||""}`).join(`
`),P=new Blob([N],{type:"text/plain"}),M=URL.createObjectURL(P),T=document.createElement("a");T.href=M,T.download=`nexus-logs-${new Date().toISOString().split("T")[0]}.txt`,T.click(),URL.revokeObjectURL(M)};return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("header",{className:"mb-8 border-b-[3px] border-neon-pink/20 pb-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(qh,{className:"w-8 sm:w-10 h-8 sm:h-10 text-neon-pink shrink-0",strokeWidth:2.5}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black uppercase tracking-tighter leading-[0.9]",children:[h.jsx("span",{className:"text-tx",children:"System"})," ",h.jsx("span",{className:"text-neon-pink",style:{textShadow:"0 0 25px var(--neon-pink)"},children:"Logs"})]}),h.jsx("div",{className:"font-mono text-[10px] text-tx/30 mt-2 tracking-wider uppercase",children:"Server output  Event stream  Real-time monitoring"})]})]})}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center mb-4",children:[h.jsxs("div",{className:"flex border-[3px] border-tx/10",children:[h.jsx("button",{onClick:()=>o("server"),className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all ${i==="server"?"bg-neon-pink text-white":"bg-brutal-card text-tx/40 hover:text-neon-pink"}`,style:i==="server"?{color:"var(--on-neon-pink)",backgroundColor:"var(--neon-pink)"}:void 0,children:"Server Logs"}),h.jsx("button",{onClick:()=>o("events"),className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest border-l-[3px] border-tx/10 transition-all ${i==="events"?"bg-neon-cyan text-white":"bg-brutal-card text-tx/40 hover:text-neon-cyan"}`,style:i==="events"?{color:"var(--on-neon-cyan)",backgroundColor:"var(--neon-cyan)"}:void 0,children:"Event Logs"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:a,onChange:N=>l(N.target.value),className:"appearance-none bg-brutal-card border-[3px] border-tx/10 text-tx px-4 py-2 pr-8 font-bold uppercase text-[10px] tracking-widest focus:outline-none focus:border-neon-pink/40 transition-colors cursor-pointer",children:[h.jsx("option",{value:"all",children:"All Levels"}),h.jsx("option",{value:"error",children:"Error"}),h.jsx("option",{value:"warn",children:"Warning"}),h.jsx("option",{value:"info",children:"Info"}),h.jsx("option",{value:"debug",children:"Debug"})]}),h.jsx(UN,{className:"w-3 h-3 absolute right-2.5 top-1/2 -translate-y-1/2 text-tx/30 pointer-events-none"})]}),h.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[h.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"Search logs...",className:"w-full bg-brutal-card border-[3px] border-tx/10 text-tx px-4 py-2 pl-9 font-mono text-xs focus:outline-none focus:border-neon-pink/40 transition-colors"}),h.jsx(YN,{className:"w-3.5 h-3.5 absolute left-3 top-1/2 -translate-y-1/2 text-tx/30"})]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("div",{className:`w-4 h-4 border-2 flex items-center justify-center transition-all ${d?"bg-neon-pink border-neon-pink":"border-tx/20"}`,onClick:()=>f(!d),children:d&&h.jsx("div",{className:"w-2 h-2 bg-white",style:{backgroundColor:"var(--on-neon-pink)"}})}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-tx/40",children:"Auto-scroll"})]}),h.jsx("button",{onClick:i==="server"?b:x,className:"p-2 border-2 border-tx/10 text-tx/30 hover:text-neon-pink hover:border-neon-pink/40 transition-colors",title:"Refresh",children:h.jsx($u,{className:`w-4 h-4 ${m?"animate-spin":""}`})}),h.jsx("button",{onClick:C,className:"p-2 border-2 border-tx/10 text-tx/30 hover:text-neon-cyan hover:border-neon-cyan/40 transition-colors",title:"Download",children:h.jsx(nl,{className:"w-4 h-4"})}),i==="events"&&h.jsx("button",{onClick:_,className:"p-2 border-2 border-red-500/30 text-red-500/40 hover:text-red-400 hover:border-red-500/50 transition-colors",title:"Clear",children:h.jsx(Nr,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"font-mono text-[10px] text-tx/20 tracking-wider uppercase",children:["Showing ",k.length," of ",w.length," entries"]}),h.jsx("div",{className:"flex gap-3",children:["error","warn","info","debug"].map(N=>{const P=w.filter(T=>T.level===N).length;if(P===0)return null;const M=E(N);return h.jsxs("span",{className:"text-[9px] font-bold uppercase tracking-wider",style:{color:M.color},children:[N,": ",P]},N)})})]}),h.jsx("div",{ref:v,className:"border-[3px] border-neon-pink/15 bg-brutal-card shadow-brutal h-[calc(100vh-340px)] min-h-[400px] overflow-y-auto custom-scrollbar",children:k.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[h.jsx(qh,{className:"w-12 h-12 text-tx/10 mb-4"}),h.jsx("div",{className:"font-bold text-tx/20 uppercase tracking-wider text-sm",children:"No logs found"}),h.jsx("div",{className:"font-mono text-tx/10 text-[10px] mt-1",children:c?"Try adjusting your search or filter":"Logs will appear as the system runs"})]}):h.jsx("div",{className:"divide-y divide-tx/[0.04]",children:k.map((N,P)=>{const M=E(N.level);return h.jsxs("div",{className:"px-4 py-2.5 hover:bg-neon-pink/[0.02] transition-colors group flex items-start gap-3",children:[h.jsx("span",{className:"font-mono text-[10px] text-tx/20 whitespace-nowrap shrink-0 mt-0.5",children:N.timestamp?new Date(N.timestamp).toLocaleTimeString():""}),h.jsx("span",{className:"px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider whitespace-nowrap shrink-0 border",style:{color:M.color,borderColor:M.border+"40",backgroundColor:M.bg+"10"},children:(N.level||"info").toUpperCase()}),h.jsx("span",{className:"font-mono text-xs text-tx/70 flex-1 break-all leading-relaxed",children:N.message})]},P)})})})]})}function VU(){const[e,t]=g.useState(!1),[s,r]=g.useState(!0),[n,i]=g.useState(null),[o,a]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState(""),[f,m]=g.useState(!1),[p,v]=g.useState(""),[y,x]=g.useState(""),[b,_]=g.useState(null);g.useEffect(()=>{w()},[]);const w=async()=>{try{const N=localStorage.getItem("token"),P=await U.get("/api/auth/2fa/status",{headers:{Authorization:`Bearer ${N}`}});t(P.data.enabled||!1)}catch(N){console.error("Failed to fetch 2FA status:",N)}finally{r(!1)}},S=async()=>{var N,P;v(""),r(!0);try{const M=localStorage.getItem("token"),T=await U.post("/api/auth/2fa/enable",{},{headers:{Authorization:`Bearer ${M}`}});T.data.success&&(i(T.data.qrCode),a(T.data.secret),m(!0))}catch(M){v(((P=(N=M.response)==null?void 0:N.data)==null?void 0:P.error)||"Failed to enable 2FA")}finally{r(!1)}},E=async N=>{var P,M;N.preventDefault(),v(""),r(!0);try{const T=localStorage.getItem("token"),L=await U.post("/api/auth/2fa/verify-setup",{totpCode:u},{headers:{Authorization:`Bearer ${T}`}});L.data.success&&(c(L.data.recoveryCodes||[]),t(!0),x("2FA enabled successfully! Save your recovery codes."),d(""))}catch(T){v(((M=(P=T.response)==null?void 0:P.data)==null?void 0:M.error)||"Invalid verification code")}finally{r(!1)}},k=async()=>{var N,P;if(window.confirm("Are you sure you want to disable 2FA? This will reduce your account security.")){v(""),r(!0);try{const M=localStorage.getItem("token");(await U.post("/api/auth/2fa/disable",{},{headers:{Authorization:`Bearer ${M}`}})).data.success&&(t(!1),m(!1),i(null),a(null),c([]),x("2FA disabled successfully"))}catch(M){v(((P=(N=M.response)==null?void 0:N.data)==null?void 0:P.error)||"Failed to disable 2FA")}finally{r(!1)}}},C=(N,P)=>{navigator.clipboard.writeText(N),_(P),setTimeout(()=>_(null),2e3)};return s&&!f?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-neon-cyan border-t-transparent"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"border-2 border-neon-cyan/20 bg-brutal-card p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(gt,{className:`w-8 h-8 ${e?"text-neon-cyan":"text-tx/30"}`,strokeWidth:2.5}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-black uppercase tracking-tight text-tx",children:"Two-Factor Authentication"}),h.jsxs("p",{className:"text-sm text-tx/60 font-mono mt-1",children:["Status: ",e?h.jsx("span",{className:"text-neon-cyan font-bold",children:"ENABLED"}):h.jsx("span",{className:"text-tx/40",children:"DISABLED"})]})]})]}),!f&&h.jsx("button",{onClick:e?k:S,disabled:s,className:`px-4 py-2 border-2 font-bold uppercase text-xs tracking-widest transition-all ${e?"border-red-500/50 text-red-400 hover:bg-red-500/10":"border-neon-cyan bg-neon-cyan text-black hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none"} disabled:opacity-50`,children:s?"Processing...":e?"Disable 2FA":"Enable 2FA"})]})}),p&&h.jsxs("div",{className:"p-4 bg-red-500/10 border-2 border-red-500/50 flex items-start gap-3",children:[h.jsx(jr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-red-300 font-mono",children:p})]}),y&&h.jsxs("div",{className:"p-4 bg-neon-cyan/10 border-2 border-neon-cyan/50 flex items-start gap-3",children:[h.jsx(ye,{className:"w-5 h-5 text-neon-cyan flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-neon-cyan font-mono",children:y})]}),f&&n&&h.jsxs("div",{className:"border-2 border-neon-cyan/30 bg-brutal-card p-6 space-y-6",children:[h.jsx("h4",{className:"text-lg font-black uppercase tracking-tight text-tx border-b-2 border-neon-cyan/20 pb-3",children:"Setup Two-Factor Authentication"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-tx/60 font-mono",children:"Scan this QR code with your authenticator app:"}),h.jsx("div",{className:"bg-white p-4 inline-block border-2 border-neon-cyan/50",children:h.jsx("img",{src:n,alt:"2FA QR Code",className:"w-48 h-48"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-tx/60 font-mono",children:"Or enter this secret key manually:"}),h.jsx("div",{className:"bg-brutal-card border-2 border-neon-cyan/20 p-3 font-mono text-sm text-neon-cyan break-all",children:o}),h.jsxs("button",{onClick:()=>C(o,"secret"),className:"flex items-center gap-2 px-3 py-2 border-2 border-tx/20 text-tx/60 hover:text-tx hover:border-tx/40 transition-all text-xs font-bold uppercase tracking-wider",children:[b==="secret"?h.jsx(ye,{className:"w-4 h-4"}):h.jsx(ei,{className:"w-4 h-4"}),b==="secret"?"Copied!":"Copy Secret"]}),h.jsxs("div",{className:"pt-4 border-t-2 border-neon-cyan/10",children:[h.jsx("p",{className:"text-xs text-tx/40 font-mono mb-2 uppercase tracking-wide",children:"Recommended Apps:"}),h.jsxs("ul",{className:"text-xs text-tx/60 font-mono space-y-1",children:[h.jsx("li",{children:" Google Authenticator"}),h.jsx("li",{children:" Authy"}),h.jsx("li",{children:" Microsoft Authenticator"})]})]})]})]}),h.jsxs("form",{onSubmit:E,className:"space-y-4 border-t-2 border-neon-cyan/20 pt-6",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-bold text-tx/60 uppercase tracking-wider mb-2 block",children:"Enter 6-Digit Code to Verify"}),h.jsx("input",{type:"text",value:u,onChange:N=>d(N.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 bg-brutal-card border-2 border-neon-cyan/30 focus:outline-none focus:border-neon-cyan transition-all text-center text-2xl tracking-[0.5em] font-mono text-neon-cyan font-bold",placeholder:"000000",maxLength:6,autoFocus:!0})]}),h.jsx("button",{type:"submit",disabled:s||u.length!==6,className:"w-full py-3 bg-neon-cyan border-2 border-neon-cyan font-black uppercase text-sm tracking-widest hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none disabled:opacity-30 disabled:cursor-not-allowed transition-all",style:{color:"var(--on-neon-cyan)"},children:s?"Verifying...":"Verify & Enable"})]})]}),l.length>0&&h.jsx("div",{className:"border-2 border-neon-yellow/30 bg-neon-yellow/5 p-6 space-y-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(jr,{className:"w-6 h-6 text-neon-yellow flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-lg font-black uppercase tracking-tight text-neon-yellow mb-2",children:"Save Your Recovery Codes"}),h.jsx("p",{className:"text-sm text-tx/70 font-mono mb-4",children:"Store these codes in a safe place. Each can be used once if you lose access to your authenticator app."}),h.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:l.map((N,P)=>h.jsxs("div",{className:"bg-brutal-card border-2 border-neon-yellow/20 p-2 flex items-center justify-between",children:[h.jsx("span",{className:"font-mono text-sm text-tx",children:N}),h.jsx("button",{onClick:()=>C(N,P),className:"p-1 hover:bg-neon-yellow/10 transition-colors",children:b===P?h.jsx(ye,{className:"w-4 h-4 text-neon-cyan"}):h.jsx(ei,{className:"w-4 h-4 text-tx/40"})})]},P))}),h.jsxs("button",{onClick:()=>{const N=l.join(`
`),P=new Blob([N],{type:"text/plain"}),M=URL.createObjectURL(P),T=document.createElement("a");T.href=M,T.download="nexus-recovery-codes.txt",T.click(),URL.revokeObjectURL(M)},className:"flex items-center gap-2 px-4 py-2 bg-neon-yellow border-2 border-neon-yellow font-bold uppercase text-xs tracking-widest transition-all hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none",style:{color:"var(--on-neon-yellow)"},children:[h.jsx(ei,{className:"w-4 h-4"}),"Download All Codes"]})]})]})}),!f&&e&&h.jsx("div",{className:"p-4 bg-neon-cyan/5 border-2 border-neon-cyan/20",children:h.jsx("p",{className:"text-xs text-tx/50 font-mono",children:"Two-factor authentication is enabled for your account. You'll need to enter a code from your authenticator app when logging in."})})]})}function Y3({isOpen:e,onClose:t,onVerified:s,title:r="Security Verification",description:n="This action requires two-factor authentication for security."}){const[i,o]=g.useState(""),[a,l]=g.useState(!1),[c,u]=g.useState(""),[d,f]=g.useState(0),m=3,p=async y=>{var x,b;y.preventDefault(),u(""),l(!0);try{const _=localStorage.getItem("token");(await U.post("/api/auth/verify-2fa",{totpCode:i},{headers:{Authorization:`Bearer ${_}`}})).data.success&&(s({totpCode:i,verified:!0}),o(""),f(0),u(""))}catch(_){const w=d+1;f(w),w>=m?(u("Maximum attempts exceeded. Access denied for security reasons."),setTimeout(()=>{t(),f(0),o(""),u("")},3e3)):(u(((b=(x=_.response)==null?void 0:x.data)==null?void 0:b.error)||"Invalid 2FA code. Please try again."),o(""))}finally{l(!1)}},v=()=>{o(""),u(""),f(0),t()};return e?h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-brutal-card border-[3px] border-neon-cyan/50 max-w-md w-full p-6 shadow-brutal-cyan animate-fadeIn",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 border-b-2 border-neon-cyan/20 pb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-neon-cyan/20 border-2 border-neon-cyan/40",children:h.jsx(gt,{className:"w-6 h-6 text-neon-cyan",strokeWidth:2.5})}),h.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-tx",children:r})]}),h.jsx("button",{onClick:v,className:"p-1 hover:bg-tx/5 transition-colors",disabled:a,children:h.jsx(Tl,{className:"w-5 h-5 text-tx/60 hover:text-neon-pink"})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("p",{className:"text-tx/70 text-sm font-mono",children:n}),h.jsx("p",{className:"text-tx/40 text-xs mt-2 font-mono uppercase tracking-wide",children:"Enter your 6-digit code from your authenticator app."})]}),c&&h.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border-2 border-red-500/50 flex items-start gap-2",children:[h.jsx(jr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",strokeWidth:2.5}),h.jsxs("div",{className:"text-sm text-red-300 font-mono",children:[c,d>0&&d<m&&h.jsxs("div",{className:"text-xs text-red-400 mt-1 uppercase tracking-wider",children:["Attempts: ",d,"/",m]})]})]}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold mb-2 text-tx/60 uppercase tracking-wider",children:"2FA Code"}),h.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 bg-brutal-card border-2 border-neon-cyan/30 focus:outline-none focus:border-neon-cyan transition-all text-center text-3xl tracking-[0.5em] font-mono text-neon-cyan font-bold shadow-brutal-sm",placeholder:"000000",maxLength:6,autoFocus:!0,disabled:a||d>=m,autoComplete:"one-time-code"})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:v,className:"flex-1 py-2 px-4 border-2 border-tx/20 text-tx/60 hover:text-tx hover:border-tx/40 transition-all font-bold uppercase text-xs tracking-widest shadow-brutal-sm hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-none",disabled:a,children:"Cancel"}),h.jsx("button",{type:"submit",disabled:a||i.length!==6||d>=m,className:"flex-1 py-2 px-4 bg-neon-cyan border-2 border-neon-cyan font-black uppercase text-xs tracking-widest hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none disabled:opacity-30 disabled:cursor-not-allowed transition-all",style:{color:"var(--on-neon-cyan)"},children:a?h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Verifying..."]}):"Verify & Continue"})]})]}),h.jsx("div",{className:"mt-4 p-3 bg-neon-cyan/5 border-2 border-neon-cyan/20",children:h.jsx("p",{className:"text-xs text-tx/50 font-mono",children:"This extra security step protects sensitive operations like remote command execution."})})]})}):null}function WU(){const[e,t]=g.useState(!1),[s,r]=g.useState(""),[n,i]=g.useState(!1),[o,a]=g.useState(""),[l,c]=g.useState(!1),u=()=>{t(!0)},d=()=>{if(s!=="DELETE ALL DATA"){a('Please type "DELETE ALL DATA" exactly as shown');return}i(!0),t(!1)},f=async p=>{var v,y,x,b;c(!0),a("");try{const _=localStorage.getItem("token");(await U.post("/api/system/uninstall",p,{headers:{Authorization:`Bearer ${_}`}})).data.success&&(alert(`Uninstallation initiated successfully!

Next steps:
1. The server will shut down in 10 seconds
2. Run the uninstall script on the server:
   bash uninstall.sh

All data will be permanently deleted.`),localStorage.removeItem("token"),window.location.href="/login")}catch(_){throw a(((y=(v=_.response)==null?void 0:v.data)==null?void 0:y.error)||"Failed to initiate uninstallation"),new Error(((b=(x=_.response)==null?void 0:x.data)==null?void 0:b.error)||"Failed to initiate uninstallation")}finally{c(!1)}},m=async()=>{try{const p=localStorage.getItem("token"),v=await U.get("/api/system/uninstall-script",{headers:{Authorization:`Bearer ${p}`},responseType:"blob"}),y=window.URL.createObjectURL(new Blob([v.data])),x=document.createElement("a");x.href=y,x.setAttribute("download","uninstall.sh"),document.body.appendChild(x),x.click(),x.remove()}catch{a("Failed to download uninstall script")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Nr,{className:"w-6 h-6 text-red-400"}),h.jsx("h3",{className:"font-bold text-lg uppercase tracking-wider text-tx",children:"Uninstall Nexus"})]}),h.jsx("p",{className:"text-sm text-tx/50 mt-2",children:"Permanently remove Nexus from your system. This action cannot be undone."})]})}),h.jsx("div",{className:"border-4 border-red-500/40 bg-red-500/5 p-6 space-y-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(jr,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-bold uppercase text-sm text-red-400 mb-2",children:"Danger Zone"}),h.jsx("p",{className:"text-sm text-tx/70 mb-4",children:"Uninstalling Nexus will permanently delete:"}),h.jsxs("ul",{className:"text-sm text-tx/60 space-y-1 list-disc list-inside mb-4",children:[h.jsx("li",{children:"All node configurations and metrics"}),h.jsx("li",{children:"User accounts and authentication data"}),h.jsx("li",{children:"API keys and access tokens"}),h.jsx("li",{children:"Historical monitoring data"}),h.jsx("li",{children:"System configuration and themes"}),h.jsx("li",{children:"Database files (nexus.db)"})]}),h.jsxs("div",{className:"bg-brutal-bg border-2 border-red-500/20 p-4 space-y-2",children:[h.jsx("p",{className:"text-xs font-bold text-neon-cyan uppercase",children:"Before uninstalling:"}),h.jsxs("ol",{className:"text-xs text-tx/60 space-y-1 list-decimal list-inside",children:[h.jsx("li",{children:"Download the uninstall script using the button below"}),h.jsx("li",{children:"Backup any important data manually"}),h.jsx("li",{children:"Ensure you have 2FA access (required for uninstallation)"}),h.jsx("li",{children:"Run the script on your server to complete the removal"})]})]})]})]})}),o&&h.jsx("div",{className:"border-2 border-red-500/40 bg-red-500/10 p-4 text-red-400 text-sm",children:o}),e&&h.jsxs("div",{className:"border-4 border-neon-pink/40 bg-brutal-card p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(gt,{className:"w-6 h-6 text-neon-pink"}),h.jsx("h4",{className:"font-bold uppercase text-sm text-neon-pink",children:"Final Confirmation Required"})]}),h.jsxs("p",{className:"text-sm text-tx/70",children:["Type ",h.jsx("code",{className:"px-2 py-1 bg-brutal-bg border border-tx/20 font-mono text-red-400",children:"DELETE ALL DATA"})," to confirm:"]}),h.jsx("input",{type:"text",value:s,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 bg-brutal-bg border-2 border-red-500/40 text-tx font-mono focus:outline-none focus:border-red-500",placeholder:"Type here...",autoFocus:!0}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:d,disabled:s!=="DELETE ALL DATA",className:"flex-1 px-4 py-3 bg-red-500 text-white font-bold uppercase text-sm hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Confirm Uninstallation"}),h.jsx("button",{onClick:()=>{t(!1),r(""),a("")},className:"px-4 py-3 border-2 border-tx/20 text-tx/70 font-bold uppercase text-sm hover:bg-tx/5 transition-all",children:"Cancel"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:m,className:"px-6 py-3 border-2 border-neon-cyan/40 bg-neon-cyan/10 text-neon-cyan font-bold uppercase text-sm hover:bg-neon-cyan/20 transition-all flex items-center gap-2",children:[h.jsx(nl,{className:"w-4 h-4"}),"Download Uninstall Script"]}),!e&&h.jsxs("button",{onClick:u,disabled:l,className:"px-6 py-3 border-2 border-red-500/40 bg-red-500/10 text-red-400 font-bold uppercase text-sm hover:bg-red-500/20 disabled:opacity-50 transition-all flex items-center gap-2",children:[h.jsx(Nr,{className:"w-4 h-4"}),"Uninstall Nexus"]})]}),h.jsx(Y3,{isOpen:n,onClose:()=>i(!1),onVerified:f,title:"Verify Uninstallation",description:"Enter your 2FA code to authorize the uninstallation of Nexus. This is a critical security measure."})]})}function UU({showFeedback:e}){const[t,s]=g.useState(null),[r,n]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(!1),[c,u]=g.useState({cpu:80,memory:85,disk:90}),[d,f]=g.useState(!1),[m,p]=g.useState(!1),[v,y]=g.useState(!1),[x,b]=g.useState(!0),_=g.useCallback(async()=>{var k;try{const[C,N]=await Promise.all([U.get("/api/alerts/discord/status"),U.get("/api/alerts/thresholds")]);s(C.data.discord),o(((k=C.data.discord)==null?void 0:k.userId)||""),l(N.data.alertsEnabled||!1),N.data.thresholds&&u(N.data.thresholds)}catch(C){console.error("Failed to load alert settings:",C)}finally{b(!1)}},[]);g.useEffect(()=>{_()},[_]);const w=async()=>{f(!0);try{await U.post("/api/alerts/discord/settings",{botToken:r||void 0,userId:i}),n(""),e("Discord settings saved!"),_()}catch{e("Failed to save Discord settings")}finally{f(!1)}},S=async()=>{f(!0);try{await U.post("/api/alerts/thresholds",{enabled:a,thresholds:c}),e("Alert thresholds saved!")}catch{e("Failed to save thresholds")}finally{f(!1)}},E=async()=>{p(!0);try{const k=await U.post("/api/alerts/discord/test");e(k.data.message)}catch{e("Failed to send test alert")}finally{p(!1)}};return x?h.jsx("div",{className:"p-6 text-center text-tx/30",children:h.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-tx/10 border-t-neon-cyan rounded-full mx-auto"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"border-[3px] border-tx/10 bg-brutal-card p-5",children:[h.jsxs("h3",{className:"font-bold text-sm uppercase tracking-widest text-tx/50 mb-4 flex items-center gap-2",children:[h.jsx(W0,{className:"w-4 h-4 text-neon-purple"}),"Discord Bot"]}),h.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-brutal-bg border-2 border-tx/10",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${t!=null&&t.connected?"bg-green-400 animate-pulse":"bg-gray-600"}`}),h.jsx("span",{className:"text-xs font-bold text-tx/50 uppercase tracking-wider",children:t!=null&&t.connected?`Connected as ${t.username}`:t!=null&&t.hasToken?"Disconnected  check token":"Not configured"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 block mb-1",children:["Bot Token ",(t==null?void 0:t.hasToken)&&"(already set)"]}),h.jsx("input",{type:v?"text":"password",value:r,onChange:k=>n(k.target.value),placeholder:t!=null&&t.hasToken?"":"Paste your Discord bot token",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-xs text-tx focus:border-neon-purple/40 focus:outline-none transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 block mb-1",children:"Your Discord User ID"}),h.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),placeholder:"123456789012345678",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-xs text-tx focus:border-neon-purple/40 focus:outline-none transition-colors"}),h.jsx("p",{className:"text-[10px] text-tx/20 mt-1",children:"Enable Developer Mode in Discord, right-click your name, Copy User ID"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:w,disabled:d,className:"px-4 py-2 bg-neon-purple text-white text-xs font-bold uppercase tracking-wider hover:bg-neon-purple/90 disabled:opacity-50 transition-all",children:d?"Saving...":"Save Bot Settings"}),h.jsx("button",{onClick:E,disabled:m||!(t!=null&&t.connected),className:"px-4 py-2 border-2 border-tx/20 text-tx/60 text-xs font-bold uppercase tracking-wider hover:border-neon-cyan/40 hover:text-tx disabled:opacity-30 transition-all",children:m?"Sending...":"Send Test Alert"})]})]}),h.jsxs("div",{className:"mt-4 p-3 bg-neon-purple/5 border border-neon-purple/20 text-xs text-tx/40 font-mono space-y-1",children:[h.jsx("p",{className:"font-bold text-tx/60",children:"Setup Guide:"}),h.jsx("p",{children:"1. Go to discord.com/developers/applications"}),h.jsx("p",{children:"2. Create a New Application, go to Bot tab"}),h.jsx("p",{children:"3. Click Reset Token, copy the token"}),h.jsx("p",{children:"4. Enable MESSAGE CONTENT intent"}),h.jsx("p",{children:"5. Invite bot to a server you're in (OAuth2 URL Generator, bot scope)"}),h.jsx("p",{children:"6. Paste token and your User ID above"})]})]}),h.jsxs("div",{className:"border-[3px] border-tx/10 bg-brutal-card p-5",children:[h.jsxs("h3",{className:"font-bold text-sm uppercase tracking-widest text-tx/50 mb-4 flex items-center gap-2",children:[h.jsx(Pl,{className:"w-4 h-4 text-neon-pink"}),"Alert Thresholds"]}),h.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-brutal-bg border-2 border-tx/10",children:[h.jsx("span",{className:"text-xs font-bold text-tx/50 uppercase tracking-wider",children:"Alerts Enabled"}),h.jsx("button",{onClick:()=>l(!a),className:`w-10 h-5 rounded-full transition-colors relative ${a?"bg-neon-cyan":"bg-tx/10"}`,children:h.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-0.5 transition-transform ${a?"translate-x-5":"translate-x-0.5"}`})})]}),h.jsx("div",{className:"space-y-4",children:[{key:"cpu",label:"CPU Usage",color:"text-neon-cyan"},{key:"memory",label:"Memory Usage",color:"text-neon-pink"},{key:"disk",label:"Disk Usage",color:"text-neon-purple"}].map(({key:k,label:C,color:N})=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${N}`,children:C}),h.jsxs("span",{className:"text-xs font-mono text-tx/50",children:[c[k],"%"]})]}),h.jsx("input",{type:"range",min:"50",max:"99",value:c[k],onChange:P=>u(M=>({...M,[k]:parseInt(P.target.value)})),className:"w-full accent-neon-cyan"})]},k))}),h.jsx("button",{onClick:S,disabled:d,className:"mt-4 px-4 py-2 bg-neon-pink text-white text-xs font-bold uppercase tracking-wider hover:bg-neon-pink/90 disabled:opacity-50 transition-all",children:d?"Saving...":"Save Thresholds"})]})]})}const QS=({colors:e})=>h.jsxs("div",{className:"flex gap-1 mt-2",children:[[e.bgPrimary,e.bgSecondary,e.bgCard].map((t,s)=>h.jsx("div",{className:"w-5 h-5 border border-tx/10",style:{backgroundColor:t}},`bg-${s}`)),h.jsx("div",{className:"w-px bg-tx/10 mx-0.5"}),[e.accent1,e.accent2,e.accent3,e.accent4].map((t,s)=>h.jsx("div",{className:"w-5 h-5 border border-tx/10",style:{backgroundColor:t}},`ac-${s}`))]}),KU=({label:e,value:t,onChange:s})=>h.jsxs("div",{className:"flex items-center gap-3 group",children:[h.jsx("div",{className:"relative shrink-0",children:h.jsx("input",{type:"color",value:t,onChange:r=>s(r.target.value),className:"w-10 h-10 cursor-pointer border-2 border-tx/10 bg-transparent [&::-webkit-color-swatch-wrapper]:p-0.5 [&::-webkit-color-swatch]:border-none [&::-webkit-color-swatch]:rounded-none hover:border-neon-pink/40 transition-colors"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:e}),h.jsx("input",{type:"text",value:t,onChange:r=>{const n=r.target.value;(/^#[0-9a-fA-F]{0,6}$/.test(n)||n===""||n==="#")&&(n.length===7||n.length===4||n.length<7)&&s(n)},className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-1.5 font-mono text-xs text-tx uppercase tracking-wider focus:border-neon-pink/40 focus:outline-none transition-colors",placeholder:"#000000",maxLength:7})]})]});function qU({showFeedback:e}){var V,Y;const{theme:t,draft:s,userPresets:r,editingPresetIndex:n,updateDraftColor:i,applyDraft:o,loadBuiltIn:a,loadBuiltInToDraft:l,loadUserPreset:c,loadUserPresetToDraft:u,saveUserPreset:d,deleteUserPreset:f,overwriteUserPreset:m,renameUserPreset:p,exportTheme:v,importTheme:y,setEditingPresetIndex:x,maxUserPresets:b,setDraft:_}=nx(),[w,S]=g.useState(""),[E,k]=g.useState(!1),[C,N]=g.useState(null),[P,M]=g.useState(""),T=g.useRef(null),L=()=>{if(!w.trim())return;d(w.trim())?(e("Theme saved as preset!"),S(""),k(!1)):e(`Max ${b} presets reached`)},$=async D=>{var X;const K=(X=D.target.files)==null?void 0:X[0];if(K){try{await y(K),e("Theme imported into editor!")}catch(z){e(z.message)}D.target.value=""}},O=D=>{N(D),M(r[D].name)},A=()=>{C!==null&&P.trim()&&(p(C,P.trim()),e("Preset renamed")),N(null)},F=[{title:"Backgrounds",Icon:Iu,keys:["bgPrimary","bgSecondary","bgCard"]},{title:"Accents",Icon:Pl,keys:["accent1","accent2","accent3","accent4"]},{title:"Text",Icon:Fb,keys:["text","textSecondary","textMuted"]},{title:"Status",Icon:gt,keys:["danger","success"]}],j=(D,K)=>!(D!=null&&D.colors)||!(K!=null&&K.colors)?!1:Object.keys(D.colors).every(X=>D.colors[X]===K.colors[X]),B=!j(s,t);return h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("section",{children:[h.jsx("div",{className:"bg-neon-pink px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[-1deg] tracking-widest mb-4",style:{color:"var(--on-neon-pink)"},children:"Built-in Presets"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(cs).map(([D,K])=>h.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`border-[3px] p-4 cursor-pointer transition-all hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-brutal ${j(t,K)?"border-neon-pink shadow-brutal bg-neon-pink/5":"border-tx/10 bg-brutal-card"}`,onClick:()=>l(D),onDoubleClick:()=>a(D),children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-sm uppercase tracking-wider text-tx",children:K.name}),h.jsx(QS,{colors:K.colors})]}),j(t,K)&&h.jsx(ye,{className:"w-4 h-4 text-neon-pink"})]}),h.jsx("div",{className:"text-[8px] font-mono text-tx/20 mt-2",children:"Click to load into editor  Double-click to apply"})]},D))})]}),h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"bg-neon-cyan px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[1deg] tracking-widest",style:{color:"var(--on-neon-cyan)"},children:["Your Presets (",r.length,"/",b,")"]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("button",{onClick:()=>{var D;return(D=T.current)==null?void 0:D.click()},className:"flex items-center gap-1.5 px-3 py-1.5 border-2 border-tx/10 text-tx/40 font-bold uppercase text-[9px] tracking-wider hover:border-neon-cyan/40 hover:text-neon-cyan transition-all",children:[h.jsx(h9,{className:"w-3 h-3"})," Import"]}),h.jsx("input",{ref:T,type:"file",accept:".json",onChange:$,className:"hidden"}),r.length<b&&h.jsxs("button",{onClick:()=>k(!E),className:"flex items-center gap-1.5 px-3 py-1.5 border-2 border-neon-pink/40 text-neon-pink font-bold uppercase text-[9px] tracking-wider hover:bg-neon-pink transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px]",onMouseEnter:D=>D.currentTarget.style.color="var(--on-neon-pink)",onMouseLeave:D=>D.currentTarget.style.color="",children:[h.jsx(Jb,{className:"w-3 h-3"})," Save Current"]})]})]}),h.jsx(Xt,{children:E&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:h.jsxs("div",{className:"border-[3px] border-neon-pink/20 bg-brutal-card p-4 flex gap-3 items-end",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Preset Name"}),h.jsx("input",{type:"text",value:w,onChange:D=>S(D.target.value),onKeyDown:D=>D.key==="Enter"&&L(),placeholder:"My Custom Theme",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-pink/40 focus:outline-none transition-colors",maxLength:24,autoFocus:!0})]}),h.jsx("button",{onClick:L,disabled:!w.trim(),className:"px-5 py-2 bg-neon-pink font-bold uppercase text-xs tracking-wider border-2 border-neon-pink hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{color:"var(--on-neon-pink)"},children:"Save"})]})})}),r.length===0?h.jsxs("div",{className:"border-[3px] border-tx/5 bg-brutal-card p-6 text-center",children:[h.jsx("div",{className:"font-mono text-tx/20 text-sm",children:"No saved presets yet"}),h.jsx("div",{className:"font-mono text-tx/10 text-[10px] mt-1",children:"Customize colors below, then save as a preset"})]}):h.jsx("div",{className:"space-y-2",children:r.map((D,K)=>h.jsx(re.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:`border-[3px] p-3 bg-brutal-card transition-all ${n===K?"border-neon-cyan/60 shadow-brutal-cyan":"border-tx/10 hover:border-neon-cyan/20"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(QS,{colors:D.colors}),h.jsx("div",{className:"flex-1 min-w-0",children:C===K?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:P,onChange:X=>M(X.target.value),onKeyDown:X=>X.key==="Enter"&&A(),className:"bg-brutal-bg border-2 border-neon-cyan/40 px-2 py-1 font-mono text-xs text-tx flex-1 focus:outline-none",autoFocus:!0,maxLength:24}),h.jsx("button",{onClick:A,className:"text-neon-cyan p-1",children:h.jsx(ye,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>N(null),className:"text-tx/30 p-1",children:h.jsx(Tl,{className:"w-3.5 h-3.5"})})]}):h.jsx("div",{className:"font-bold text-xs uppercase tracking-wider text-tx truncate",children:D.name})}),h.jsxs("div",{className:"flex gap-1 shrink-0",children:[j(t,D)&&h.jsx(ye,{className:"w-3.5 h-3.5 text-neon-pink"}),h.jsx("button",{onClick:()=>u(K),title:"Edit",className:"text-tx/20 hover:text-neon-cyan p-1 transition-colors",children:h.jsx(Fb,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>O(K),title:"Rename",className:"text-tx/20 hover:text-neon-purple p-1 transition-colors text-[10px] font-bold",children:"Aa"}),h.jsx("button",{onClick:()=>{v(D),e("Theme exported!")},title:"Export",className:"text-tx/20 hover:text-neon-yellow p-1 transition-colors",children:h.jsx(nl,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>{c(K),e("Preset applied!")},title:"Apply",className:"text-tx/20 hover:text-neon-pink p-1 transition-colors",children:h.jsx(ye,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>{f(K),e("Preset deleted")},title:"Delete",className:"text-tx/20 hover:text-red-500 p-1 transition-colors",children:h.jsx(Nr,{className:"w-3.5 h-3.5"})})]})]})},K))})]}),h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"bg-neon-purple px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[-0.5deg] tracking-widest",style:{color:"var(--on-neon-purple)"},children:["Color Editor ",n!==null?`(Editing: ${(V=r[n])==null?void 0:V.name})`:""]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("button",{onClick:()=>{_({...cs.dark}),x(null)},className:"flex items-center gap-1.5 px-3 py-1.5 border-2 border-tx/10 text-tx/40 font-bold uppercase text-[9px] tracking-wider hover:border-neon-pink/40 hover:text-neon-pink transition-all",children:[h.jsx(XN,{className:"w-3 h-3"})," Reset"]})})]}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:F.map((D,K)=>h.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:K*.05},className:"border-[3px] border-tx/10 bg-brutal-card p-4",children:[h.jsxs("h3",{className:"font-bold text-xs uppercase tracking-widest text-tx/50 mb-3 flex items-center gap-2",children:[h.jsx(D.Icon,{className:"w-4 h-4 text-neon-pink"}),D.title]}),h.jsx("div",{className:"space-y-3",children:D.keys.map(X=>h.jsx(KU,{label:AU[X],value:s.colors[X],onChange:z=>i(X,z)},X))})]},D.title))}),h.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[h.jsxs("button",{onClick:()=>{o(),e("Theme applied!")},className:`flex items-center gap-2 px-5 py-2.5 font-bold uppercase text-[10px] tracking-widest border-2 transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px] ${B?"bg-neon-pink border-neon-pink":"bg-neon-pink/30 border-neon-pink/30 opacity-60"}`,style:{color:"var(--on-neon-pink)"},children:[h.jsx(ye,{className:"w-3.5 h-3.5"}),"Apply Theme"]}),n!==null&&h.jsxs("button",{onClick:()=>{m(n),e("Preset updated!")},className:"flex items-center gap-2 px-5 py-2.5 bg-neon-cyan border-2 border-neon-cyan font-bold uppercase text-[10px] tracking-widest transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",style:{color:"var(--on-neon-cyan)"},children:[h.jsx(Jb,{className:"w-3.5 h-3.5"}),'Save to "',(Y=r[n])==null?void 0:Y.name,'"']}),h.jsxs("button",{onClick:()=>{v(s),e("Theme exported!")},className:"flex items-center gap-2 px-4 py-2.5 border-2 border-tx/10 text-tx/40 font-bold uppercase text-[10px] tracking-widest hover:border-neon-yellow/40 hover:text-neon-yellow transition-all",children:[h.jsx(nl,{className:"w-3.5 h-3.5"})," Export"]})]})]})]}),h.jsxs("div",{className:"sticky top-0",children:[h.jsxs("div",{className:"bg-neon-yellow px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[0.5deg] tracking-widest mb-4",style:{color:"var(--on-neon-yellow)"},children:["Live Preview ",B&&"(unsaved changes)"]}),h.jsx("div",{className:"border-[3px] border-tx/10 p-6 overflow-hidden",style:{backgroundColor:s.colors.bgPrimary},children:h.jsxs("div",{className:"flex gap-3 mb-4",children:[h.jsx("div",{className:"w-16 border-r-2 py-2 space-y-2",style:{borderColor:s.colors.accent1+"30",backgroundColor:s.colors.bgSecondary},children:[s.colors.accent1,s.colors.accent2,s.colors.accent3,s.colors.accent4].map((D,K)=>h.jsx("div",{className:"mx-2 h-6 border",style:{backgroundColor:K===0?D:"transparent",borderColor:D+"40"}},K))}),h.jsxs("div",{className:"flex-1 space-y-3",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1 border-[3px] p-3",style:{backgroundColor:s.colors.bgCard,borderColor:s.colors.accent1+"30",boxShadow:`4px 4px 0 ${s.colors.accent1}20`},children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",style:{color:s.colors.textSecondary},children:"CPU"}),h.jsx("div",{className:"text-xl font-black mt-0.5",style:{color:s.colors.accent1},children:"85.2%"}),h.jsx("div",{className:"text-[8px] font-mono",style:{color:s.colors.textMuted},children:"Fleet Avg"})]}),h.jsxs("div",{className:"flex-1 border-[3px] p-3",style:{backgroundColor:s.colors.bgCard,borderColor:s.colors.accent2+"30",boxShadow:`4px 4px 0 ${s.colors.accent2}20`},children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest",style:{color:s.colors.textSecondary},children:"RAM"}),h.jsx("div",{className:"text-xl font-black mt-0.5",style:{color:s.colors.accent2},children:"62.7%"}),h.jsx("div",{className:"text-[8px] font-mono",style:{color:s.colors.textMuted},children:"4.2 GB"})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"px-2 py-0.5 text-[8px] font-bold uppercase tracking-wider border-2",style:{borderColor:s.colors.success+"60",color:s.colors.success,backgroundColor:s.colors.success+"15"},children:" Online"}),h.jsx("span",{className:"px-2 py-0.5 text-[8px] font-bold uppercase tracking-wider border-2",style:{borderColor:s.colors.danger+"60",color:s.colors.danger,backgroundColor:s.colors.danger+"15"},children:" Offline"}),h.jsx("span",{className:"px-2 py-0.5 text-[8px] font-bold uppercase tracking-wider",style:{backgroundColor:s.colors.accent1,color:$n(s.colors.accent1)>.5?"#000":"#fff"},children:"Badge"}),h.jsx("span",{className:"px-2 py-0.5 text-[8px] font-bold uppercase tracking-wider",style:{backgroundColor:s.colors.accent3,color:$n(s.colors.accent3)>.5?"#000":"#fff"},children:"Alt"})]}),h.jsxs("div",{className:"space-y-1 border-t-2 pt-2",style:{borderColor:s.colors.textMuted+"30"},children:[h.jsx("div",{className:"text-xs font-bold",style:{color:s.colors.text},children:"Primary text"}),h.jsx("div",{className:"text-[10px]",style:{color:s.colors.textSecondary},children:"Secondary text"}),h.jsx("div",{className:"text-[9px] font-mono",style:{color:s.colors.textMuted},children:"Muted text"})]}),h.jsx("div",{className:"space-y-1.5",children:[{label:"CPU",value:72,color:s.colors.accent1},{label:"RAM",value:58,color:s.colors.accent2},{label:"SWAP",value:25,color:s.colors.accent3}].map((D,K)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-[8px] font-bold uppercase tracking-wider mb-0.5",children:[h.jsx("span",{style:{color:s.colors.textSecondary},children:D.label}),h.jsxs("span",{style:{color:D.color},children:[D.value,"%"]})]}),h.jsx("div",{className:"h-2 border overflow-hidden",style:{borderColor:D.color+"40",backgroundColor:D.color+"10"},children:h.jsx("div",{className:"h-full transition-all",style:{width:`${D.value}%`,backgroundColor:D.color,boxShadow:`0 0 6px ${D.color}`}})})]},K))})]})]})})]})]})}function YU({showFeedback:e}){const[t,s]=g.useState(null),[r,n]=g.useState(!1),[i,o]=g.useState(!1),[a,l]=g.useState(!1),[c,u]=g.useState([]),[d,f]=g.useState(!1),m=localStorage.getItem("token"),p=U.create({baseURL:window.location.origin,headers:{Authorization:`Bearer ${m}`}}),v=g.useCallback(async()=>{n(!0);try{const _=await p.get("/api/update/check");s(_.data),_.data.error?e(_.data.error):_.data.hasUpdate?e(`Update available: v${_.data.latestVersion}`):e("You're on the latest version!")}catch{e("Failed to check for updates")}finally{n(!1)}},[]),y=async()=>{try{const _=await p.get("/api/update/releases?limit=5");u(_.data.releases||[]),f(!0)}catch{e("Failed to load changelog")}},x=async()=>{o(!0);try{const _=await p.post("/api/update/apply");e(_.data.message||"Update started...")}catch{e("Failed to start update")}finally{setTimeout(()=>{o(!1),v()},3e4)}},b=async()=>{l(!0);try{const _=await p.post("/api/update/nodes");e(_.data.message||"Update sent to nodes")}catch{e("Failed to push update to nodes")}finally{l(!1)}};return g.useEffect(()=>{v()},[]),h.jsxs("div",{className:"max-w-3xl",children:[h.jsxs("div",{className:"border-[3px] border-tx/10 bg-brutal-card p-6 mb-4",children:[h.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Current Version"}),h.jsxs("div",{className:"text-3xl font-black text-tx tracking-tight",children:["v",(t==null?void 0:t.currentVersion)||"..."]})]}),(t==null?void 0:t.hasUpdate)&&h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-neon-purple/60 mb-1",children:"Latest Available"}),h.jsxs("div",{className:"text-3xl font-black text-neon-purple tracking-tight",style:{textShadow:"0 0 15px var(--neon-purple)"},children:["v",t.latestVersion]})]}),t&&!t.hasUpdate&&!t.error&&h.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-2 border-green-500/30 bg-green-500/5",children:[h.jsx(ye,{className:"w-4 h-4 text-green-500"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-green-500",children:"Up to date"})]})]}),(t==null?void 0:t.hasUpdate)&&t.releaseName&&h.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-tx/5",children:[h.jsx("div",{className:"font-bold text-sm text-tx uppercase tracking-wider",children:t.releaseName}),t.publishedAt&&h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mt-0.5",children:["Released ",new Date(t.publishedAt).toLocaleDateString()]}),t.releaseNotes&&h.jsxs("div",{className:"mt-3 font-mono text-xs text-tx/50 whitespace-pre-wrap leading-relaxed max-h-40 overflow-y-auto border-l-2 border-neon-purple/20 pl-3",children:[t.releaseNotes.slice(0,500),t.releaseNotes.length>500&&"..."]})]}),(t==null?void 0:t.error)&&h.jsxs("div",{className:"mt-4 flex items-center gap-2 text-yellow-500",children:[h.jsx(jr,{className:"w-4 h-4 shrink-0"}),h.jsx("span",{className:"font-mono text-xs",children:t.error})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[h.jsxs("button",{onClick:v,disabled:r,className:"flex items-center gap-2 px-4 py-2.5 border-2 border-neon-purple/40 text-neon-purple font-bold uppercase text-[10px] tracking-widest hover:bg-neon-purple transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px] disabled:opacity-40",onMouseEnter:_=>!r&&(_.currentTarget.style.color="var(--on-neon-purple)"),onMouseLeave:_=>_.currentTarget.style.color="",children:[r?h.jsx(ac,{className:"w-3.5 h-3.5 animate-spin"}):h.jsx($u,{className:"w-3.5 h-3.5"}),r?"Checking...":"Check for Updates"]}),(t==null?void 0:t.hasUpdate)&&h.jsxs("button",{onClick:x,disabled:i,className:"flex items-center gap-2 px-4 py-2.5 bg-neon-purple border-2 border-neon-purple font-bold uppercase text-[10px] tracking-widest hover:translate-x-[3px] hover:translate-y-[3px] shadow-brutal-sm hover:shadow-none transition-all disabled:opacity-40",style:{color:"var(--on-neon-purple)"},children:[i?h.jsx(ac,{className:"w-3.5 h-3.5 animate-spin"}):h.jsx(nl,{className:"w-3.5 h-3.5"}),i?"Updating...":`Install v${t.latestVersion}`]}),h.jsxs("button",{onClick:b,disabled:a,className:"flex items-center gap-2 px-4 py-2.5 border-2 border-neon-cyan/40 text-neon-cyan font-bold uppercase text-[10px] tracking-widest hover:bg-neon-cyan transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px] disabled:opacity-40",onMouseEnter:_=>!a&&(_.currentTarget.style.color="var(--on-neon-cyan)"),onMouseLeave:_=>_.currentTarget.style.color="",children:[a?h.jsx(ac,{className:"w-3.5 h-3.5 animate-spin"}):h.jsx(W0,{className:"w-3.5 h-3.5"}),a?"Sending...":"Update All Nodes"]}),h.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2.5 border-2 border-tx/10 text-tx/40 font-bold uppercase text-[10px] tracking-widest hover:border-neon-purple/30 hover:text-neon-purple transition-all",children:[h.jsx(T$,{className:"w-3.5 h-3.5"})," Changelog"]})]}),h.jsx(Xt,{children:i&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:h.jsx("div",{className:"border-[3px] border-neon-yellow/60 bg-neon-yellow/5 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(ac,{className:"w-5 h-5 text-neon-yellow shrink-0 mt-0.5 animate-spin"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-xs uppercase tracking-wider text-neon-yellow mb-1",children:"Update in progress"}),h.jsx("div",{className:"font-mono text-[10px] text-tx/40",children:"Downloading, installing dependencies, rebuilding. This may take a few minutes."})]})]})})})}),h.jsx(Xt,{children:d&&c.length>0&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:h.jsxs("div",{className:"border-[3px] border-neon-purple/20 bg-brutal-card p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-neon-purple",children:"Recent Releases"}),h.jsx("button",{onClick:()=>f(!1),className:"text-tx/20 hover:text-tx",children:h.jsx(Tl,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:c.map((_,w)=>h.jsxs("div",{className:"border-l-2 border-neon-purple/20 pl-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"font-bold text-sm text-tx",children:["v",_.version]}),_.version===(t==null?void 0:t.currentVersion)&&h.jsx("span",{className:"px-1.5 py-0.5 text-[8px] font-bold uppercase tracking-wider bg-neon-cyan/10 text-neon-cyan border border-neon-cyan/30",children:"current"})]}),_.name&&_.name!==`v${_.version}`&&h.jsx("div",{className:"font-mono text-xs text-tx/50 mt-0.5",children:_.name}),h.jsx("div",{className:"font-mono text-[10px] text-tx/20 mt-0.5",children:new Date(_.publishedAt).toLocaleDateString()}),_.notes&&h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mt-1 whitespace-pre-wrap leading-relaxed",children:[_.notes.slice(0,200),_.notes.length>200&&"..."]})]},w))})]})})})]})}function XU({showFeedback:e}){const[t,s]=g.useState([]),[r,n]=g.useState(!0),[i,o]=g.useState(""),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(!1),m=localStorage.getItem("token"),p=U.create({baseURL:window.location.origin,headers:{Authorization:`Bearer ${m}`}}),v=async()=>{try{const _=await p.get("/api/auth/api-keys");s(_.data.keys||[])}catch{}finally{n(!1)}};g.useEffect(()=>{v()},[]);const y=async()=>{var _,w;if(i.trim())try{const S=await p.post("/api/auth/api-keys",{name:i.trim()});u(S.data.key),o(""),l(!1),f(!0),v(),e("API key created!")}catch(S){e(((w=(_=S.response)==null?void 0:_.data)==null?void 0:w.message)||"Failed to create key")}},x=async _=>{try{await p.delete(`/api/auth/api-keys/${_}`),s(t.filter(w=>w.id!==_)),(c==null?void 0:c.id)===_&&u(null),e("API key revoked")}catch{e("Failed to delete key")}},b=_=>{navigator.clipboard.writeText(_),e("Copied to clipboard!")};return h.jsxs("div",{className:"max-w-3xl",children:[h.jsx(Xt,{children:c&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:h.jsx("div",{className:"border-[3px] border-neon-yellow/60 bg-neon-yellow/5 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(gt,{className:"w-5 h-5 text-neon-yellow shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-bold text-xs uppercase tracking-wider text-neon-yellow mb-2",children:"Save this key  it won't be shown again!"}),h.jsxs("div",{className:"flex items-center gap-2 bg-brutal-bg border-2 border-tx/10 p-3",children:[h.jsx("code",{className:"flex-1 font-mono text-sm text-tx break-all",children:d?c.rawKey:"".repeat(40)}),h.jsx("button",{onClick:()=>f(!d),className:"text-tx/30 hover:text-neon-cyan p-1 transition-colors",children:d?h.jsx(F8,{className:"w-4 h-4"}):h.jsx(K8,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>b(c.rawKey),className:"text-tx/30 hover:text-neon-pink p-1 transition-colors",children:h.jsx(ei,{className:"w-4 h-4"})})]})]})]})})})}),h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"font-mono text-[10px] text-tx/30 tracking-wider uppercase",children:r?"Loading...":`${t.length} key${t.length!==1?"s":""}`}),h.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-cyan/40 text-neon-cyan font-bold uppercase text-[10px] tracking-widest hover:bg-neon-cyan transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onMouseEnter:_=>_.currentTarget.style.color="var(--on-neon-cyan)",onMouseLeave:_=>_.currentTarget.style.color="",children:[h.jsx(qN,{className:"w-3.5 h-3.5"})," New Key"]})]}),h.jsx(Xt,{children:a&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:h.jsxs("div",{className:"border-[3px] border-neon-cyan/20 bg-brutal-card p-4 flex gap-3 items-end",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Key Name"}),h.jsx("input",{type:"text",value:i,onChange:_=>o(_.target.value),onKeyDown:_=>_.key==="Enter"&&y(),placeholder:"e.g. My Phone, Tablet...",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-cyan/40 focus:outline-none transition-colors",maxLength:64,autoFocus:!0})]}),h.jsx("button",{onClick:y,disabled:!i.trim(),className:"px-6 py-2 bg-neon-cyan font-bold uppercase text-xs tracking-wider border-2 border-neon-cyan hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none transition-all disabled:opacity-30",style:{color:"var(--on-neon-cyan)"},children:"Create"})]})})}),t.length===0&&!r?h.jsxs("div",{className:"border-[3px] border-tx/5 bg-brutal-card p-8 text-center",children:[h.jsx(Ss,{className:"w-8 h-8 text-tx/10 mx-auto mb-3"}),h.jsx("div",{className:"font-mono text-tx/20 text-sm",children:"No API keys yet"})]}):h.jsx("div",{className:"space-y-2",children:t.map(_=>h.jsxs(re.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"border-[3px] border-tx/10 bg-brutal-card p-4 flex items-center gap-4 hover:border-neon-cyan/20 transition-colors",children:[h.jsx(Ss,{className:"w-4 h-4 text-neon-cyan shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-bold text-sm text-tx uppercase tracking-wider truncate",children:_.name}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mt-0.5",children:[_.key_preview,"  Created ",new Date(_.created_at*1e3).toLocaleDateString(),_.last_used?`  Last used ${new Date(_.last_used).toLocaleDateString()}`:"  Never used"]})]}),h.jsx("span",{className:"px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider border border-neon-cyan/30 text-neon-cyan/60",children:_.permissions}),h.jsx("button",{onClick:()=>x(_.id),className:"text-tx/20 hover:text-red-500 transition-colors p-1",children:h.jsx(Nr,{className:"w-4 h-4"})})]},_.id))})]})}function GU({showFeedback:e}){const[t,s]=g.useState("2fa"),r=[{id:"2fa",label:"Two-Factor Auth",icon:gt,color:"neon-cyan"},{id:"api-keys",label:"API Keys",icon:Ss,color:"neon-yellow"},{id:"users",label:"Users",icon:V0,color:"neon-purple"},{id:"uninstall",label:"Uninstall",icon:Nr,color:"red-400"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex flex-wrap gap-2 border-b-2 border-tx/10 pb-4",children:r.map(n=>h.jsxs("button",{onClick:()=>s(n.id),className:`flex items-center gap-2 px-4 py-2 border-2 font-bold uppercase text-xs tracking-wider transition-all ${t===n.id?`border-${n.color}/40 bg-${n.color}/10 text-${n.color}`:"border-tx/10 bg-brutal-card text-tx/50 hover:text-tx hover:border-tx/20"}`,style:t===n.id?{borderColor:n.id==="uninstall"?"#f87171":`var(--${n.color})`,backgroundColor:n.id==="uninstall"?"#f8717110":`var(--${n.color})10`,color:n.id==="uninstall"?"#f87171":`var(--${n.color})`}:void 0,children:[h.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))}),h.jsx(Xt,{mode:"wait",children:h.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},children:[t==="2fa"&&h.jsx(VU,{}),t==="api-keys"&&h.jsx(XU,{showFeedback:e}),t==="users"&&h.jsx(QU,{showFeedback:e}),t==="uninstall"&&h.jsx(WU,{})]},t)})]})}function QU({showFeedback:e}){const[t,s]=g.useState([]),[r,n]=g.useState(!0),[i,o]=g.useState(!1),[a,l]=g.useState({username:"",password:"",role:"viewer"}),[c,u]=g.useState(null),[d,f]=g.useState(""),m=g.useCallback(async()=>{try{const b=await U.get("/api/auth/users");s(b.data.users||[])}catch(b){console.error("Failed to fetch users:",b)}finally{n(!1)}},[]);g.useEffect(()=>{m()},[m]);const p=async()=>{var b,_;if(!(!a.username.trim()||!a.password.trim()))try{await U.post("/api/auth/users",a),e(`User '${a.username}' created!`),l({username:"",password:"",role:"viewer"}),o(!1),m()}catch(w){e(((_=(b=w.response)==null?void 0:b.data)==null?void 0:_.message)||"Failed to create user")}},v=async(b,_)=>{var w,S;if(confirm(`Delete user '${_}'? This cannot be undone.`))try{await U.delete(`/api/auth/users/${b}`),e(`User '${_}' deleted`),m()}catch(E){e(((S=(w=E.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to delete user")}},y=async()=>{var b,_;if(!(!c||d.length<8))try{await U.put(`/api/auth/users/${c.id}/reset-password`,{newPassword:d}),e(`Password reset for '${c.username}'`),u(null),f("")}catch(w){e(((_=(b=w.response)==null?void 0:b.data)==null?void 0:_.message)||"Failed to reset password")}},x=b=>{const _=b==="admin";return h.jsx("span",{className:`px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider border ${_?"border-neon-pink/40 text-neon-pink/80 bg-neon-pink/5":"border-neon-cyan/30 text-neon-cyan/60"}`,children:b})};return h.jsxs("div",{className:"max-w-3xl",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"font-mono text-[10px] text-tx/30 tracking-wider uppercase",children:r?"Loading...":`${t.length} user${t.length!==1?"s":""}`}),h.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 px-4 py-2 border-2 border-neon-purple/40 text-neon-purple font-bold uppercase text-[10px] tracking-widest hover:bg-neon-purple transition-all shadow-brutal-sm hover:shadow-none hover:translate-x-[3px] hover:translate-y-[3px]",onMouseEnter:b=>b.currentTarget.style.color="#fff",onMouseLeave:b=>b.currentTarget.style.color="",children:[h.jsx(g9,{className:"w-3.5 h-3.5"})," New User"]})]}),h.jsx(Xt,{children:i&&h.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 overflow-hidden",children:h.jsxs("div",{className:"border-[3px] border-neon-purple/20 bg-brutal-card p-4 space-y-3",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Username"}),h.jsx("input",{type:"text",value:a.username,onChange:b=>l(_=>({..._,username:b.target.value})),placeholder:"min 3 chars",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-purple/40 focus:outline-none transition-colors",maxLength:32,autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:a.password,onChange:b=>l(_=>({..._,password:b.target.value})),placeholder:"min 8 chars",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-purple/40 focus:outline-none transition-colors"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"Role"}),h.jsxs("select",{value:a.role,onChange:b=>l(_=>({..._,role:b.target.value})),className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-purple/40 focus:outline-none transition-colors",children:[h.jsx("option",{value:"viewer",children:"Viewer"}),h.jsx("option",{value:"admin",children:"Admin"})]})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:p,disabled:!a.username.trim()||a.password.length<8,className:"px-6 py-2 bg-neon-purple font-bold uppercase text-xs tracking-wider border-2 border-neon-purple hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none transition-all disabled:opacity-30 text-white",children:"Create User"})}),h.jsx("div",{className:"font-mono text-[10px] text-tx/20",children:"New users must change their password on first login."})]})})}),t.length===0&&!r?h.jsxs("div",{className:"border-[3px] border-tx/5 bg-brutal-card p-8 text-center",children:[h.jsx(V0,{className:"w-8 h-8 text-tx/10 mx-auto mb-3"}),h.jsx("div",{className:"font-mono text-tx/20 text-sm",children:"No users found"})]}):h.jsx("div",{className:"space-y-2",children:t.map(b=>h.jsxs(re.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"border-[3px] border-tx/10 bg-brutal-card p-4 flex items-center gap-4 hover:border-neon-purple/20 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 border-2 border-neon-purple/30 bg-neon-purple/10 flex items-center justify-center text-neon-purple font-bold text-sm uppercase",children:b.username.charAt(0)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-bold text-sm text-tx uppercase tracking-wider truncate",children:b.username}),h.jsx("div",{className:"font-mono text-[10px] text-tx/30 mt-0.5",children:b.source==="file"?"Primary Admin":`Created ${b.createdAt?new Date(b.createdAt).toLocaleDateString():""}`})]}),x(b.role),b.source!=="file"&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>{u({id:b.id,username:b.username}),f("")},className:"text-tx/20 hover:text-neon-cyan transition-colors p-1",title:"Reset password",children:h.jsx(Ss,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>v(b.id,b.username),className:"text-tx/20 hover:text-red-500 transition-colors p-1",title:"Delete user",children:h.jsx(Nr,{className:"w-4 h-4"})})]})]},b.id))}),h.jsx(Xt,{children:c&&h.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>u(null),children:h.jsxs(re.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"border-[3px] border-neon-cyan/30 bg-brutal-card p-6 w-full max-w-md shadow-brutal mx-4",onClick:b=>b.stopPropagation(),children:[h.jsx("h3",{className:"font-black uppercase tracking-wider text-sm text-tx mb-1",children:"Reset Password"}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mb-4",children:["Set a new password for ",h.jsx("span",{className:"text-neon-cyan",children:c.username})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30 mb-1",children:"New Password"}),h.jsx("input",{type:"password",value:d,onChange:b=>f(b.target.value),placeholder:"min 8 characters",className:"w-full bg-brutal-bg border-2 border-tx/10 px-3 py-2 font-mono text-sm text-tx focus:border-neon-cyan/40 focus:outline-none transition-colors",autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border-2 border-tx/10 text-tx/50 font-bold uppercase text-[10px] tracking-widest hover:border-tx/30 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:y,disabled:d.length<8,className:"px-4 py-2 bg-neon-cyan font-bold uppercase text-xs tracking-wider border-2 border-neon-cyan hover:translate-x-[2px] hover:translate-y-[2px] shadow-brutal-sm hover:shadow-none transition-all disabled:opacity-30 text-white",children:"Reset"})]})]})})})]})}function ZU(){const{tab:e}=Zv(),t=yo(),[s,r]=g.useState(null),n=a=>{r(a),setTimeout(()=>r(null),2500)},i=[{id:"themes",label:"Themes",icon:Iu,color:"neon-pink"},{id:"alerts",label:"Alerts",icon:W0,color:"neon-purple"},{id:"security",label:"Security",icon:gt,color:"neon-cyan"},{id:"updates",label:"Updates",icon:zN,color:"neon-purple"}],o=e||"themes";return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("header",{className:"mb-6 md:mb-8 border-b-[3px] border-neon-pink/20 pb-4 md:pb-6",children:[h.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black uppercase tracking-tighter leading-[0.9]",children:[h.jsx("span",{className:"text-tx",children:"System"})," ",h.jsx("span",{className:"text-neon-pink",style:{textShadow:"0 0 25px var(--neon-pink)"},children:"Settings"})]}),h.jsx("div",{className:"font-mono text-[10px] text-tx/30 mt-2 tracking-wider uppercase",children:"Configuration  Themes  Security  Updates"})]}),h.jsx(Xt,{children:s&&h.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-6 right-6 z-50 bg-neon-pink px-5 py-3 font-bold uppercase text-sm tracking-wider shadow-brutal border-[3px] border-neon-pink",style:{color:"var(--on-neon-pink)"},children:[h.jsx(ye,{className:"w-4 h-4 inline mr-2"}),s]})}),h.jsx("div",{className:"flex gap-1 mb-8 overflow-x-auto",children:i.map(a=>h.jsxs("button",{onClick:()=>t(`/settings/${a.id}`),className:`flex items-center gap-2 px-5 py-3 border-[3px] font-bold uppercase text-xs tracking-widest transition-all whitespace-nowrap ${o===a.id?`border-${a.color} bg-${a.color}/10 text-${a.color} shadow-brutal translate-x-[-2px] translate-y-[-2px]`:"border-tx/[0.06] bg-brutal-card text-tx/40 hover:text-tx hover:border-tx/20"}`,style:o===a.id?{borderColor:`var(--${a.color})`,backgroundColor:`var(--${a.color})10`,color:`var(--${a.color})`,boxShadow:`4px 4px 0 var(--${a.color})30`,transform:"translate(-2px, -2px)"}:void 0,children:[h.jsx(a.icon,{className:"w-4 h-4",strokeWidth:2.5}),a.label]},a.id))}),h.jsx(Xt,{mode:"wait",children:h.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[o==="themes"&&h.jsx(qU,{showFeedback:n}),o==="alerts"&&h.jsx(UU,{showFeedback:n}),o==="security"&&h.jsx(GU,{showFeedback:n}),o==="updates"&&h.jsx(YU,{showFeedback:n})]},o)}),h.jsx("div",{className:"text-center py-8 font-mono text-[9px] text-tx/15 uppercase tracking-widest",children:"Nexus Settings Engine /// Dronzer Studios"})]})}/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var X3=Object.defineProperty,JU=Object.getOwnPropertyDescriptor,eK=(e,t)=>{for(var s in t)X3(e,s,{get:t[s],enumerable:!0})},$e=(e,t,s,r)=>{for(var n=r>1?void 0:r?JU(t,s):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(n=(r?o(t,s,n):o(n))||n);return r&&n&&X3(t,s,n),n},q=(e,t)=>(s,r)=>t(s,r,e),ZS="Terminal input",vg={get:()=>ZS,set:e=>ZS=e},JS="Too much output to announce, navigate to rows manually to read",xg={get:()=>JS,set:e=>JS=e};function tK(e){return e.replace(/\r?\n/g,"\r")}function sK(e,t){return t?"\x1B[200~"+e+"\x1B[201~":e}function rK(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()}function nK(e,t,s,r){if(e.stopPropagation(),e.clipboardData){let n=e.clipboardData.getData("text/plain");G3(n,t,s,r)}}function G3(e,t,s,r){e=tK(e),e=sK(e,s.decPrivateModes.bracketedPasteMode&&r.rawOptions.ignoreBracketedPasteMode!==!0),s.triggerDataEvent(e,!0),t.value=""}function Q3(e,t,s){let r=s.getBoundingClientRect(),n=e.clientX-r.left-10,i=e.clientY-r.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${n}px`,t.style.top=`${i}px`,t.style.zIndex="1000",t.focus()}function e2(e,t,s,r,n){Q3(e,t,s),n&&r.rightClickSelect(e),t.value=r.selectionText,t.select()}function Vr(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}function Xu(e,t=0,s=e.length){let r="";for(let n=t;n<s;++n){let i=e[n];i>65535?(i-=65536,r+=String.fromCharCode((i>>10)+55296)+String.fromCharCode(i%1024+56320)):r+=String.fromCharCode(i)}return r}var iK=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let s=e.length;if(!s)return 0;let r=0,n=0;if(this._interim){let i=e.charCodeAt(n++);56320<=i&&i<=57343?t[r++]=(this._interim-55296)*1024+i-56320+65536:(t[r++]=this._interim,t[r++]=i),this._interim=0}for(let i=n;i<s;++i){let o=e.charCodeAt(i);if(55296<=o&&o<=56319){if(++i>=s)return this._interim=o,r;let a=e.charCodeAt(i);56320<=a&&a<=57343?t[r++]=(o-55296)*1024+a-56320+65536:(t[r++]=o,t[r++]=a);continue}o!==65279&&(t[r++]=o)}return r}},oK=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){let s=e.length;if(!s)return 0;let r=0,n,i,o,a,l=0,c=0;if(this.interim[0]){let f=!1,m=this.interim[0];m&=(m&224)===192?31:(m&240)===224?15:7;let p=0,v;for(;(v=this.interim[++p]&63)&&p<4;)m<<=6,m|=v;let y=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,x=y-p;for(;c<x;){if(c>=s)return 0;if(v=e[c++],(v&192)!==128){c--,f=!0;break}else this.interim[p++]=v,m<<=6,m|=v&63}f||(y===2?m<128?c--:t[r++]=m:y===3?m<2048||m>=55296&&m<=57343||m===65279||(t[r++]=m):m<65536||m>1114111||(t[r++]=m)),this.interim.fill(0)}let u=s-4,d=c;for(;d<s;){for(;d<u&&!((n=e[d])&128)&&!((i=e[d+1])&128)&&!((o=e[d+2])&128)&&!((a=e[d+3])&128);)t[r++]=n,t[r++]=i,t[r++]=o,t[r++]=a,d+=4;if(n=e[d++],n<128)t[r++]=n;else if((n&224)===192){if(d>=s)return this.interim[0]=n,r;if(i=e[d++],(i&192)!==128){d--;continue}if(l=(n&31)<<6|i&63,l<128){d--;continue}t[r++]=l}else if((n&240)===224){if(d>=s)return this.interim[0]=n,r;if(i=e[d++],(i&192)!==128){d--;continue}if(d>=s)return this.interim[0]=n,this.interim[1]=i,r;if(o=e[d++],(o&192)!==128){d--;continue}if(l=(n&15)<<12|(i&63)<<6|o&63,l<2048||l>=55296&&l<=57343||l===65279)continue;t[r++]=l}else if((n&248)===240){if(d>=s)return this.interim[0]=n,r;if(i=e[d++],(i&192)!==128){d--;continue}if(d>=s)return this.interim[0]=n,this.interim[1]=i,r;if(o=e[d++],(o&192)!==128){d--;continue}if(d>=s)return this.interim[0]=n,this.interim[1]=i,this.interim[2]=o,r;if(a=e[d++],(a&192)!==128){d--;continue}if(l=(n&7)<<18|(i&63)<<12|(o&63)<<6|a&63,l<65536||l>1114111)continue;t[r++]=l}}return r}},Z3="",Jr=" ",Ml=class J3{constructor(){this.fg=0,this.bg=0,this.extended=new nu}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new J3;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},nu=class ej{constructor(t=0,s=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=s}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new ej(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},_s=class tj extends Ml{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new nu,this.combinedData=""}static fromCharData(t){let s=new tj;return s.setFromCharData(t),s}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Vr(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let s=!1;if(t[1].length>2)s=!0;else if(t[1].length===2){let r=t[1].charCodeAt(0);if(55296<=r&&r<=56319){let n=t[1].charCodeAt(1);56320<=n&&n<=57343?this.content=(r-55296)*1024+n-56320+65536|t[2]<<22:s=!0}else s=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;s&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},t2="di$target",yg="di$dependencies",pp=new Map;function aK(e){return e[yg]||[]}function dt(e){if(pp.has(e))return pp.get(e);let t=function(s,r,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");lK(t,s,n)};return t._id=e,pp.set(e,t),t}function lK(e,t,s){t[t2]===t?t[yg].push({id:e,index:s}):(t[yg]=[{id:e,index:s}],t[t2]=t)}var Bt=dt("BufferService"),sj=dt("CoreMouseService"),xi=dt("CoreService"),cK=dt("CharsetService"),ix=dt("InstantiationService"),rj=dt("LogService"),It=dt("OptionsService"),nj=dt("OscLinkService"),hK=dt("UnicodeService"),Ol=dt("DecorationService"),_g=class{constructor(e,t,s){this._bufferService=e,this._optionsService=t,this._oscLinkService=s}provideLinks(e,t){var u;let s=this._bufferService.buffer.lines.get(e-1);if(!s){t(void 0);return}let r=[],n=this._optionsService.rawOptions.linkHandler,i=new _s,o=s.getTrimmedLength(),a=-1,l=-1,c=!1;for(let d=0;d<o;d++)if(!(l===-1&&!s.hasContent(d))){if(s.loadCell(d,i),i.hasExtendedAttrs()&&i.extended.urlId)if(l===-1){l=d,a=i.extended.urlId;continue}else c=i.extended.urlId!==a;else l!==-1&&(c=!0);if(c||l!==-1&&d===o-1){let f=(u=this._oscLinkService.getLinkData(a))==null?void 0:u.uri;if(f){let m={start:{x:l+1,y:e},end:{x:d+(!c&&d===o-1?1:0),y:e}},p=!1;if(!(n!=null&&n.allowNonHttpProtocols))try{let v=new URL(f);["http:","https:"].includes(v.protocol)||(p=!0)}catch{p=!0}p||r.push({text:f,range:m,activate:(v,y)=>n?n.activate(v,y,m):uK(v,y),hover:(v,y)=>{var x;return(x=n==null?void 0:n.hover)==null?void 0:x.call(n,v,y,m)},leave:(v,y)=>{var x;return(x=n==null?void 0:n.leave)==null?void 0:x.call(n,v,y,m)}})}c=!1,i.hasExtendedAttrs()&&i.extended.urlId?(l=d,a=i.extended.urlId):(l=-1,a=-1)}}t(r)}};_g=$e([q(0,Bt),q(1,It),q(2,nj)],_g);function uK(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let s=window.open();if(s){try{s.opener=null}catch{}s.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}var Gu=dt("CharSizeService"),Lr=dt("CoreBrowserService"),ox=dt("MouseService"),Mr=dt("RenderService"),dK=dt("SelectionService"),ij=dt("CharacterJoinerService"),No=dt("ThemeService"),oj=dt("LinkProviderService"),fK=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?s2.isErrorNoTelemetry(e)?new s2(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},pK=new fK;function ah(e){mK(e)||pK.onUnexpectedError(e)}var bg="Canceled";function mK(e){return e instanceof gK?!0:e instanceof Error&&e.name===bg&&e.message===bg}var gK=class extends Error{constructor(){super(bg),this.name=this.message}};function vK(e){return new Error(`Illegal argument: ${e}`)}var s2=class wg extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof wg)return t;let s=new wg;return s.message=t.message,s.stack=t.stack,s}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Sg=class aj extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,aj.prototype)}};function Gt(e,t=0){return e[e.length-(1+t)]}var xK;(e=>{function t(i){return i<0}e.isLessThan=t;function s(i){return i<=0}e.isLessThanOrEqual=s;function r(i){return i>0}e.isGreaterThan=r;function n(i){return i===0}e.isNeitherLessOrGreaterThan=n,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(xK||(xK={}));function yK(e,t){let s=this,r=!1,n;return function(){return r||(r=!0,t||(n=e.apply(s,arguments))),n}}var lj;(e=>{function t(w){return w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}e.is=t;let s=Object.freeze([]);function r(){return s}e.empty=r;function*n(w){yield w}e.single=n;function i(w){return t(w)?w:n(w)}e.wrap=i;function o(w){return w||s}e.from=o;function*a(w){for(let S=w.length-1;S>=0;S--)yield w[S]}e.reverse=a;function l(w){return!w||w[Symbol.iterator]().next().done===!0}e.isEmpty=l;function c(w){return w[Symbol.iterator]().next().value}e.first=c;function u(w,S){let E=0;for(let k of w)if(S(k,E++))return!0;return!1}e.some=u;function d(w,S){for(let E of w)if(S(E))return E}e.find=d;function*f(w,S){for(let E of w)S(E)&&(yield E)}e.filter=f;function*m(w,S){let E=0;for(let k of w)yield S(k,E++)}e.map=m;function*p(w,S){let E=0;for(let k of w)yield*S(k,E++)}e.flatMap=p;function*v(...w){for(let S of w)yield*S}e.concat=v;function y(w,S,E){let k=E;for(let C of w)k=S(k,C);return k}e.reduce=y;function*x(w,S,E=w.length){for(S<0&&(S+=w.length),E<0?E+=w.length:E>w.length&&(E=w.length);S<E;S++)yield w[S]}e.slice=x;function b(w,S=Number.POSITIVE_INFINITY){let E=[];if(S===0)return[E,w];let k=w[Symbol.iterator]();for(let C=0;C<S;C++){let N=k.next();if(N.done)return[E,e.empty()];E.push(N.value)}return[E,{[Symbol.iterator](){return k}}]}e.consume=b;async function _(w){let S=[];for await(let E of w)S.push(E);return Promise.resolve(S)}e.asyncToArray=_})(lj||(lj={}));function di(e){if(lj.is(e)){let t=[];for(let s of e)if(s)try{s.dispose()}catch(r){t.push(r)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function _K(...e){return je(()=>di(e))}function je(e){return{dispose:yK(()=>{e()})}}var cj=class hj{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{di(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?hj.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};cj.DISABLE_DISPOSED_WARNING=!1;var fn=cj,oe=class{constructor(){this._store=new fn,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};oe.None=Object.freeze({dispose(){}});var uo=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e}},_r=typeof window=="object"?window:globalThis,Cg=class kg{constructor(t){this.element=t,this.next=kg.Undefined,this.prev=kg.Undefined}};Cg.Undefined=new Cg(void 0);var Pe=Cg,r2=class{constructor(){this._first=Pe.Undefined,this._last=Pe.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Pe.Undefined}clear(){let e=this._first;for(;e!==Pe.Undefined;){let t=e.next;e.prev=Pe.Undefined,e.next=Pe.Undefined,e=t}this._first=Pe.Undefined,this._last=Pe.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let s=new Pe(e);if(this._first===Pe.Undefined)this._first=s,this._last=s;else if(t){let n=this._last;this._last=s,s.prev=n,n.next=s}else{let n=this._first;this._first=s,s.next=n,n.prev=s}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(s))}}shift(){if(this._first!==Pe.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Pe.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Pe.Undefined&&e.next!==Pe.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Pe.Undefined&&e.next===Pe.Undefined?(this._first=Pe.Undefined,this._last=Pe.Undefined):e.next===Pe.Undefined?(this._last=this._last.prev,this._last.next=Pe.Undefined):e.prev===Pe.Undefined&&(this._first=this._first.next,this._first.prev=Pe.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Pe.Undefined;)yield e.element,e=e.next}},bK=globalThis.performance&&typeof globalThis.performance.now=="function",wK=class uj{static create(t){return new uj(t)}constructor(t){this._now=bK&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},vt;(e=>{e.None=()=>oe.None;function t(T,L){return d(T,()=>{},0,void 0,!0,void 0,L)}e.defer=t;function s(T){return(L,$=null,O)=>{let A=!1,F;return F=T(j=>{if(!A)return F?F.dispose():A=!0,L.call($,j)},null,O),A&&F.dispose(),F}}e.once=s;function r(T,L,$){return c((O,A=null,F)=>T(j=>O.call(A,L(j)),null,F),$)}e.map=r;function n(T,L,$){return c((O,A=null,F)=>T(j=>{L(j),O.call(A,j)},null,F),$)}e.forEach=n;function i(T,L,$){return c((O,A=null,F)=>T(j=>L(j)&&O.call(A,j),null,F),$)}e.filter=i;function o(T){return T}e.signal=o;function a(...T){return(L,$=null,O)=>{let A=_K(...T.map(F=>F(j=>L.call($,j))));return u(A,O)}}e.any=a;function l(T,L,$,O){let A=$;return r(T,F=>(A=L(A,F),A),O)}e.reduce=l;function c(T,L){let $,O={onWillAddFirstListener(){$=T(A.fire,A)},onDidRemoveLastListener(){$==null||$.dispose()}},A=new W(O);return L==null||L.add(A),A.event}function u(T,L){return L instanceof Array?L.push(T):L&&L.add(T),T}function d(T,L,$=100,O=!1,A=!1,F,j){let B,V,Y,D=0,K,X={leakWarningThreshold:F,onWillAddFirstListener(){B=T(Z=>{D++,V=L(V,Z),O&&!Y&&(z.fire(V),V=void 0),K=()=>{let de=V;V=void 0,Y=void 0,(!O||D>1)&&z.fire(de),D=0},typeof $=="number"?(clearTimeout(Y),Y=setTimeout(K,$)):Y===void 0&&(Y=0,queueMicrotask(K))})},onWillRemoveListener(){A&&D>0&&(K==null||K())},onDidRemoveLastListener(){K=void 0,B.dispose()}},z=new W(X);return j==null||j.add(z),z.event}e.debounce=d;function f(T,L=0,$){return e.debounce(T,(O,A)=>O?(O.push(A),O):[A],L,void 0,!0,void 0,$)}e.accumulate=f;function m(T,L=(O,A)=>O===A,$){let O=!0,A;return i(T,F=>{let j=O||!L(F,A);return O=!1,A=F,j},$)}e.latch=m;function p(T,L,$){return[e.filter(T,L,$),e.filter(T,O=>!L(O),$)]}e.split=p;function v(T,L=!1,$=[],O){let A=$.slice(),F=T(V=>{A?A.push(V):B.fire(V)});O&&O.add(F);let j=()=>{A==null||A.forEach(V=>B.fire(V)),A=null},B=new W({onWillAddFirstListener(){F||(F=T(V=>B.fire(V)),O&&O.add(F))},onDidAddFirstListener(){A&&(L?setTimeout(j):j())},onDidRemoveLastListener(){F&&F.dispose(),F=null}});return O&&O.add(B),B.event}e.buffer=v;function y(T,L){return($,O,A)=>{let F=L(new b);return T(function(j){let B=F.evaluate(j);B!==x&&$.call(O,B)},void 0,A)}}e.chain=y;let x=Symbol("HaltChainable");class b{constructor(){this.steps=[]}map(L){return this.steps.push(L),this}forEach(L){return this.steps.push($=>(L($),$)),this}filter(L){return this.steps.push($=>L($)?$:x),this}reduce(L,$){let O=$;return this.steps.push(A=>(O=L(O,A),O)),this}latch(L=($,O)=>$===O){let $=!0,O;return this.steps.push(A=>{let F=$||!L(A,O);return $=!1,O=A,F?A:x}),this}evaluate(L){for(let $ of this.steps)if(L=$(L),L===x)break;return L}}function _(T,L,$=O=>O){let O=(...B)=>j.fire($(...B)),A=()=>T.on(L,O),F=()=>T.removeListener(L,O),j=new W({onWillAddFirstListener:A,onDidRemoveLastListener:F});return j.event}e.fromNodeEventEmitter=_;function w(T,L,$=O=>O){let O=(...B)=>j.fire($(...B)),A=()=>T.addEventListener(L,O),F=()=>T.removeEventListener(L,O),j=new W({onWillAddFirstListener:A,onDidRemoveLastListener:F});return j.event}e.fromDOMEventEmitter=w;function S(T){return new Promise(L=>s(T)(L))}e.toPromise=S;function E(T){let L=new W;return T.then($=>{L.fire($)},()=>{L.fire(void 0)}).finally(()=>{L.dispose()}),L.event}e.fromPromise=E;function k(T,L){return T($=>L.fire($))}e.forward=k;function C(T,L,$){return L($),T(O=>L(O))}e.runAndSubscribe=C;class N{constructor(L,$){this._observable=L,this._counter=0,this._hasChanged=!1;let O={onWillAddFirstListener:()=>{L.addObserver(this)},onDidRemoveLastListener:()=>{L.removeObserver(this)}};this.emitter=new W(O),$&&$.add(this.emitter)}beginUpdate(L){this._counter++}handlePossibleChange(L){}handleChange(L,$){this._hasChanged=!0}endUpdate(L){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function P(T,L){return new N(T,L).emitter.event}e.fromObservable=P;function M(T){return(L,$,O)=>{let A=0,F=!1,j={beginUpdate(){A++},endUpdate(){A--,A===0&&(T.reportChanges(),F&&(F=!1,L.call($)))},handlePossibleChange(){},handleChange(){F=!0}};T.addObserver(j),T.reportChanges();let B={dispose(){T.removeObserver(j)}};return O instanceof fn?O.add(B):Array.isArray(O)&&O.push(B),B}}e.fromObservableLight=M})(vt||(vt={}));var Eg=class Ng{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${Ng._idPool++}`,Ng.all.add(this)}start(t){this._stopWatch=new wK,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};Eg.all=new Set,Eg._idPool=0;var SK=Eg,CK=-1,dj=class fj{constructor(t,s,r=(fj._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=s,this.name=r,this._warnCountdown=0}dispose(){var t;(t=this._stacks)==null||t.clear()}check(t,s){let r=this.threshold;if(r<=0||s<r)return;this._stacks||(this._stacks=new Map);let n=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let[i,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${s} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(i);let l=new NK(a,i);this._errorHandler(l)}return()=>{let i=this._stacks.get(t.value)||0;this._stacks.set(t.value,i-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,s=0;for(let[r,n]of this._stacks)(!t||s<n)&&(t=[r,n],s=n);return t}};dj._idPool=1;var kK=dj,EK=class pj{constructor(t){this.value=t}static create(){let t=new Error;return new pj(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},NK=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},jK=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},PK=0,mp=class{constructor(e){this.value=e,this.id=PK++}},TK=2,LK,W=class{constructor(t){var s,r,n,i;this._size=0,this._options=t,this._leakageMon=(s=this._options)!=null&&s.leakWarningThreshold?new kK((t==null?void 0:t.onListenerError)??ah,((r=this._options)==null?void 0:r.leakWarningThreshold)??CK):void 0,this._perfMon=(n=this._options)!=null&&n._profName?new SK(this._options._profName):void 0,this._deliveryQueue=(i=this._options)==null?void 0:i.deliveryQueue}dispose(){var t,s,r,n;this._disposed||(this._disposed=!0,((t=this._deliveryQueue)==null?void 0:t.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(r=(s=this._options)==null?void 0:s.onDidRemoveLastListener)==null||r.call(s),(n=this._leakageMon)==null||n.dispose())}get event(){return this._event??(this._event=(t,s,r)=>{var a,l,c,u,d;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let f=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(f);let m=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],p=new jK(`${f}. HINT: Stack shows most frequent listener (${m[1]}-times)`,m[0]);return(((a=this._options)==null?void 0:a.onListenerError)||ah)(p),oe.None}if(this._disposed)return oe.None;s&&(t=t.bind(s));let n=new mp(t),i;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(n.stack=EK.create(),i=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof mp?(this._deliveryQueue??(this._deliveryQueue=new MK),this._listeners=[this._listeners,n]):this._listeners.push(n):((c=(l=this._options)==null?void 0:l.onWillAddFirstListener)==null||c.call(l,this),this._listeners=n,(d=(u=this._options)==null?void 0:u.onDidAddFirstListener)==null||d.call(u,this)),this._size++;let o=je(()=>{i==null||i(),this._removeListener(n)});return r instanceof fn?r.add(o):Array.isArray(r)&&r.push(o),o}),this._event}_removeListener(t){var i,o,a,l;if((o=(i=this._options)==null?void 0:i.onWillRemoveListener)==null||o.call(i,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(l=(a=this._options)==null?void 0:a.onDidRemoveLastListener)==null||l.call(a,this),this._size=0;return}let s=this._listeners,r=s.indexOf(t);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,s[r]=void 0;let n=this._deliveryQueue.current===this;if(this._size*TK<=s.length){let c=0;for(let u=0;u<s.length;u++)s[u]?s[c++]=s[u]:n&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);s.length=c}}_deliver(t,s){var n;if(!t)return;let r=((n=this._options)==null?void 0:n.onListenerError)||ah;if(!r){t.value(s);return}try{t.value(s)}catch(i){r(i)}}_deliverQueue(t){let s=t.current._listeners;for(;t.i<t.end;)this._deliver(s[t.i++],t.value);t.reset()}fire(t){var s,r,n,i;if((s=this._deliveryQueue)!=null&&s.current&&(this._deliverQueue(this._deliveryQueue),(r=this._perfMon)==null||r.stop()),(n=this._perfMon)==null||n.start(this._size),this._listeners)if(this._listeners instanceof mp)this._deliver(this._listeners,t);else{let o=this._deliveryQueue;o.enqueue(this,t,this._listeners.length),this._deliverQueue(o)}(i=this._perfMon)==null||i.stop()}hasListeners(){return this._size>0}},MK=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,s){this.i=0,this.end=s,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},jg=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new W,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new W,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,s){if(this.getZoomLevel(s)===t)return;let r=this.getWindowId(s);this.mapWindowIdToZoomLevel.set(r,t),this._onDidChangeZoomLevel.fire(r)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,s){this.mapWindowIdToZoomFactor.set(this.getWindowId(s),t)}setFullscreen(t,s){if(this.isFullscreen(s)===t)return;let r=this.getWindowId(s);this.mapWindowIdToFullScreen.set(r,t),this._onDidChangeFullscreen.fire(r)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};jg.INSTANCE=new jg;var ax=jg;function OK(e,t,s){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",s)}ax.INSTANCE.onDidChangeZoomLevel;function RK(e){return ax.INSTANCE.getZoomFactor(e)}ax.INSTANCE.onDidChangeFullscreen;var jo=typeof navigator=="object"?navigator.userAgent:"",Pg=jo.indexOf("Firefox")>=0,DK=jo.indexOf("AppleWebKit")>=0,lx=jo.indexOf("Chrome")>=0,AK=!lx&&jo.indexOf("Safari")>=0;jo.indexOf("Electron/")>=0;jo.indexOf("Android")>=0;var gp=!1;if(typeof _r.matchMedia=="function"){let e=_r.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=_r.matchMedia("(display-mode: fullscreen)");gp=e.matches,OK(_r,e,({matches:s})=>{gp&&t.matches||(gp=s)})}var Wi="en",Tg=!1,Lg=!1,lh=!1,mj=!1,Sc,ch=Wi,n2=Wi,BK,Ns,si=globalThis,mt,Y2;typeof si.vscode<"u"&&typeof si.vscode.process<"u"?mt=si.vscode.process:typeof process<"u"&&typeof((Y2=process==null?void 0:process.versions)==null?void 0:Y2.node)=="string"&&(mt=process);var X2,IK=typeof((X2=mt==null?void 0:mt.versions)==null?void 0:X2.electron)=="string",$K=IK&&(mt==null?void 0:mt.type)==="renderer",G2;if(typeof mt=="object"){Tg=mt.platform==="win32",Lg=mt.platform==="darwin",lh=mt.platform==="linux",lh&&mt.env.SNAP&&mt.env.SNAP_REVISION,mt.env.CI||mt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Sc=Wi,ch=Wi;let e=mt.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);Sc=t.userLocale,n2=t.osLocale,ch=t.resolvedLanguage||Wi,BK=(G2=t.languagePack)==null?void 0:G2.translationsConfigFile}catch{}mj=!0}else typeof navigator=="object"&&!$K?(Ns=navigator.userAgent,Tg=Ns.indexOf("Windows")>=0,Lg=Ns.indexOf("Macintosh")>=0,(Ns.indexOf("Macintosh")>=0||Ns.indexOf("iPad")>=0||Ns.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,lh=Ns.indexOf("Linux")>=0,(Ns==null?void 0:Ns.indexOf("Mobi"))>=0,ch=globalThis._VSCODE_NLS_LANGUAGE||Wi,Sc=navigator.language.toLowerCase(),n2=Sc):console.error("Unable to resolve platform.");var gj=Tg,or=Lg,FK=lh,i2=mj,cr=Ns,Dr=ch,zK;(e=>{function t(){return Dr}e.value=t;function s(){return Dr.length===2?Dr==="en":Dr.length>=3?Dr[0]==="e"&&Dr[1]==="n"&&Dr[2]==="-":!1}e.isDefaultVariant=s;function r(){return Dr==="en"}e.isDefault=r})(zK||(zK={}));var HK=typeof si.postMessage=="function"&&!si.importScripts;(()=>{if(HK){let e=[];si.addEventListener("message",s=>{if(s.data&&s.data.vscodeScheduleAsyncWork)for(let r=0,n=e.length;r<n;r++){let i=e[r];if(i.id===s.data.vscodeScheduleAsyncWork){e.splice(r,1),i.callback();return}}});let t=0;return s=>{let r=++t;e.push({id:r,callback:s}),si.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})();var VK=!!(cr&&cr.indexOf("Chrome")>=0);cr&&cr.indexOf("Firefox")>=0;!VK&&cr&&cr.indexOf("Safari")>=0;cr&&cr.indexOf("Edg/")>=0;cr&&cr.indexOf("Android")>=0;var Si=typeof navigator=="object"?navigator:{};i2||document.queryCommandSupported&&document.queryCommandSupported("copy")||Si&&Si.clipboard&&Si.clipboard.writeText,i2||Si&&Si.clipboard&&Si.clipboard.readText;var cx=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},vp=new cx,o2=new cx,a2=new cx,WK=new Array(230),vj;(e=>{function t(a){return vp.keyCodeToStr(a)}e.toString=t;function s(a){return vp.strToKeyCode(a)}e.fromString=s;function r(a){return o2.keyCodeToStr(a)}e.toUserSettingsUS=r;function n(a){return a2.keyCodeToStr(a)}e.toUserSettingsGeneral=n;function i(a){return o2.strToKeyCode(a)||a2.strToKeyCode(a)}e.fromUserSettings=i;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return vp.keyCodeToStr(a)}e.toElectronAccelerator=o})(vj||(vj={}));var UK=class xj{constructor(t,s,r,n,i){this.ctrlKey=t,this.shiftKey=s,this.altKey=r,this.metaKey=n,this.keyCode=i}equals(t){return t instanceof xj&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",s=this.shiftKey?"1":"0",r=this.altKey?"1":"0",n=this.metaKey?"1":"0";return`K${t}${s}${r}${n}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new KK([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},KK=class{constructor(e){if(e.length===0)throw vK("chords");this.chords=e}getHashCode(){let e="";for(let t=0,s=this.chords.length;t<s;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function qK(e){if(e.charCode){let s=String.fromCharCode(e.charCode).toUpperCase();return vj.fromString(s)}let t=e.keyCode;if(t===3)return 7;if(Pg)switch(t){case 59:return 85;case 60:if(FK)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(or)return 57;break}else if(DK&&(or&&t===93||!or&&t===92))return 57;return WK[t]||0}var YK=or?256:2048,XK=512,GK=1024,QK=or?2048:256,l2=class{constructor(e){var s;this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(s=t.getModifierState)==null?void 0:s.call(t,"AltGraph"),this.keyCode=qK(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=YK),this.altKey&&(t|=XK),this.shiftKey&&(t|=GK),this.metaKey&&(t|=QK),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new UK(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}},c2=new WeakMap;function ZK(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,s=e.parent.location;if(t.origin!=="null"&&s.origin!=="null"&&t.origin!==s.origin)return null}catch{return null}return e.parent}var JK=class{static getSameOriginWindowChain(e){let t=c2.get(e);if(!t){t=[],c2.set(e,t);let s=e,r;do r=ZK(s),r?t.push({window:new WeakRef(s),iframeElement:s.frameElement||null}):t.push({window:new WeakRef(s),iframeElement:null}),s=r;while(s)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let s=0,r=0,n=this.getSameOriginWindowChain(e);for(let i of n){let o=i.window.deref();if(s+=(o==null?void 0:o.scrollY)??0,r+=(o==null?void 0:o.scrollX)??0,o===t||!i.iframeElement)break;let a=i.iframeElement.getBoundingClientRect();s+=a.top,r+=a.left}return{top:s,left:r}}},Cc=class{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let s=JK.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=s.left,this.posy-=s.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},h2=class{constructor(e,t=0,s=0){var n;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=s,this.deltaX=t;let r=!1;if(lx){let i=navigator.userAgent.match(/Chrome\/(\d+)/);r=(i?parseInt(i[1]):123)<=122}if(e){let i=e,o=e,a=((n=e.view)==null?void 0:n.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")r?this.deltaY=i.wheelDeltaY/(120*a):this.deltaY=i.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Pg&&!or?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof i.wheelDeltaX<"u")AK&&gj?this.deltaX=-(i.wheelDeltaX/120):r?this.deltaX=i.wheelDeltaX/(120*a):this.deltaX=i.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?Pg&&!or?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(r?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}},yj=Object.freeze(function(e,t){let s=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(s)}}}),eq;(e=>{function t(s){return s===e.None||s===e.Cancelled||s instanceof tq?!0:!s||typeof s!="object"?!1:typeof s.isCancellationRequested=="boolean"&&typeof s.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vt.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:yj})})(eq||(eq={}));var tq=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?yj:(this._emitter||(this._emitter=new W),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},hx=class{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new Sg("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new Sg("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},sq=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,s=globalThis){if(this.isDisposed)throw new Sg("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let r=s.setInterval(()=>{e()},t);this.disposable=je(()=>{s.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},rq;(e=>{async function t(r){let n,i=await Promise.all(r.map(o=>o.then(a=>a,a=>{n||(n=a)})));if(typeof n<"u")throw n;return i}e.settled=t;function s(r){return new Promise(async(n,i)=>{try{await r(n,i)}catch(o){i(o)}})}e.withAsyncBody=s})(rq||(rq={}));var u2=class ls{static fromArray(t){return new ls(s=>{s.emitMany(t)})}static fromPromise(t){return new ls(async s=>{s.emitMany(await t)})}static fromPromises(t){return new ls(async s=>{await Promise.all(t.map(async r=>s.emitOne(await r)))})}static merge(t){return new ls(async s=>{await Promise.all(t.map(async r=>{for await(let n of r)s.emitOne(n)}))})}constructor(t,s){this._state=0,this._results=[],this._error=null,this._onReturn=s,this._onStateChanged=new W,queueMicrotask(async()=>{let r={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{await Promise.resolve(t(r)),this.resolve()}catch(n){this.reject(n)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await vt.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var s;return(s=this._onReturn)==null||s.call(this),{done:!0,value:void 0}}}}static map(t,s){return new ls(async r=>{for await(let n of t)r.emitOne(s(n))})}map(t){return ls.map(this,t)}static filter(t,s){return new ls(async r=>{for await(let n of t)s(n)&&r.emitOne(n)})}filter(t){return ls.filter(this,t)}static coalesce(t){return ls.filter(t,s=>!!s)}coalesce(){return ls.coalesce(this)}static async toPromise(t){let s=[];for await(let r of t)s.push(r);return s}toPromise(){return ls.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};u2.EMPTY=u2.fromArray([]);var{getWindow:er,getWindowId:nq,onDidRegisterWindow:iq}=function(){let e=new Map,t={window:_r,disposables:new fn};e.set(_r.vscodeWindowId,t);let s=new W,r=new W,n=new W;function i(o,a){return(typeof o=="number"?e.get(o):void 0)??(a?t:void 0)}return{onDidRegisterWindow:s.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:r.event,registerWindow(o){if(e.has(o.vscodeWindowId))return oe.None;let a=new fn,l={window:o,disposables:a.add(new fn)};return e.set(o.vscodeWindowId,l),a.add(je(()=>{e.delete(o.vscodeWindowId),r.fire(o)})),a.add(te(o,it.BEFORE_UNLOAD,()=>{n.fire(o)})),s.fire(l),a},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return e.has(o)},getWindowById:i,getWindow(o){var c;let a=o;if((c=a==null?void 0:a.ownerDocument)!=null&&c.defaultView)return a.ownerDocument.defaultView.window;let l=o;return l!=null&&l.view?l.view.window:_r},getDocument(o){return er(o).document}}}(),oq=class{constructor(e,t,s,r){this._node=e,this._type=t,this._handler=s,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function te(e,t,s,r){return new oq(e,t,s,r)}var d2=function(e,t,s,r){return te(e,t,s,r)},ux,aq=class extends sq{constructor(e){super(),this.defaultTarget=e&&er(e)}cancelAndSet(e,t,s){return super.cancelAndSet(e,t,s??this.defaultTarget)}},f2=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){ah(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let e=new Map,t=new Map,s=new Map,r=new Map,n=i=>{s.set(i,!1);let o=e.get(i)??[];for(t.set(i,o),e.set(i,[]),r.set(i,!0);o.length>0;)o.sort(f2.sort),o.shift().execute();r.set(i,!1)};ux=(i,o,a=0)=>{let l=nq(i),c=new f2(o,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(c),s.get(l)||(s.set(l,!0),i.requestAnimationFrame(()=>n(l))),c}})();function lq(e){let t=e.getBoundingClientRect(),s=er(e);return{left:t.left+s.scrollX,top:t.top+s.scrollY,width:t.width,height:t.height}}var it={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},cq=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=Ft(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=Ft(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=Ft(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=Ft(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=Ft(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=Ft(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=Ft(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=Ft(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=Ft(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=Ft(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=Ft(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=Ft(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=Ft(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=Ft(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function Ft(e){return typeof e=="number"?`${e}px`:e}function Oa(e){return new cq(e)}var _j=class{constructor(){this._hooks=new fn,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let s=this._onStopCallback;this._onStopCallback=null,e&&s&&s(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,s,r,n){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=n;let i=e;try{e.setPointerCapture(t),this._hooks.add(je(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{i=er(e)}this._hooks.add(te(i,it.POINTER_MOVE,o=>{if(o.buttons!==s){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(te(i,it.POINTER_UP,o=>this.stopMonitoring(!0)))}};function hq(e,t,s){let r=null,n=null;if(typeof s.value=="function"?(r="value",n=s.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof s.get=="function"&&(r="get",n=s.get),!n)throw new Error("not supported");let i=`$memoize$${t}`;s[r]=function(...o){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,o)}),this[i]}}var Ys;(e=>(e.Tap="-xterm-gesturetap",e.Change="-xterm-gesturechange",e.Start="-xterm-gesturestart",e.End="-xterm-gesturesend",e.Contextmenu="-xterm-gesturecontextmenu"))(Ys||(Ys={}));var ca=class wt extends oe{constructor(){super(),this.dispatched=!1,this.targets=new r2,this.ignoreTargets=new r2,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(vt.runAndSubscribe(iq,({window:t,disposables:s})=>{s.add(te(t.document,"touchstart",r=>this.onTouchStart(r),{passive:!1})),s.add(te(t.document,"touchend",r=>this.onTouchEnd(t,r))),s.add(te(t.document,"touchmove",r=>this.onTouchMove(r),{passive:!1}))},{window:_r,disposables:this._store}))}static addTarget(t){if(!wt.isTouchDevice())return oe.None;wt.INSTANCE||(wt.INSTANCE=new wt);let s=wt.INSTANCE.targets.push(t);return je(s)}static ignoreTarget(t){if(!wt.isTouchDevice())return oe.None;wt.INSTANCE||(wt.INSTANCE=new wt);let s=wt.INSTANCE.ignoreTargets.push(t);return je(s)}static isTouchDevice(){return"ontouchstart"in _r||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let r=0,n=t.targetTouches.length;r<n;r++){let i=t.targetTouches.item(r);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:s,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[s],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let o=this.newGestureEvent(Ys.Start,i.target);o.pageX=i.pageX,o.pageY=i.pageY,this.dispatchEvent(o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t,s){let r=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,o=s.changedTouches.length;i<o;i++){let a=s.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<wt.HOLD_DELAY&&Math.abs(l.initialPageX-Gt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Gt(l.rollingPageY))<30){let u=this.newGestureEvent(Ys.Tap,l.initialTarget);u.pageX=Gt(l.rollingPageX),u.pageY=Gt(l.rollingPageY),this.dispatchEvent(u)}else if(c>=wt.HOLD_DELAY&&Math.abs(l.initialPageX-Gt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Gt(l.rollingPageY))<30){let u=this.newGestureEvent(Ys.Contextmenu,l.initialTarget);u.pageX=Gt(l.rollingPageX),u.pageY=Gt(l.rollingPageY),this.dispatchEvent(u)}else if(n===1){let u=Gt(l.rollingPageX),d=Gt(l.rollingPageY),f=Gt(l.rollingTimestamps)-l.rollingTimestamps[0],m=u-l.rollingPageX[0],p=d-l.rollingPageY[0],v=[...this.targets].filter(y=>l.initialTarget instanceof Node&&y.contains(l.initialTarget));this.inertia(t,v,r,Math.abs(m)/f,m>0?1:-1,u,Math.abs(p)/f,p>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(Ys.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,s){let r=document.createEvent("CustomEvent");return r.initEvent(t,!1,!0),r.initialTarget=s,r.tapCount=0,r}dispatchEvent(t){if(t.type===Ys.Tap){let s=new Date().getTime(),r=0;s-this._lastSetTapCountTime>wt.CLEAR_TAP_COUNT_TIME?r=1:r=2,this._lastSetTapCountTime=s,t.tapCount=r}else(t.type===Ys.Change||t.type===Ys.Contextmenu)&&(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(let r of this.ignoreTargets)if(r.contains(t.initialTarget))return;let s=[];for(let r of this.targets)if(r.contains(t.initialTarget)){let n=0,i=t.initialTarget;for(;i&&i!==r;)n++,i=i.parentElement;s.push([n,r])}s.sort((r,n)=>r[0]-n[0]);for(let[r,n]of s)n.dispatchEvent(t),this.dispatched=!0}}inertia(t,s,r,n,i,o,a,l,c){this.handle=ux(t,()=>{let u=Date.now(),d=u-r,f=0,m=0,p=!0;n+=wt.SCROLL_FRICTION*d,a+=wt.SCROLL_FRICTION*d,n>0&&(p=!1,f=i*n*d),a>0&&(p=!1,m=l*a*d);let v=this.newGestureEvent(Ys.Change);v.translationX=f,v.translationY=m,s.forEach(y=>y.dispatchEvent(v)),p||this.inertia(t,s,u,n,i,o+f,a,l,c+m)})}onTouchMove(t){let s=Date.now();for(let r=0,n=t.changedTouches.length;r<n;r++){let i=t.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}let o=this.activeTouches[i.identifier],a=this.newGestureEvent(Ys.Change,o.initialTarget);a.translationX=i.pageX-Gt(o.rollingPageX),a.translationY=i.pageY-Gt(o.rollingPageY),a.pageX=i.pageX,a.pageY=i.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(i.pageX),o.rollingPageY.push(i.pageY),o.rollingTimestamps.push(s)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}};ca.SCROLL_FRICTION=-.005,ca.HOLD_DELAY=700,ca.CLEAR_TAP_COUNT_TIME=400,$e([hq],ca,"isTouchDevice",1);var uq=ca,dx=class extends oe{onclick(e,t){this._register(te(e,it.CLICK,s=>t(new Cc(er(e),s))))}onmousedown(e,t){this._register(te(e,it.MOUSE_DOWN,s=>t(new Cc(er(e),s))))}onmouseover(e,t){this._register(te(e,it.MOUSE_OVER,s=>t(new Cc(er(e),s))))}onmouseleave(e,t){this._register(te(e,it.MOUSE_LEAVE,s=>t(new Cc(er(e),s))))}onkeydown(e,t){this._register(te(e,it.KEY_DOWN,s=>t(new l2(s))))}onkeyup(e,t){this._register(te(e,it.KEY_UP,s=>t(new l2(s))))}oninput(e,t){this._register(te(e,it.INPUT,t))}onblur(e,t){this._register(te(e,it.BLUR,t))}onfocus(e,t){this._register(te(e,it.FOCUS,t))}onchange(e,t){this._register(te(e,it.CHANGE,t))}ignoreGesture(e){return uq.ignoreTarget(e)}},p2=11,dq=class extends dx{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.style.position="absolute",this.domNode.style.width=p2+"px",this.domNode.style.height=p2+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new _j),this._register(d2(this.bgDomNode,it.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(d2(this.domNode,it.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new aq),this._pointerdownScheduleRepeatTimer=this._register(new hx)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,er(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}},fq=class Mg{constructor(t,s,r,n,i,o,a){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(s=s|0,r=r|0,n=n|0,i=i|0,o=o|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,s<0&&(s=0),n+s>r&&(n=r-s),n<0&&(n=0),i<0&&(i=0),a+i>o&&(a=o-i),a<0&&(a=0),this.width=s,this.scrollWidth=r,this.scrollLeft=n,this.height=i,this.scrollHeight=o,this.scrollTop=a}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,s){return new Mg(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,s?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,s?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new Mg(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,s){let r=this.width!==t.width,n=this.scrollWidth!==t.scrollWidth,i=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,a=this.scrollHeight!==t.scrollHeight,l=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:s,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:n,scrollLeftChanged:i,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}},pq=class extends oe{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new fq(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var r;let s=this._state.withScrollDimensions(e,t);this._setState(s,!!this._smoothScrolling),(r=this._smoothScrolling)==null||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let s=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===s.scrollLeft&&this._smoothScrolling.to.scrollTop===s.scrollTop)return;let r;t?r=new g2(this._smoothScrolling.from,s,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,s,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{let s=this._state.withScrollPosition(e);this._smoothScrolling=g2.start(this._state,s,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let s=this._state;s.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(s,t)))}},m2=class{constructor(e,t,s){this.scrollLeft=e,this.scrollTop=t,this.isDone=s}};function xp(e,t){let s=t-e;return function(r){return e+s*vq(r)}}function mq(e,t,s){return function(r){return r<s?e(r/s):t((r-s)/(1-s))}}var g2=class Og{constructor(t,s,r,n){this.from=t,this.to=s,this.duration=n,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,s,r){if(Math.abs(t-s)>2.5*r){let n,i;return t<s?(n=t+.75*r,i=s-.75*r):(n=t-.75*r,i=s+.75*r),mq(xp(t,n),xp(i,s),.33)}return xp(t,s)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){let s=(t-this.startTime)/this.duration;if(s<1){let r=this.scrollLeft(s),n=this.scrollTop(s);return new m2(r,n,!1)}return new m2(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,s,r){return Og.start(t,s,r)}static start(t,s,r){r=r+10;let n=Date.now()-10;return new Og(t,s,n,r)}};function gq(e){return Math.pow(e,3)}function vq(e){return 1-gq(1-e)}var xq=class extends oe{constructor(e,t,s){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=s,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new hx)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}},yq=140,bj=class extends dx{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new xq(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new _j),this._shouldRender=!0,this.domNode=Oa(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(te(this.domNode.domNode,it.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new dq(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,s,r){this.slider=Oa(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof s=="number"&&this.slider.setWidth(s),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(te(this.slider.domNode,it.POINTER_DOWN,n=>{n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))})),this.onclick(this.slider.domNode,n=>{n.leftButton&&n.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,s=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),n=this._sliderPointerPosition(e);s<=n&&n<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,s;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,s=e.offsetY;else{let n=lq(this.domNode.domNode);t=e.pageX-n.left,s=e.pageY-n.top}let r=this._pointerDownRelativePosition(t,s);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),s=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>{let i=this._sliderOrthogonalPointerPosition(n),o=Math.abs(i-s);if(gj&&o>yq){this._setDesiredScrollPositionNow(r.getScrollPosition());return}let a=this._sliderPointerPosition(n)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},wj=class Rg{constructor(t,s,r,n,i,o){this._scrollbarSize=Math.round(s),this._oppositeScrollbarSize=Math.round(r),this._arrowSize=Math.round(t),this._visibleSize=n,this._scrollSize=i,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Rg(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){let s=Math.round(t);return this._visibleSize!==s?(this._visibleSize=s,this._refreshComputedValues(),!0):!1}setScrollSize(t){let s=Math.round(t);return this._scrollSize!==s?(this._scrollSize=s,this._refreshComputedValues(),!0):!1}setScrollPosition(t){let s=Math.round(t);return this._scrollPosition!==s?(this._scrollPosition=s,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,s,r,n,i){let o=Math.max(0,r-t),a=Math.max(0,o-2*s),l=n>0&&n>r;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(r*a/n))),u=(a-c)/(n-r),d=i*u;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){let t=Rg._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;let s=t-this._arrowSize-this._computedSliderSize/2;return Math.round(s/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;let s=t-this._arrowSize,r=this._scrollPosition;return s<this._computedSliderPosition?r-=this._visibleSize:r+=this._visibleSize,r}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;let s=this._computedSliderPosition+t;return Math.round(s/this._computedSliderRatio)}},_q=class extends bj{constructor(e,t,s){let r=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:s,scrollbarState:new wj(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,n.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}},bq=class extends bj{constructor(e,t,s){let r=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:s,scrollbarState:new wj(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,n.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}},wq=500,v2=50,Sq=class{constructor(e,t,s){this.timestamp=e,this.deltaX=t,this.deltaY=s,this.score=0}},Dg=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,s=0,r=1,n=this._rear;do{let i=n===this._front?t:Math.pow(2,-r);if(t-=i,s+=this._memory[n].score*i,n===this._front)break;n=(this._capacity+n-1)%this._capacity,r++}while(!0);return s<=.5}acceptStandardWheelEvent(t){if(lx){let s=er(t.browserEvent),r=RK(s);this.accept(Date.now(),t.deltaX*r,t.deltaY*r)}else this.accept(Date.now(),t.deltaX,t.deltaY)}accept(t,s,r){let n=null,i=new Sq(t,s,r);this._front===-1&&this._rear===-1?(this._memory[0]=i,this._front=0,this._rear=0):(n=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i),i.score=this._computeScore(i,n)}_computeScore(t,s){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let r=.5;if((!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(r+=.25),s){let n=Math.abs(t.deltaX),i=Math.abs(t.deltaY),o=Math.abs(s.deltaX),a=Math.abs(s.deltaY),l=Math.max(Math.min(n,o),1),c=Math.max(Math.min(i,a),1),u=Math.max(n,o),d=Math.max(i,a);u%l===0&&d%c===0&&(r-=.5)}return Math.min(Math.max(r,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}};Dg.INSTANCE=new Dg;var Cq=Dg,kq=class extends dx{constructor(e,t,s){super(),this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new W),this.onWillScroll=this._onWillScroll.event,this._options=Nq(t),this._scrollable=s,this._register(this._scrollable.onScroll(n=>{this._onWillScroll.fire(n),this._onDidScroll(n),this._onScroll.fire(n)}));let r={onMouseWheel:n=>this._onMouseWheel(n),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new bq(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new _q(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Oa(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Oa(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Oa(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,n=>this._onMouseOver(n)),this.onmouseleave(this._listenOnDomNode,n=>this._onMouseLeave(n)),this._hideTimeout=this._register(new hx),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=di(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,or&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new h2(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=di(this._mouseWheelToDispose),e)){let t=s=>{this._onMouseWheel(new h2(s))};this._mouseWheelToDispose.push(te(this._listenOnDomNode,it.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(e){var n;if((n=e.browserEvent)!=null&&n.defaultPrevented)return;let t=Cq.INSTANCE;t.acceptStandardWheelEvent(e);let s=!1;if(e.deltaY||e.deltaX){let i=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+i===0?o=i=0:Math.abs(i)>=Math.abs(o)?o=0:i=0),this._options.flipAxes&&([i,o]=[o,i]);let a=!or&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!o&&(o=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,i=i*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(i){let u=v2*i,d=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(c,d)}if(o){let u=v2*o,d=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(c,d)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),s=!0)}let r=s;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,s=e.scrollLeft>0,r=s?" left":"",n=t?" top":"",i=s||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${n}`),this._topLeftShadowDomNode.setClassName(`shadow${i}${n}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),wq)}},Eq=class extends kq{constructor(e,t,s){super(e,t,s)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function Nq(e){let t={lazyRender:typeof e.lazyRender<"u"?e.lazyRender:!1,className:typeof e.className<"u"?e.className:"",useShadows:typeof e.useShadows<"u"?e.useShadows:!0,handleMouseWheel:typeof e.handleMouseWheel<"u"?e.handleMouseWheel:!0,flipAxes:typeof e.flipAxes<"u"?e.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof e.consumeMouseWheelIfScrollbarIsNeeded<"u"?e.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel<"u"?e.alwaysConsumeMouseWheel:!1,scrollYToX:typeof e.scrollYToX<"u"?e.scrollYToX:!1,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity<"u"?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof e.fastScrollSensitivity<"u"?e.fastScrollSensitivity:5,scrollPredominantAxis:typeof e.scrollPredominantAxis<"u"?e.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll<"u"?e.mouseWheelSmoothScroll:!0,arrowSize:typeof e.arrowSize<"u"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode<"u"?e.listenOnDomNode:null,horizontal:typeof e.horizontal<"u"?e.horizontal:1,horizontalScrollbarSize:typeof e.horizontalScrollbarSize<"u"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows<"u"?e.horizontalHasArrows:!1,vertical:typeof e.vertical<"u"?e.vertical:1,verticalScrollbarSize:typeof e.verticalScrollbarSize<"u"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows<"u"?e.verticalHasArrows:!1,verticalSliderSize:typeof e.verticalSliderSize<"u"?e.verticalSliderSize:0,scrollByPage:typeof e.scrollByPage<"u"?e.scrollByPage:!1};return t.horizontalSliderSize=typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof e.verticalSliderSize<"u"?e.verticalSliderSize:t.verticalScrollbarSize,or&&(t.className+=" mac"),t}var Ag=class extends oe{constructor(e,t,s,r,n,i,o,a){super(),this._bufferService=s,this._optionsService=o,this._renderService=a,this._onRequestScrollLines=this._register(new W),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let l=this._register(new pq({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:c=>ux(r.window,c)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{l.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new Eq(t,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},l)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(n.onProtocolChange(c=>{this._scrollableElement.updateOptions({handleMouseWheel:!(c&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(vt.runAndSubscribe(i.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=i.colors.background.css})),e.appendChild(this._scrollableElement.getDomNode()),this._register(je(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=r.mainDocument.createElement("style"),t.appendChild(this._styleElement),this._register(je(()=>this._styleElement.remove())),this._register(vt.runAndSubscribe(i.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${i.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${i.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${i.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(c=>this._handleScroll(c)))}scrollLines(e){let t=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:t.scrollTop+e*this._renderService.dimensions.css.cell.height})}scrollToLine(e,t){t&&(this._latestYDisp=e),this._scrollableElement.setScrollPosition({reuseAnimation:!t,scrollTop:e*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){var e;return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:((e=this._optionsService.rawOptions.overviewRuler)==null?void 0:e.width)||14}}queueSync(e){e!==void 0&&(this._latestYDisp=e),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(e=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,e!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:e*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(e){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let t=Math.round(e.scrollTop/this._renderService.dimensions.css.cell.height),s=t-this._bufferService.buffer.ydisp;s!==0&&(this._latestYDisp=t,this._onRequestScrollLines.fire(s)),this._isHandlingScroll=!1}};Ag=$e([q(2,Bt),q(3,Lr),q(4,sj),q(5,No),q(6,It),q(7,Mr)],Ag);var Bg=class extends oe{constructor(e,t,s,r,n){super(),this._screenElement=e,this._bufferService=t,this._coreBrowserService=s,this._decorationService=r,this._renderService=n,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(i=>this._removeDecoration(i))),this._register(je(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var r;let t=this._coreBrowserService.mainDocument.createElement("div");t.classList.add("xterm-decoration"),t.classList.toggle("xterm-decoration-top-layer",((r=e==null?void 0:e.options)==null?void 0:r.layer)==="top"),t.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,t.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,t.style.top=`${(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,t.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let s=e.options.x??0;return s&&s>this._bufferService.cols&&(t.style.display="none"),this._refreshXPosition(e,t),t}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let s=this._decorationElements.get(e);s||(s=this._createElement(e),e.element=s,this._decorationElements.set(e,s),this._container.appendChild(s),e.onDispose(()=>{this._decorationElements.delete(e),s.remove()})),s.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(s.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,s.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,s.style.top=`${t*this._renderService.dimensions.css.cell.height}px`,s.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),e.onRenderEmitter.fire(s)}}_refreshXPosition(e,t=e.element){if(!t)return;let s=e.options.x??0;(e.options.anchor||"left")==="right"?t.style.right=s?`${s*this._renderService.dimensions.css.cell.width}px`:"":t.style.left=s?`${s*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(e){var t;(t=this._decorationElements.get(e))==null||t.remove(),this._decorationElements.delete(e),e.dispose()}};Bg=$e([q(1,Bt),q(2,Lr),q(3,Ol),q(4,Mr)],Bg);var jq=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position)){this._addLineToZone(t,e.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,s){return t>=e.startBufferLine-this._linePadding[s||"full"]&&t<=e.endBufferLine+this._linePadding[s||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}},Us={full:0,left:0,center:0,right:0},Ar={full:0,left:0,center:0,right:0},Yo={full:0,left:0,center:0,right:0},iu=class extends oe{constructor(e,t,s,r,n,i,o,a){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=s,this._decorationService=r,this._renderService=n,this._optionsService=i,this._themeService=o,this._coreBrowserService=a,this._colorZoneStore=new jq,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(c=this._viewportElement.parentElement)==null||c.insertBefore(this._canvas,this._viewportElement),this._register(je(()=>{var u;return(u=this._canvas)==null?void 0:u.remove()}));let l=this._canvas.getContext("2d");if(l)this._ctx=l;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){var e;return((e=this._optionsService.options.overviewRuler)==null?void 0:e.width)||0}_refreshDrawConstants(){let e=Math.floor((this._canvas.width-1)/3),t=Math.ceil((this._canvas.width-1)/3);Ar.full=this._canvas.width,Ar.left=e,Ar.center=t,Ar.right=e,this._refreshDrawHeightConstants(),Yo.full=1,Yo.left=1,Yo.center=1+Ar.left,Yo.right=1+Ar.left+Ar.center}_refreshDrawHeightConstants(){Us.full=Math.round(2*this._coreBrowserService.dpr);let e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowserService.dpr);Us.left=t,Us.center=t,Us.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Us.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Us.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Us.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Us.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1,this._renderRulerOutline();let e=this._colorZoneStore.zones;for(let t of e)t.position!=="full"&&this._renderColorZone(t);for(let t of e)t.position==="full"&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(Yo[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-Us[e.position||"full"]/2),Ar[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+Us[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};iu=$e([q(2,Bt),q(3,Ol),q(4,Mr),q(5,It),q(6,No),q(7,Lr)],iu);var I;(e=>(e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="\x07",e.BS="\b",e.HT="	",e.LF=`
`,e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="\x1B",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""))(I||(I={}));var hh;(e=>(e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""))(hh||(hh={}));var Sj;(e=>e.ST=`${I.ESC}\\`)(Sj||(Sj={}));var Ig=class{constructor(e,t,s,r,n,i){this._textarea=e,this._compositionView=t,this._bufferService=s,this._optionsService=r,this._coreService=n,this._renderService=i,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(e.keyCode===20||e.keyCode===229||e.keyCode===16||e.keyCode===17||e.keyCode===18)return!1;this._finalizeComposition(!1)}return e.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let t={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let s;t.start+=this._dataAlreadySent.length,this._isComposing?s=this._textarea.value.substring(t.start,this._compositionPosition.start):s=this._textarea.value.substring(t.start),s.length>0&&this._coreService.triggerDataEvent(s,!0)}},0)}else{this._isSendingComposition=!1;let t=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(t,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,s=t.replace(e,"");this._dataAlreadySent=s,t.length>e.length?this._coreService.triggerDataEvent(s,!0):t.length<e.length?this._coreService.triggerDataEvent(`${I.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let t=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),s=this._renderService.dimensions.css.cell.height,r=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,n=t*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=s+"px",this._compositionView.style.lineHeight=s+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let i=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=r+"px",this._textarea.style.width=Math.max(i.width,1)+"px",this._textarea.style.height=Math.max(i.height,1)+"px",this._textarea.style.lineHeight=i.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Ig=$e([q(2,Bt),q(3,It),q(4,xi),q(5,Mr)],Ig);var at=0,lt=0,ct=0,Be=0,x2={css:"#00000000",rgba:0},Ye;(e=>{function t(n,i,o,a){return a!==void 0?`#${Tn(n)}${Tn(i)}${Tn(o)}${Tn(a)}`:`#${Tn(n)}${Tn(i)}${Tn(o)}`}e.toCss=t;function s(n,i,o,a=255){return(n<<24|i<<16|o<<8|a)>>>0}e.toRgba=s;function r(n,i,o,a){return{css:e.toCss(n,i,o,a),rgba:e.toRgba(n,i,o,a)}}e.toColor=r})(Ye||(Ye={}));var Ce;(e=>{function t(l,c){if(Be=(c.rgba&255)/255,Be===1)return{css:c.css,rgba:c.rgba};let u=c.rgba>>24&255,d=c.rgba>>16&255,f=c.rgba>>8&255,m=l.rgba>>24&255,p=l.rgba>>16&255,v=l.rgba>>8&255;at=m+Math.round((u-m)*Be),lt=p+Math.round((d-p)*Be),ct=v+Math.round((f-v)*Be);let y=Ye.toCss(at,lt,ct),x=Ye.toRgba(at,lt,ct);return{css:y,rgba:x}}e.blend=t;function s(l){return(l.rgba&255)===255}e.isOpaque=s;function r(l,c,u){let d=uh.ensureContrastRatio(l.rgba,c.rgba,u);if(d)return Ye.toColor(d>>24&255,d>>16&255,d>>8&255)}e.ensureContrastRatio=r;function n(l){let c=(l.rgba|255)>>>0;return[at,lt,ct]=uh.toChannels(c),{css:Ye.toCss(at,lt,ct),rgba:c}}e.opaque=n;function i(l,c){return Be=Math.round(c*255),[at,lt,ct]=uh.toChannels(l.rgba),{css:Ye.toCss(at,lt,ct,Be),rgba:Ye.toRgba(at,lt,ct,Be)}}e.opacity=i;function o(l,c){return Be=l.rgba&255,i(l,Be*c/255)}e.multiplyOpacity=o;function a(l){return[l.rgba>>24&255,l.rgba>>16&255,l.rgba>>8&255]}e.toColorRGB=a})(Ce||(Ce={}));var Te;(e=>{let t,s;try{let n=document.createElement("canvas");n.width=1,n.height=1;let i=n.getContext("2d",{willReadFrequently:!0});i&&(t=i,t.globalCompositeOperation="copy",s=t.createLinearGradient(0,0,1,1))}catch{}function r(n){if(n.match(/#[\da-f]{3,8}/i))switch(n.length){case 4:return at=parseInt(n.slice(1,2).repeat(2),16),lt=parseInt(n.slice(2,3).repeat(2),16),ct=parseInt(n.slice(3,4).repeat(2),16),Ye.toColor(at,lt,ct);case 5:return at=parseInt(n.slice(1,2).repeat(2),16),lt=parseInt(n.slice(2,3).repeat(2),16),ct=parseInt(n.slice(3,4).repeat(2),16),Be=parseInt(n.slice(4,5).repeat(2),16),Ye.toColor(at,lt,ct,Be);case 7:return{css:n,rgba:(parseInt(n.slice(1),16)<<8|255)>>>0};case 9:return{css:n,rgba:parseInt(n.slice(1),16)>>>0}}let i=n.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(i)return at=parseInt(i[1]),lt=parseInt(i[2]),ct=parseInt(i[3]),Be=Math.round((i[5]===void 0?1:parseFloat(i[5]))*255),Ye.toColor(at,lt,ct,Be);if(!t||!s)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=s,t.fillStyle=n,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[at,lt,ct,Be]=t.getImageData(0,0,1,1).data,Be!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:Ye.toRgba(at,lt,ct,Be),css:n}}e.toColor=r})(Te||(Te={}));var Tt;(e=>{function t(r){return s(r>>16&255,r>>8&255,r&255)}e.relativeLuminance=t;function s(r,n,i){let o=r/255,a=n/255,l=i/255,c=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),u=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),d=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4);return c*.2126+u*.7152+d*.0722}e.relativeLuminance2=s})(Tt||(Tt={}));var uh;(e=>{function t(o,a){if(Be=(a&255)/255,Be===1)return a;let l=a>>24&255,c=a>>16&255,u=a>>8&255,d=o>>24&255,f=o>>16&255,m=o>>8&255;return at=d+Math.round((l-d)*Be),lt=f+Math.round((c-f)*Be),ct=m+Math.round((u-m)*Be),Ye.toRgba(at,lt,ct)}e.blend=t;function s(o,a,l){let c=Tt.relativeLuminance(o>>8),u=Tt.relativeLuminance(a>>8);if(dr(c,u)<l){if(u<c){let m=r(o,a,l),p=dr(c,Tt.relativeLuminance(m>>8));if(p<l){let v=n(o,a,l),y=dr(c,Tt.relativeLuminance(v>>8));return p>y?m:v}return m}let d=n(o,a,l),f=dr(c,Tt.relativeLuminance(d>>8));if(f<l){let m=r(o,a,l),p=dr(c,Tt.relativeLuminance(m>>8));return f>p?d:m}return d}}e.ensureContrastRatio=s;function r(o,a,l){let c=o>>24&255,u=o>>16&255,d=o>>8&255,f=a>>24&255,m=a>>16&255,p=a>>8&255,v=dr(Tt.relativeLuminance2(f,m,p),Tt.relativeLuminance2(c,u,d));for(;v<l&&(f>0||m>0||p>0);)f-=Math.max(0,Math.ceil(f*.1)),m-=Math.max(0,Math.ceil(m*.1)),p-=Math.max(0,Math.ceil(p*.1)),v=dr(Tt.relativeLuminance2(f,m,p),Tt.relativeLuminance2(c,u,d));return(f<<24|m<<16|p<<8|255)>>>0}e.reduceLuminance=r;function n(o,a,l){let c=o>>24&255,u=o>>16&255,d=o>>8&255,f=a>>24&255,m=a>>16&255,p=a>>8&255,v=dr(Tt.relativeLuminance2(f,m,p),Tt.relativeLuminance2(c,u,d));for(;v<l&&(f<255||m<255||p<255);)f=Math.min(255,f+Math.ceil((255-f)*.1)),m=Math.min(255,m+Math.ceil((255-m)*.1)),p=Math.min(255,p+Math.ceil((255-p)*.1)),v=dr(Tt.relativeLuminance2(f,m,p),Tt.relativeLuminance2(c,u,d));return(f<<24|m<<16|p<<8|255)>>>0}e.increaseLuminance=n;function i(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]}e.toChannels=i})(uh||(uh={}));function Tn(e){let t=e.toString(16);return t.length<2?"0"+t:t}function dr(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var Pq=class extends Ml{constructor(e,t,s){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=s}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},ou=class{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _s}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(this._characterJoiners.length===0)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];let s=[],r=t.translateToString(!0),n=0,i=0,o=0,a=t.getFg(0),l=t.getBg(0);for(let c=0;c<t.getTrimmedLength();c++)if(t.loadCell(c,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==a||this._workCell.bg!==l){if(c-n>1){let u=this._getJoinedRanges(r,o,i,t,n);for(let d=0;d<u.length;d++)s.push(u[d])}n=c,o=i,a=this._workCell.fg,l=this._workCell.bg}i+=this._workCell.getChars().length||Jr.length}if(this._bufferService.cols-n>1){let c=this._getJoinedRanges(r,o,i,t,n);for(let u=0;u<c.length;u++)s.push(c[u])}return s}_getJoinedRanges(e,t,s,r,n){let i=e.substring(t,s),o=[];try{o=this._characterJoiners[0].handler(i)}catch(a){console.error(a)}for(let a=1;a<this._characterJoiners.length;a++)try{let l=this._characterJoiners[a].handler(i);for(let c=0;c<l.length;c++)ou._mergeRanges(o,l[c])}catch(l){console.error(l)}return this._stringRangesToCellRanges(o,r,n),o}_stringRangesToCellRanges(e,t,s){let r=0,n=!1,i=0,o=e[r];if(o){for(let a=s;a<this._bufferService.cols;a++){let l=t.getWidth(a),c=t.getString(a).length||Jr.length;if(l!==0){if(!n&&o[0]<=i&&(o[0]=a,n=!0),o[1]<=i){if(o[1]=a,o=e[++r],!o)break;o[0]<=i?(o[0]=a,n=!0):n=!1}i+=c}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let s=!1;for(let r=0;r<e.length;r++){let n=e[r];if(s){if(t[1]<=n[0])return e[r-1][1]=t[1],e;if(t[1]<=n[1])return e[r-1][1]=Math.max(t[1],n[1]),e.splice(r,1),e;e.splice(r,1),r--}else{if(t[1]<=n[0])return e.splice(r,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),s=!0);continue}}return s?e[e.length-1][1]=t[1]:e.push(t),e}};ou=$e([q(0,Bt)],ou);function Tq(e){return 57508<=e&&e<=57558}function Lq(e){return 9472<=e&&e<=9631}function Mq(e){return Tq(e)||Lq(e)}function Oq(){return{css:{canvas:kc(),cell:kc()},device:{canvas:kc(),cell:kc(),char:{width:0,height:0,left:0,top:0}}}}function kc(){return{width:0,height:0}}var $g=class{constructor(e,t,s,r,n,i,o){this._document=e,this._characterJoinerService=t,this._optionsService=s,this._coreBrowserService=r,this._coreService=n,this._decorationService=i,this._themeService=o,this._workCell=new _s,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,s){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=s}createRow(e,t,s,r,n,i,o,a,l,c,u){let d=[],f=this._characterJoinerService.getJoinedCharacters(t),m=this._themeService.colors,p=e.getNoBgTrimmedLength();s&&p<i+1&&(p=i+1);let v,y=0,x="",b=0,_=0,w=0,S=0,E=!1,k=0,C=!1,N=0,P=0,M=[],T=c!==-1&&u!==-1;for(let L=0;L<p;L++){e.loadCell(L,this._workCell);let $=this._workCell.getWidth();if($===0)continue;let O=!1,A=L>=P,F=L,j=this._workCell;if(f.length>0&&L===f[0][0]&&A){let fe=f.shift(),Po=this._isCellInSelection(fe[0],t);for(b=fe[0]+1;b<fe[1];b++)A&&(A=Po===this._isCellInSelection(b,t));A&&(A=!s||i<fe[0]||i>=fe[1]),A?(O=!0,j=new Pq(this._workCell,e.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),F=fe[1]-1,$=j.getWidth()):P=fe[1]}let B=this._isCellInSelection(L,t),V=s&&L===i,Y=T&&L>=c&&L<=u,D=!1;this._decorationService.forEachDecorationAtCell(L,t,void 0,fe=>{D=!0});let K=j.getChars()||Jr;if(K===" "&&(j.isUnderline()||j.isOverline())&&(K=""),N=$*a-l.get(K,j.isBold(),j.isItalic()),!v)v=this._document.createElement("span");else if(y&&(B&&C||!B&&!C&&j.bg===_)&&(B&&C&&m.selectionForeground||j.fg===w)&&j.extended.ext===S&&Y===E&&N===k&&!V&&!O&&!D&&A){j.isInvisible()?x+=Jr:x+=K,y++;continue}else y&&(v.textContent=x),v=this._document.createElement("span"),y=0,x="";if(_=j.bg,w=j.fg,S=j.extended.ext,E=Y,k=N,C=B,O&&i>=L&&i<=F&&(i=L),!this._coreService.isCursorHidden&&V&&this._coreService.isCursorInitialized){if(M.push("xterm-cursor"),this._coreBrowserService.isFocused)o&&M.push("xterm-cursor-blink"),M.push(r==="bar"?"xterm-cursor-bar":r==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(n)switch(n){case"outline":M.push("xterm-cursor-outline");break;case"block":M.push("xterm-cursor-block");break;case"bar":M.push("xterm-cursor-bar");break;case"underline":M.push("xterm-cursor-underline");break}}if(j.isBold()&&M.push("xterm-bold"),j.isItalic()&&M.push("xterm-italic"),j.isDim()&&M.push("xterm-dim"),j.isInvisible()?x=Jr:x=j.getChars()||Jr,j.isUnderline()&&(M.push(`xterm-underline-${j.extended.underlineStyle}`),x===" "&&(x=""),!j.isUnderlineColorDefault()))if(j.isUnderlineColorRGB())v.style.textDecorationColor=`rgb(${Ml.toColorRGB(j.getUnderlineColor()).join(",")})`;else{let fe=j.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&j.isBold()&&fe<8&&(fe+=8),v.style.textDecorationColor=m.ansi[fe].css}j.isOverline()&&(M.push("xterm-overline"),x===" "&&(x="")),j.isStrikethrough()&&M.push("xterm-strikethrough"),Y&&(v.style.textDecoration="underline");let X=j.getFgColor(),z=j.getFgColorMode(),Z=j.getBgColor(),de=j.getBgColorMode(),Fe=!!j.isInverse();if(Fe){let fe=X;X=Z,Z=fe;let Po=z;z=de,de=Po}let Qe,yi,kn=!1;this._decorationService.forEachDecorationAtCell(L,t,void 0,fe=>{fe.options.layer!=="top"&&kn||(fe.backgroundColorRGB&&(de=50331648,Z=fe.backgroundColorRGB.rgba>>8&16777215,Qe=fe.backgroundColorRGB),fe.foregroundColorRGB&&(z=50331648,X=fe.foregroundColorRGB.rgba>>8&16777215,yi=fe.foregroundColorRGB),kn=fe.options.layer==="top")}),!kn&&B&&(Qe=this._coreBrowserService.isFocused?m.selectionBackgroundOpaque:m.selectionInactiveBackgroundOpaque,Z=Qe.rgba>>8&16777215,de=50331648,kn=!0,m.selectionForeground&&(z=50331648,X=m.selectionForeground.rgba>>8&16777215,yi=m.selectionForeground)),kn&&M.push("xterm-decoration-top");let zs;switch(de){case 16777216:case 33554432:zs=m.ansi[Z],M.push(`xterm-bg-${Z}`);break;case 50331648:zs=Ye.toColor(Z>>16,Z>>8&255,Z&255),this._addStyle(v,`background-color:#${y2((Z>>>0).toString(16),"0",6)}`);break;case 0:default:Fe?(zs=m.foreground,M.push("xterm-bg-257")):zs=m.background}switch(Qe||j.isDim()&&(Qe=Ce.multiplyOpacity(zs,.5)),z){case 16777216:case 33554432:j.isBold()&&X<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(X+=8),this._applyMinimumContrast(v,zs,m.ansi[X],j,Qe,void 0)||M.push(`xterm-fg-${X}`);break;case 50331648:let fe=Ye.toColor(X>>16&255,X>>8&255,X&255);this._applyMinimumContrast(v,zs,fe,j,Qe,yi)||this._addStyle(v,`color:#${y2(X.toString(16),"0",6)}`);break;case 0:default:this._applyMinimumContrast(v,zs,m.foreground,j,Qe,yi)||Fe&&M.push("xterm-fg-257")}M.length&&(v.className=M.join(" "),M.length=0),!V&&!O&&!D&&A?y++:v.textContent=x,N!==this.defaultSpacing&&(v.style.letterSpacing=`${N}px`),d.push(v),L=F}return v&&y&&(v.textContent=x),d}_applyMinimumContrast(e,t,s,r,n,i){if(this._optionsService.rawOptions.minimumContrastRatio===1||Mq(r.getCode()))return!1;let o=this._getContrastCache(r),a;if(!n&&!i&&(a=o.getColor(t.rgba,s.rgba)),a===void 0){let l=this._optionsService.rawOptions.minimumContrastRatio/(r.isDim()?2:1);a=Ce.ensureContrastRatio(n||t,i||s,l),o.setColor((n||t).rgba,(i||s).rgba,a??null)}return a?(this._addStyle(e,`color:${a.css}`),!0):!1}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let s=this._selectionStart,r=this._selectionEnd;return!s||!r?!1:this._columnSelectMode?s[0]<=r[0]?e>=s[0]&&t>=s[1]&&e<r[0]&&t<=r[1]:e<s[0]&&t>=s[1]&&e>=r[0]&&t<=r[1]:t>s[1]&&t<r[1]||s[1]===r[1]&&t===s[1]&&e>=s[0]&&e<r[0]||s[1]<r[1]&&t===r[1]&&e<r[0]||s[1]<r[1]&&t===s[1]&&e>=s[0]}};$g=$e([q(1,ij),q(2,It),q(3,Lr),q(4,xi),q(5,Ol),q(6,No)],$g);function y2(e,t,s){for(;e.length<s;)e=t+e;return e}var Rq=class{constructor(e,t){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let s=e.createElement("span");s.classList.add("xterm-char-measure-element");let r=e.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontWeight="bold";let n=e.createElement("span");n.classList.add("xterm-char-measure-element"),n.style.fontStyle="italic";let i=e.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[s,r,n,i],this._container.appendChild(s),this._container.appendChild(r),this._container.appendChild(n),this._container.appendChild(i),t.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,s,r){e===this._font&&t===this._fontSize&&s===this._weight&&r===this._weightBold||(this._font=e,this._fontSize=t,this._weight=s,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${s}`,this._measureElements[1].style.fontWeight=`${r}`,this._measureElements[2].style.fontWeight=`${s}`,this._measureElements[3].style.fontWeight=`${r}`,this.clear())}get(e,t,s){let r=0;if(!t&&!s&&e.length===1&&(r=e.charCodeAt(0))<256){if(this._flat[r]!==-9999)return this._flat[r];let o=this._measure(e,0);return o>0&&(this._flat[r]=o),o}let n=e;t&&(n+="B"),s&&(n+="I");let i=this._holey.get(n);if(i===void 0){let o=0;t&&(o|=1),s&&(o|=2),i=this._measure(e,o),i>0&&this._holey.set(n,i)}return i}_measure(e,t){let s=this._measureElements[t];return s.textContent=e.repeat(32),s.offsetWidth/32}},Dq=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,s,r=!1){if(this.selectionStart=t,this.selectionEnd=s,!t||!s||t[0]===s[0]&&t[1]===s[1]){this.clear();return}let n=e.buffers.active.ydisp,i=t[1]-n,o=s[1]-n,a=Math.max(i,0),l=Math.min(o,e.rows-1);if(a>=e.rows||l<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=r,this.viewportStartRow=i,this.viewportEndRow=o,this.viewportCappedStartRow=a,this.viewportCappedEndRow=l,this.startCol=t[0],this.endCol=s[0]}isCellSelected(e,t,s){return this.hasSelection?(s-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&s>=this.viewportCappedStartRow&&t<this.endCol&&s<=this.viewportCappedEndRow:t<this.startCol&&s>=this.viewportCappedStartRow&&t>=this.endCol&&s<=this.viewportCappedEndRow:s>this.viewportStartRow&&s<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&s===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&s===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&s===this.viewportStartRow&&t>=this.startCol):!1}};function Aq(){return new Dq}var yp="xterm-dom-renderer-owner-",os="xterm-rows",Ec="xterm-fg-",_2="xterm-bg-",Xo="xterm-focus",Nc="xterm-selection",Bq=1,Fg=class extends oe{constructor(e,t,s,r,n,i,o,a,l,c,u,d,f,m){super(),this._terminal=e,this._document=t,this._element=s,this._screenElement=r,this._viewportElement=n,this._helperContainer=i,this._linkifier2=o,this._charSizeService=l,this._optionsService=c,this._bufferService=u,this._coreService=d,this._coreBrowserService=f,this._themeService=m,this._terminalClass=Bq++,this._rowElements=[],this._selectionRenderModel=Aq(),this.onRequestRedraw=this._register(new W).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(os),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(Nc),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=Oq(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(p=>this._injectCss(p))),this._injectCss(this._themeService.colors),this._rowFactory=a.createInstance($g,document),this._element.classList.add(yp+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(p=>this._handleLinkHover(p))),this._register(this._linkifier2.onHideLinkUnderline(p=>this._handleLinkLeave(p))),this._register(je(()=>{this._element.classList.remove(yp+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new Rq(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let s of this._rowElements)s.style.width=`${this.dimensions.css.canvas.width}px`,s.style.height=`${this.dimensions.css.cell.height}px`,s.style.lineHeight=`${this.dimensions.css.cell.height}px`,s.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${os} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${os} { pointer-events: none; color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${os} .xterm-dim { color: ${Ce.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let s=`blink_underline_${this._terminalClass}`,r=`blink_bar_${this._terminalClass}`,n=`blink_block_${this._terminalClass}`;t+=`@keyframes ${s} { 50% {  border-bottom-style: hidden; }}`,t+=`@keyframes ${r} { 50% {  box-shadow: none; }}`,t+=`@keyframes ${n} { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${os}.${Xo} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${s} 1s step-end infinite;}${this._terminalSelector} .${os}.${Xo} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${os}.${Xo} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${os} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${os} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${e.cursor.css} !important; color: ${e.cursorAccent.css} !important;}${this._terminalSelector} .${os} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${os} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${os} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${Nc} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${Nc} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${Nc} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(let[i,o]of e.ansi.entries())t+=`${this._terminalSelector} .${Ec}${i} { color: ${o.css}; }${this._terminalSelector} .${Ec}${i}.xterm-dim { color: ${Ce.multiplyOpacity(o,.5).css}; }${this._terminalSelector} .${_2}${i} { background-color: ${o.css}; }`;t+=`${this._terminalSelector} .${Ec}257 { color: ${Ce.opaque(e.background).css}; }${this._terminalSelector} .${Ec}257.xterm-dim { color: ${Ce.multiplyOpacity(Ce.opaque(e.background),.5).css}; }${this._terminalSelector} .${_2}257 { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let s=this._rowElements.length;s<=t;s++){let r=this._document.createElement("div");this._rowContainer.appendChild(r),this._rowElements.push(r)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Xo),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Xo),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,s){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,s),this.renderRows(0,this._bufferService.rows-1),!e||!t||(this._selectionRenderModel.update(this._terminal,e,t,s),!this._selectionRenderModel.hasSelection))return;let r=this._selectionRenderModel.viewportStartRow,n=this._selectionRenderModel.viewportEndRow,i=this._selectionRenderModel.viewportCappedStartRow,o=this._selectionRenderModel.viewportCappedEndRow,a=this._document.createDocumentFragment();if(s){let l=e[0]>t[0];a.appendChild(this._createSelectionElement(i,l?t[0]:e[0],l?e[0]:t[0],o-i+1))}else{let l=r===i?e[0]:0,c=i===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(i,l,c));let u=o-i-1;if(a.appendChild(this._createSelectionElement(i+1,0,this._bufferService.cols,u)),i!==o){let d=n===o?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,0,d))}}this._selectionContainer.appendChild(a)}_createSelectionElement(e,t,s,r=1){let n=this._document.createElement("div"),i=t*this.dimensions.css.cell.width,o=this.dimensions.css.cell.width*(s-t);return i+o>this.dimensions.css.canvas.width&&(o=this.dimensions.css.canvas.width-i),n.style.height=`${r*this.dimensions.css.cell.height}px`,n.style.top=`${e*this.dimensions.css.cell.height}px`,n.style.left=`${i}px`,n.style.width=`${o}px`,n}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let s=this._bufferService.buffer,r=s.ybase+s.y,n=Math.min(s.x,this._bufferService.cols-1),i=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,o=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,a=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){let c=l+s.ydisp,u=this._rowElements[l],d=s.lines.get(c);if(!u||!d)break;u.replaceChildren(...this._rowFactory.createRow(d,c,c===r,o,a,n,i,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${yp}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,s,r,n,i){s<0&&(e=0),r<0&&(t=0);let o=this._bufferService.rows-1;s=Math.max(Math.min(s,o),0),r=Math.max(Math.min(r,o),0),n=Math.min(n,this._bufferService.cols);let a=this._bufferService.buffer,l=a.ybase+a.y,c=Math.min(a.x,n-1),u=this._optionsService.rawOptions.cursorBlink,d=this._optionsService.rawOptions.cursorStyle,f=this._optionsService.rawOptions.cursorInactiveStyle;for(let m=s;m<=r;++m){let p=m+a.ydisp,v=this._rowElements[m],y=a.lines.get(p);if(!v||!y)break;v.replaceChildren(...this._rowFactory.createRow(y,p,p===l,d,f,c,u,this.dimensions.css.cell.width,this._widthCache,i?m===s?e:0:-1,i?(m===r?t:n)-1:-1))}}};Fg=$e([q(7,ix),q(8,Gu),q(9,It),q(10,Bt),q(11,xi),q(12,Lr),q(13,No)],Fg);var zg=class extends oe{constructor(e,t,s){super(),this._optionsService=s,this.width=0,this.height=0,this._onCharSizeChange=this._register(new W),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new $q(this._optionsService))}catch{this._measureStrategy=this._register(new Iq(e,t,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let e=this._measureStrategy.measure();(e.width!==this.width||e.height!==this.height)&&(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};zg=$e([q(2,It)],zg);var Cj=class extends oe{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(e,t){e!==void 0&&e>0&&t!==void 0&&t>0&&(this._result.width=e,this._result.height=t)}},Iq=class extends Cj{constructor(e,t,s){super(),this._document=e,this._parentElement=t,this._optionsService=s,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},$q=class extends Cj{constructor(e){super(),this._optionsService=e,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let t=this._ctx.measureText("W");if(!("width"in t&&"fontBoundingBoxAscent"in t&&"fontBoundingBoxDescent"in t))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let e=this._ctx.measureText("W");return this._validateAndSet(e.width,e.fontBoundingBoxAscent+e.fontBoundingBoxDescent),this._result}},Fq=class extends oe{constructor(e,t,s){super(),this._textarea=e,this._window=t,this.mainDocument=s,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new zq(this._window)),this._onDprChange=this._register(new W),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new W),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(r=>this._screenDprMonitor.setWindow(r))),this._register(vt.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(te(this._textarea,"focus",()=>this._isFocused=!0)),this._register(te(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(e){this._window!==e&&(this._window=e,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},zq=class extends oe{constructor(e){super(),this._parentWindow=e,this._windowResizeListener=this._register(new uo),this._onDprChange=this._register(new W),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(je(()=>this.clearListener()))}setWindow(e){this._parentWindow=e,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=te(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var e;this._outerListener&&((e=this._resolutionMediaMatchList)==null||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},Hq=class extends oe{constructor(){super(),this.linkProviders=[],this._register(je(()=>this.linkProviders.length=0))}registerLinkProvider(e){return this.linkProviders.push(e),{dispose:()=>{let t=this.linkProviders.indexOf(e);t!==-1&&this.linkProviders.splice(t,1)}}}};function fx(e,t,s){let r=s.getBoundingClientRect(),n=e.getComputedStyle(s),i=parseInt(n.getPropertyValue("padding-left")),o=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-r.left-i,t.clientY-r.top-o]}function Vq(e,t,s,r,n,i,o,a,l){if(!i)return;let c=fx(e,t,s);if(c)return c[0]=Math.ceil((c[0]+(l?o/2:0))/o),c[1]=Math.ceil(c[1]/a),c[0]=Math.min(Math.max(c[0],1),r+(l?1:0)),c[1]=Math.min(Math.max(c[1],1),n),c}var Hg=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,s,r,n){return Vq(window,e,t,s,r,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(e,t){let s=fx(window,e,t);if(this._charSizeService.hasValidSize)return s[0]=Math.min(Math.max(s[0],0),this._renderService.dimensions.css.canvas.width-1),s[1]=Math.min(Math.max(s[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(s[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(s[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(s[0]),y:Math.floor(s[1])}}};Hg=$e([q(0,Mr),q(1,Gu)],Hg);var Wq=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,s){this._rowCount=s,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}},kj={};eK(kj,{getSafariVersion:()=>Kq,isChromeOS:()=>Pj,isFirefox:()=>Ej,isIpad:()=>qq,isIphone:()=>Yq,isLegacyEdge:()=>Uq,isLinux:()=>px,isMac:()=>au,isNode:()=>Qu,isSafari:()=>Nj,isWindows:()=>jj});var Qu=typeof process<"u"&&"title"in process,Rl=Qu?"node":navigator.userAgent,Dl=Qu?"node":navigator.platform,Ej=Rl.includes("Firefox"),Uq=Rl.includes("Edge"),Nj=/^((?!chrome|android).)*safari/i.test(Rl);function Kq(){if(!Nj)return 0;let e=Rl.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}var au=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(Dl),qq=Dl==="iPad",Yq=Dl==="iPhone",jj=["Windows","Win16","Win32","WinCE"].includes(Dl),px=Dl.indexOf("Linux")>=0,Pj=/\bCrOS\b/.test(Rl),Tj=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,s=0,r=e.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(t=performance.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,performance.now()-t),s=Math.max(t,s),n=e.timeRemaining(),s*1.5>n){r-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-t))}ms`),this._start();return}r=n}this.clear()}},Xq=class extends Tj{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=performance.now()+e;return{timeRemaining:()=>Math.max(0,t-performance.now())}}},Gq=class extends Tj{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}},lu=!Qu&&"requestIdleCallback"in window?Gq:Xq,Qq=class{constructor(){this._queue=new lu}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}},Vg=class extends oe{constructor(e,t,s,r,n,i,o,a,l){super(),this._rowCount=e,this._optionsService=s,this._charSizeService=r,this._coreService=n,this._coreBrowserService=a,this._renderer=this._register(new uo),this._pausedResizeTask=new Qq,this._observerDisposable=this._register(new uo),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new W),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new W),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new W),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new W),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new Wq((c,u)=>this._renderRows(c,u),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new Zq(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(je(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(o.onResize(()=>this._fullRefresh())),this._register(o.buffers.onBufferActivate(()=>{var c;return(c=this._renderer.value)==null?void 0:c.clear()})),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(i.onDecorationRegistered(()=>this._fullRefresh())),this._register(i.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(o.cols,o.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(o.buffer.y,o.buffer.y,!0))),this._register(l.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,t),this._register(this._coreBrowserService.onWindowChange(c=>this._registerIntersectionObserver(c,t)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(e,t){if("IntersectionObserver"in e){let s=new e.IntersectionObserver(r=>this._handleIntersectionChange(r[r.length-1]),{threshold:0});s.observe(t),this._observerDisposable.value=je(()=>s.disconnect())}}_handleIntersectionChange(e){this._isPaused=e.isIntersecting===void 0?e.intersectionRatio===0:!e.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,s=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}let r=this._syncOutputHandler.flush();r&&(e=Math.min(e,r.start),t=Math.max(t,r.end)),s||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount)}_renderRows(e,t){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0}}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value&&(this._renderer.value.onRequestRedraw(t=>this.refreshRows(t.start,t.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&((t=(e=this._renderer.value).clearTextureAtlas)==null||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var s;return(s=this._renderer.value)==null?void 0:s.handleResize(e,t)}):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;(e=this._renderer.value)==null||e.handleCharSizeChanged()}handleBlur(){var e;(e=this._renderer.value)==null||e.handleBlur()}handleFocus(){var e;(e=this._renderer.value)==null||e.handleFocus()}handleSelectionChanged(e,t,s){var r;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=s,(r=this._renderer.value)==null||r.handleSelectionChanged(e,t,s)}handleCursorMove(){var e;(e=this._renderer.value)==null||e.handleCursorMove()}clear(){var e;(e=this._renderer.value)==null||e.clear()}};Vg=$e([q(2,It),q(3,Gu),q(4,xi),q(5,Ol),q(6,Bt),q(7,Lr),q(8,No)],Vg);var Zq=class{constructor(e,t,s){this._coreBrowserService=e,this._coreService=t,this._onTimeout=s,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(e,t){this._isBuffering?(this._start=Math.min(this._start,e),this._end=Math.max(this._end,t)):(this._start=e,this._end=t,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let e={start:this._start,end:this._end};return this._isBuffering=!1,e}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function Jq(e,t,s,r){let n=s.buffer.x,i=s.buffer.y;if(!s.buffer.hasScrollback)return sY(n,i,e,t,s,r)+Zu(i,t,s,r)+rY(n,i,e,t,s,r);let o;if(i===t)return o=n>e?"D":"C",fl(Math.abs(n-e),dl(o,r));o=i>t?"D":"C";let a=Math.abs(i-t),l=tY(i>t?e:n,s)+(a-1)*s.cols+1+eY(i>t?n:e);return fl(l,dl(o,r))}function eY(e,t){return e-1}function tY(e,t){return t.cols-e}function sY(e,t,s,r,n,i){return Zu(t,r,n,i).length===0?"":fl(Mj(e,t,e,t-fi(t,n),!1,n).length,dl("D",i))}function Zu(e,t,s,r){let n=e-fi(e,s),i=t-fi(t,s),o=Math.abs(n-i)-nY(e,t,s);return fl(o,dl(Lj(e,t),r))}function rY(e,t,s,r,n,i){let o;Zu(t,r,n,i).length>0?o=r-fi(r,n):o=t;let a=r,l=iY(e,t,s,r,n,i);return fl(Mj(e,o,s,a,l==="C",n).length,dl(l,i))}function nY(e,t,s){var o;let r=0,n=e-fi(e,s),i=t-fi(t,s);for(let a=0;a<Math.abs(n-i);a++){let l=Lj(e,t)==="A"?-1:1;(o=s.buffer.lines.get(n+l*a))!=null&&o.isWrapped&&r++}return r}function fi(e,t){let s=0,r=t.buffer.lines.get(e),n=r==null?void 0:r.isWrapped;for(;n&&e>=0&&e<t.rows;)s++,r=t.buffer.lines.get(--e),n=r==null?void 0:r.isWrapped;return s}function iY(e,t,s,r,n,i){let o;return Zu(s,r,n,i).length>0?o=r-fi(r,n):o=t,e<s&&o<=r||e>=s&&o<r?"C":"D"}function Lj(e,t){return e>t?"A":"B"}function Mj(e,t,s,r,n,i){let o=e,a=t,l="";for(;(o!==s||a!==r)&&a>=0&&a<i.buffer.lines.length;)o+=n?1:-1,n&&o>i.cols-1?(l+=i.buffer.translateBufferLineToString(a,!1,e,o),o=0,e=0,a++):!n&&o<0&&(l+=i.buffer.translateBufferLineToString(a,!1,0,e+1),o=i.cols-1,e=o,a--);return l+i.buffer.translateBufferLineToString(a,!1,e,o)}function dl(e,t){let s=t?"O":"[";return I.ESC+s+e}function fl(e,t){e=Math.floor(e);let s="";for(let r=0;r<e;r++)s+=t;return s}var oY=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!e||!t?!1:e[1]>t[1]||e[1]===t[1]&&e[0]>t[0]}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function b2(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}var _p=50,aY=15,lY=50,cY=500,hY="",uY=new RegExp(hY,"g"),Wg=class extends oe{constructor(e,t,s,r,n,i,o,a,l){super(),this._element=e,this._screenElement=t,this._linkifier=s,this._bufferService=r,this._coreService=n,this._mouseService=i,this._optionsService=o,this._renderService=a,this._coreBrowserService=l,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _s,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new W),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new W),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new W),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new W),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=c=>this._handleMouseMove(c),this._mouseUpListener=c=>this._handleMouseUp(c),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(c=>this._handleTrim(c)),this._register(this._bufferService.buffers.onBufferActivate(c=>this._handleBufferActivate(c))),this.enable(),this._model=new oY(this._bufferService),this._activeSelectionMode=0,this._register(je(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(c=>{c.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!e||!t?!1:e[0]!==t[0]||e[1]!==t[1]}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let s=this._bufferService.buffer,r=[];if(this._activeSelectionMode===3){if(e[0]===t[0])return"";let n=e[0]<t[0]?e[0]:t[0],i=e[0]<t[0]?t[0]:e[0];for(let o=e[1];o<=t[1];o++){let a=s.translateBufferLineToString(o,!0,n,i);r.push(a)}}else{let n=e[1]===t[1]?t[0]:void 0;r.push(s.translateBufferLineToString(e[1],!0,e[0],n));for(let i=e[1]+1;i<=t[1]-1;i++){let o=s.lines.get(i),a=s.translateBufferLineToString(i,!0);o!=null&&o.isWrapped?r[r.length-1]+=a:r.push(a)}if(e[1]!==t[1]){let i=s.lines.get(t[1]),o=s.translateBufferLineToString(t[1],!0,0,t[0]);i&&i.isWrapped?r[r.length-1]+=o:r.push(o)}}return r.map(n=>n.replace(uY," ")).join(jj?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),px&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),s=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!s||!r||!t?!1:this._areCoordsInSelection(t,s,r)}isCellInSelection(e,t){let s=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!s||!r?!1:this._areCoordsInSelection([e,t],s,r)}_areCoordsInSelection(e,t,s){return e[1]>t[1]&&e[1]<s[1]||t[1]===s[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<s[0]||t[1]<s[1]&&e[1]===s[1]&&e[0]<s[0]||t[1]<s[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var n,i;let s=(i=(n=this._linkifier.currentLink)==null?void 0:n.link)==null?void 0:i.range;if(s)return this._model.selectionStart=[s.start.x-1,s.start.y-1],this._model.selectionStartLength=b2(s,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let r=this._getMouseBufferCoords(e);return r?(this._selectWordAt(r,t),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=fx(this._coreBrowserService.window,e,this._screenElement)[1],s=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=s?0:(t>s&&(t-=s),t=Math.min(Math.max(t,-_p),_p),t/=_p,t/Math.abs(t)+Math.round(t*(aY-1)))}shouldForceSelection(e){return au?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,!(e.button===2&&this.hasSelection)&&e.button===0){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):e.detail===1?this._handleSingleClick(e):e.detail===2?this._handleDoubleClick(e):e.detail===3&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),lY)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&t.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(au&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let s=this._bufferService.buffer;if(this._model.selectionEnd[1]<s.lines.length){let r=s.lines.get(this._model.selectionEnd[1]);r&&r.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!t||t[0]!==this._model.selectionEnd[0]||t[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<cY&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let s=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(s&&s[0]!==void 0&&s[1]!==void 0){let r=Jq(s[0]-1,s[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(r,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,s=!!e&&!!t&&(e[0]!==t[0]||e[1]!==t[1]);if(!s){this._oldHasSelection&&this._fireOnSelectionChange(e,t,s);return}!e||!t||(!this._oldSelectionStart||!this._oldSelectionEnd||e[0]!==this._oldSelectionStart[0]||e[1]!==this._oldSelectionStart[1]||t[0]!==this._oldSelectionEnd[0]||t[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(e,t,s)}_fireOnSelectionChange(e,t,s){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=s,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(t=>this._handleTrim(t))}_convertViewportColToCharacterIndex(e,t){let s=t;for(let r=0;t>=r;r++){let n=e.loadCell(r,this._workCell).getChars().length;this._workCell.getWidth()===0?s--:n>1&&t!==r&&(s+=n-1)}return s}setSelection(e,t,s){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=s,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,s=!0,r=!0){if(e[0]>=this._bufferService.cols)return;let n=this._bufferService.buffer,i=n.lines.get(e[1]);if(!i)return;let o=n.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(i,e[0]),l=a,c=e[0]-a,u=0,d=0,f=0,m=0;if(o.charAt(a)===" "){for(;a>0&&o.charAt(a-1)===" ";)a--;for(;l<o.length&&o.charAt(l+1)===" ";)l++}else{let y=e[0],x=e[0];i.getWidth(y)===0&&(u++,y--),i.getWidth(x)===2&&(d++,x++);let b=i.getString(x).length;for(b>1&&(m+=b-1,l+=b-1);y>0&&a>0&&!this._isCharWordSeparator(i.loadCell(y-1,this._workCell));){i.loadCell(y-1,this._workCell);let _=this._workCell.getChars().length;this._workCell.getWidth()===0?(u++,y--):_>1&&(f+=_-1,a-=_-1),a--,y--}for(;x<i.length&&l+1<o.length&&!this._isCharWordSeparator(i.loadCell(x+1,this._workCell));){i.loadCell(x+1,this._workCell);let _=this._workCell.getChars().length;this._workCell.getWidth()===2?(d++,x++):_>1&&(m+=_-1,l+=_-1),l++,x++}}l++;let p=a+c-u+f,v=Math.min(this._bufferService.cols,l-a+u+d-f-m);if(!(!t&&o.slice(a,l).trim()==="")){if(s&&p===0&&i.getCodePoint(0)!==32){let y=n.lines.get(e[1]-1);if(y&&i.isWrapped&&y.getCodePoint(this._bufferService.cols-1)!==32){let x=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(x){let b=this._bufferService.cols-x.start;p-=b,v+=b}}}if(r&&p+v===this._bufferService.cols&&i.getCodePoint(this._bufferService.cols-1)!==32){let y=n.lines.get(e[1]+1);if(y!=null&&y.isWrapped&&y.getCodePoint(0)!==32){let x=this._getWordAt([0,e[1]+1],!1,!1,!0);x&&(v+=x.length)}}return{start:p,length:v}}}_selectWordAt(e,t){let s=this._getWordAt(e,t);if(s){for(;s.start<0;)s.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[s.start,e[1]],this._model.selectionStartLength=s.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let s=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,s--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,s++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,s]}}_isCharWordSeparator(e){return e.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),s={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=b2(s,this._bufferService.cols)}};Wg=$e([q(3,Bt),q(4,xi),q(5,ox),q(6,It),q(7,Mr),q(8,Lr)],Wg);var w2=class{constructor(){this._data={}}set(e,t,s){this._data[e]||(this._data[e]={}),this._data[e][t]=s}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}},S2=class{constructor(){this._color=new w2,this._css=new w2}setCss(e,t,s){this._css.set(e,t,s)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,s){this._color.set(e,t,s)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}},Ze=Object.freeze((()=>{let e=[Te.toColor("#2e3436"),Te.toColor("#cc0000"),Te.toColor("#4e9a06"),Te.toColor("#c4a000"),Te.toColor("#3465a4"),Te.toColor("#75507b"),Te.toColor("#06989a"),Te.toColor("#d3d7cf"),Te.toColor("#555753"),Te.toColor("#ef2929"),Te.toColor("#8ae234"),Te.toColor("#fce94f"),Te.toColor("#729fcf"),Te.toColor("#ad7fa8"),Te.toColor("#34e2e2"),Te.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let s=0;s<216;s++){let r=t[s/36%6|0],n=t[s/6%6|0],i=t[s%6];e.push({css:Ye.toCss(r,n,i),rgba:Ye.toRgba(r,n,i)})}for(let s=0;s<24;s++){let r=8+s*10;e.push({css:Ye.toCss(r,r,r),rgba:Ye.toRgba(r,r,r)})}return e})()),Bn=Te.toColor("#ffffff"),ha=Te.toColor("#000000"),C2=Te.toColor("#ffffff"),k2=ha,Go={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},dY=Bn,Ug=class extends oe{constructor(e){super(),this._optionsService=e,this._contrastCache=new S2,this._halfContrastCache=new S2,this._onChangeColors=this._register(new W),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:Bn,background:ha,cursor:C2,cursorAccent:k2,selectionForeground:void 0,selectionBackgroundTransparent:Go,selectionBackgroundOpaque:Ce.blend(ha,Go),selectionInactiveBackgroundTransparent:Go,selectionInactiveBackgroundOpaque:Ce.blend(ha,Go),scrollbarSliderBackground:Ce.opacity(Bn,.2),scrollbarSliderHoverBackground:Ce.opacity(Bn,.4),scrollbarSliderActiveBackground:Ce.opacity(Bn,.5),overviewRulerBorder:Bn,ansi:Ze.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(e={}){let t=this._colors;if(t.foreground=xe(e.foreground,Bn),t.background=xe(e.background,ha),t.cursor=Ce.blend(t.background,xe(e.cursor,C2)),t.cursorAccent=Ce.blend(t.background,xe(e.cursorAccent,k2)),t.selectionBackgroundTransparent=xe(e.selectionBackground,Go),t.selectionBackgroundOpaque=Ce.blend(t.background,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundTransparent=xe(e.selectionInactiveBackground,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundOpaque=Ce.blend(t.background,t.selectionInactiveBackgroundTransparent),t.selectionForeground=e.selectionForeground?xe(e.selectionForeground,x2):void 0,t.selectionForeground===x2&&(t.selectionForeground=void 0),Ce.isOpaque(t.selectionBackgroundTransparent)&&(t.selectionBackgroundTransparent=Ce.opacity(t.selectionBackgroundTransparent,.3)),Ce.isOpaque(t.selectionInactiveBackgroundTransparent)&&(t.selectionInactiveBackgroundTransparent=Ce.opacity(t.selectionInactiveBackgroundTransparent,.3)),t.scrollbarSliderBackground=xe(e.scrollbarSliderBackground,Ce.opacity(t.foreground,.2)),t.scrollbarSliderHoverBackground=xe(e.scrollbarSliderHoverBackground,Ce.opacity(t.foreground,.4)),t.scrollbarSliderActiveBackground=xe(e.scrollbarSliderActiveBackground,Ce.opacity(t.foreground,.5)),t.overviewRulerBorder=xe(e.overviewRulerBorder,dY),t.ansi=Ze.slice(),t.ansi[0]=xe(e.black,Ze[0]),t.ansi[1]=xe(e.red,Ze[1]),t.ansi[2]=xe(e.green,Ze[2]),t.ansi[3]=xe(e.yellow,Ze[3]),t.ansi[4]=xe(e.blue,Ze[4]),t.ansi[5]=xe(e.magenta,Ze[5]),t.ansi[6]=xe(e.cyan,Ze[6]),t.ansi[7]=xe(e.white,Ze[7]),t.ansi[8]=xe(e.brightBlack,Ze[8]),t.ansi[9]=xe(e.brightRed,Ze[9]),t.ansi[10]=xe(e.brightGreen,Ze[10]),t.ansi[11]=xe(e.brightYellow,Ze[11]),t.ansi[12]=xe(e.brightBlue,Ze[12]),t.ansi[13]=xe(e.brightMagenta,Ze[13]),t.ansi[14]=xe(e.brightCyan,Ze[14]),t.ansi[15]=xe(e.brightWhite,Ze[15]),e.extendedAnsi){let s=Math.min(t.ansi.length-16,e.extendedAnsi.length);for(let r=0;r<s;r++)t.ansi[r+16]=xe(e.extendedAnsi[r],Ze[r+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(e===void 0){for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t];return}switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Ug=$e([q(0,It)],Ug);function xe(e,t){if(e!==void 0)try{return Te.toColor(e)}catch{}return t}var fY=class{constructor(...e){this._entries=new Map;for(let[t,s]of e)this.set(t,s)}set(e,t){let s=this._entries.get(e);return this._entries.set(e,t),s}forEach(e){for(let[t,s]of this._entries.entries())e(t,s)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}},pY=class{constructor(){this._services=new fY,this._services.set(ix,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let s=aK(e).sort((i,o)=>i.index-o.index),r=[];for(let i of s){let o=this._services.get(i.id);if(!o)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${i.id._id}.`);r.push(o)}let n=s.length>0?s[0].index:t.length;if(t.length!==n)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${n+1} conflicts with ${t.length} static arguments`);return new e(...t,...r)}},mY={trace:0,debug:1,info:2,warn:3,error:4,off:5},gY="xterm.js: ",Kg=class extends oe{constructor(e){super(),this._optionsService=e,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=mY[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)typeof e[t]=="function"&&(e[t]=e[t]())}_log(e,t,s){this._evalLazyOptionalParams(s),e.call(console,(this._optionsService.options.logger?"":gY)+t,...s)}trace(e,...t){var s;this._logLevel<=0&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.trace.bind(this._optionsService.options.logger))??console.log,e,t)}debug(e,...t){var s;this._logLevel<=1&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.debug.bind(this._optionsService.options.logger))??console.log,e,t)}info(e,...t){var s;this._logLevel<=2&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.info.bind(this._optionsService.options.logger))??console.info,e,t)}warn(e,...t){var s;this._logLevel<=3&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.warn.bind(this._optionsService.options.logger))??console.warn,e,t)}error(e,...t){var s;this._logLevel<=4&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.error.bind(this._optionsService.options.logger))??console.error,e,t)}};Kg=$e([q(0,It)],Kg);var E2=class extends oe{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this._register(new W),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new W),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new W),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=new Array(e);for(let s=0;s<Math.min(e,this.length);s++)t[s]=this._array[this._getCyclicIndex(s)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...s){if(t){for(let r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+s.length)]=this._array[this._getCyclicIndex(r)];for(let r=0;r<s.length;r++)this._array[this._getCyclicIndex(e+r)]=s[r];if(s.length&&this.onInsertEmitter.fire({index:e,amount:s.length}),this._length+s.length>this._maxLength){let r=this._length+s.length-this._maxLength;this._startIndex+=r,this._length=this._maxLength,this.onTrimEmitter.fire(r)}else this._length+=s.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,s){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+s<0)throw new Error("Cannot shift elements in list beyond index 0");if(s>0){for(let n=t-1;n>=0;n--)this.set(e+n+s,this.get(e+n));let r=e+t+s-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<t;r++)this.set(e+r+s,this.get(e+r))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}},ie=3,Ke=Object.freeze(new Ml),jc=0,bp=2,ua=class Oj{constructor(t,s,r=!1){this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(t*ie);let n=s||_s.fromCharData([0,Z3,1,0]);for(let i=0;i<t;++i)this.setCell(i,n);this.length=t}get(t){let s=this._data[t*ie+0],r=s&2097151;return[this._data[t*ie+1],s&2097152?this._combined[t]:r?Vr(r):"",s>>22,s&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):r]}set(t,s){this._data[t*ie+1]=s[0],s[1].length>1?(this._combined[t]=s[1],this._data[t*ie+0]=t|2097152|s[2]<<22):this._data[t*ie+0]=s[1].charCodeAt(0)|s[2]<<22}getWidth(t){return this._data[t*ie+0]>>22}hasWidth(t){return this._data[t*ie+0]&12582912}getFg(t){return this._data[t*ie+1]}getBg(t){return this._data[t*ie+2]}hasContent(t){return this._data[t*ie+0]&4194303}getCodePoint(t){let s=this._data[t*ie+0];return s&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):s&2097151}isCombined(t){return this._data[t*ie+0]&2097152}getString(t){let s=this._data[t*ie+0];return s&2097152?this._combined[t]:s&2097151?Vr(s&2097151):""}isProtected(t){return this._data[t*ie+2]&536870912}loadCell(t,s){return jc=t*ie,s.content=this._data[jc+0],s.fg=this._data[jc+1],s.bg=this._data[jc+2],s.content&2097152&&(s.combinedData=this._combined[t]),s.bg&268435456&&(s.extended=this._extendedAttrs[t]),s}setCell(t,s){s.content&2097152&&(this._combined[t]=s.combinedData),s.bg&268435456&&(this._extendedAttrs[t]=s.extended),this._data[t*ie+0]=s.content,this._data[t*ie+1]=s.fg,this._data[t*ie+2]=s.bg}setCellFromCodepoint(t,s,r,n){n.bg&268435456&&(this._extendedAttrs[t]=n.extended),this._data[t*ie+0]=s|r<<22,this._data[t*ie+1]=n.fg,this._data[t*ie+2]=n.bg}addCodepointToCell(t,s,r){let n=this._data[t*ie+0];n&2097152?this._combined[t]+=Vr(s):n&2097151?(this._combined[t]=Vr(n&2097151)+Vr(s),n&=-2097152,n|=2097152):n=s|1<<22,r&&(n&=-12582913,n|=r<<22),this._data[t*ie+0]=n}insertCells(t,s,r){if(t%=this.length,t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,r),s<this.length-t){let n=new _s;for(let i=this.length-t-s-1;i>=0;--i)this.setCell(t+s+i,this.loadCell(t+i,n));for(let i=0;i<s;++i)this.setCell(t+i,r)}else for(let n=t;n<this.length;++n)this.setCell(n,r);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,r)}deleteCells(t,s,r){if(t%=this.length,s<this.length-t){let n=new _s;for(let i=0;i<this.length-t-s;++i)this.setCell(t+i,this.loadCell(t+s+i,n));for(let i=this.length-s;i<this.length;++i)this.setCell(i,r)}else for(let n=t;n<this.length;++n)this.setCell(n,r);t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,r),this.getWidth(t)===0&&!this.hasContent(t)&&this.setCellFromCodepoint(t,0,1,r)}replaceCells(t,s,r,n=!1){if(n){for(t&&this.getWidth(t-1)===2&&!this.isProtected(t-1)&&this.setCellFromCodepoint(t-1,0,1,r),s<this.length&&this.getWidth(s-1)===2&&!this.isProtected(s)&&this.setCellFromCodepoint(s,0,1,r);t<s&&t<this.length;)this.isProtected(t)||this.setCell(t,r),t++;return}for(t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,r),s<this.length&&this.getWidth(s-1)===2&&this.setCellFromCodepoint(s,0,1,r);t<s&&t<this.length;)this.setCell(t++,r)}resize(t,s){if(t===this.length)return this._data.length*4*bp<this._data.buffer.byteLength;let r=t*ie;if(t>this.length){if(this._data.buffer.byteLength>=r*4)this._data=new Uint32Array(this._data.buffer,0,r);else{let n=new Uint32Array(r);n.set(this._data),this._data=n}for(let n=this.length;n<t;++n)this.setCell(n,s)}else{this._data=this._data.subarray(0,r);let n=Object.keys(this._combined);for(let o=0;o<n.length;o++){let a=parseInt(n[o],10);a>=t&&delete this._combined[a]}let i=Object.keys(this._extendedAttrs);for(let o=0;o<i.length;o++){let a=parseInt(i[o],10);a>=t&&delete this._extendedAttrs[a]}}return this.length=t,r*4*bp<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*bp<this._data.buffer.byteLength){let t=new Uint32Array(this._data.length);return t.set(this._data),this._data=t,1}return 0}fill(t,s=!1){if(s){for(let r=0;r<this.length;++r)this.isProtected(r)||this.setCell(r,t);return}this._combined={},this._extendedAttrs={};for(let r=0;r<this.length;++r)this.setCell(r,t)}copyFrom(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(let s in t._combined)this._combined[s]=t._combined[s];this._extendedAttrs={};for(let s in t._extendedAttrs)this._extendedAttrs[s]=t._extendedAttrs[s];this.isWrapped=t.isWrapped}clone(){let t=new Oj(0);t._data=new Uint32Array(this._data),t.length=this.length;for(let s in this._combined)t._combined[s]=this._combined[s];for(let s in this._extendedAttrs)t._extendedAttrs[s]=this._extendedAttrs[s];return t.isWrapped=this.isWrapped,t}getTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303)return t+(this._data[t*ie+0]>>22);return 0}getNoBgTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303||this._data[t*ie+2]&50331648)return t+(this._data[t*ie+0]>>22);return 0}copyCellsFrom(t,s,r,n,i){let o=t._data;if(i)for(let l=n-1;l>=0;l--){for(let c=0;c<ie;c++)this._data[(r+l)*ie+c]=o[(s+l)*ie+c];o[(s+l)*ie+2]&268435456&&(this._extendedAttrs[r+l]=t._extendedAttrs[s+l])}else for(let l=0;l<n;l++){for(let c=0;c<ie;c++)this._data[(r+l)*ie+c]=o[(s+l)*ie+c];o[(s+l)*ie+2]&268435456&&(this._extendedAttrs[r+l]=t._extendedAttrs[s+l])}let a=Object.keys(t._combined);for(let l=0;l<a.length;l++){let c=parseInt(a[l],10);c>=s&&(this._combined[c-s+r]=t._combined[c])}}translateToString(t,s,r,n){s=s??0,r=r??this.length,t&&(r=Math.min(r,this.getTrimmedLength())),n&&(n.length=0);let i="";for(;s<r;){let o=this._data[s*ie+0],a=o&2097151,l=o&2097152?this._combined[s]:a?Vr(a):Jr;if(i+=l,n)for(let c=0;c<l.length;++c)n.push(s);s+=o>>22||1}return n&&n.push(s),i}};function vY(e,t,s,r,n,i){let o=[];for(let a=0;a<e.length-1;a++){let l=a,c=e.get(++l);if(!c.isWrapped)continue;let u=[e.get(a)];for(;l<e.length&&c.isWrapped;)u.push(c),c=e.get(++l);if(!i&&r>=a&&r<l){a+=u.length-1;continue}let d=0,f=pl(u,d,t),m=1,p=0;for(;m<u.length;){let y=pl(u,m,t),x=y-p,b=s-f,_=Math.min(x,b);u[d].copyCellsFrom(u[m],p,f,_,!1),f+=_,f===s&&(d++,f=0),p+=_,p===y&&(m++,p=0),f===0&&d!==0&&u[d-1].getWidth(s-1)===2&&(u[d].copyCellsFrom(u[d-1],s-1,f++,1,!1),u[d-1].setCell(s-1,n))}u[d].replaceCells(f,s,n);let v=0;for(let y=u.length-1;y>0&&(y>d||u[y].getTrimmedLength()===0);y--)v++;v>0&&(o.push(a+u.length-v),o.push(v)),a+=u.length-1}return o}function xY(e,t){let s=[],r=0,n=t[r],i=0;for(let o=0;o<e.length;o++)if(n===o){let a=t[++r];e.onDeleteEmitter.fire({index:o-i,amount:a}),o+=a-1,i+=a,n=t[++r]}else s.push(o);return{layout:s,countRemoved:i}}function yY(e,t){let s=[];for(let r=0;r<t.length;r++)s.push(e.get(t[r]));for(let r=0;r<s.length;r++)e.set(r,s[r]);e.length=t.length}function _Y(e,t,s){let r=[],n=e.map((l,c)=>pl(e,c,t)).reduce((l,c)=>l+c),i=0,o=0,a=0;for(;a<n;){if(n-a<s){r.push(n-a);break}i+=s;let l=pl(e,o,t);i>l&&(i-=l,o++);let c=e[o].getWidth(i-1)===2;c&&i--;let u=c?s-1:s;r.push(u),a+=u}return r}function pl(e,t,s){if(t===e.length-1)return e[t].getTrimmedLength();let r=!e[t].hasContent(s-1)&&e[t].getWidth(s-1)===1,n=e[t+1].getWidth(0)===2;return r&&n?s-1:s}var Rj=class Dj{constructor(t){this.line=t,this.isDisposed=!1,this._disposables=[],this._id=Dj._nextId++,this._onDispose=this.register(new W),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),di(this._disposables),this._disposables.length=0)}register(t){return this._disposables.push(t),t}};Rj._nextId=1;var bY=Rj,nt={},In=nt.B;nt[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};nt.A={"#":""};nt.B=void 0;nt[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};nt.C=nt[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};nt.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};nt.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};nt.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};nt.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};nt.E=nt[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};nt.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};nt.H=nt[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};nt["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var N2=4294967295,j2=class{constructor(e,t,s){this._hasScrollback=e,this._optionsService=t,this._bufferService=s,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=Ke.clone(),this.savedCharset=In,this.markers=[],this._nullCell=_s.fromCharData([0,Z3,1,0]),this._whitespaceCell=_s.fromCharData([0,Jr,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new lu,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new E2(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new nu),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new nu),this._whitespaceCell}getBlankLine(e,t){return new ua(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let t=e+this._optionsService.rawOptions.scrollback;return t>N2?N2:t}fillViewportRows(e){if(this.lines.length===0){e===void 0&&(e=Ke);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new E2(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let s=this.getNullCell(Ke),r=0,n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(let o=0;o<this.lines.length;o++)r+=+this.lines.get(o).resize(e,s);let i=0;if(this._rows<t)for(let o=this._rows;o<t;o++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new ua(e,s)):this.ybase>0&&this.lines.length<=this.ybase+this.y+i+1?(this.ybase--,i++,this.ydisp>0&&this.ydisp--):this.lines.push(new ua(e,s)));else for(let o=this._rows;o>t;o--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){let o=this.lines.length-n;o>0&&(this.lines.trimStart(o),this.ybase=Math.max(this.ybase-o,0),this.ydisp=Math.max(this.ydisp-o,0),this.savedY=Math.max(this.savedY-o,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),i&&(this.y+=i),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let i=0;i<this.lines.length;i++)r+=+this.lines.get(i).resize(e,s);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),r>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&e.backend==="conpty"&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let s=this._optionsService.rawOptions.reflowCursorLine,r=vY(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(Ke),s);if(r.length>0){let n=xY(this.lines,r);yY(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}}_reflowLargerAdjustViewport(e,t,s){let r=this.getNullCell(Ke),n=s;for(;n-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new ua(e,r))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-s,0)}_reflowSmaller(e,t){let s=this._optionsService.rawOptions.reflowCursorLine,r=this.getNullCell(Ke),n=[],i=0;for(let o=this.lines.length-1;o>=0;o--){let a=this.lines.get(o);if(!a||!a.isWrapped&&a.getTrimmedLength()<=e)continue;let l=[a];for(;a.isWrapped&&o>0;)a=this.lines.get(--o),l.unshift(a);if(!s){let _=this.ybase+this.y;if(_>=o&&_<o+l.length)continue}let c=l[l.length-1].getTrimmedLength(),u=_Y(l,this._cols,e),d=u.length-l.length,f;this.ybase===0&&this.y!==this.lines.length-1?f=Math.max(0,this.y-this.lines.maxLength+d):f=Math.max(0,this.lines.length-this.lines.maxLength+d);let m=[];for(let _=0;_<d;_++){let w=this.getBlankLine(Ke,!0);m.push(w)}m.length>0&&(n.push({start:o+l.length+i,newLines:m}),i+=m.length),l.push(...m);let p=u.length-1,v=u[p];v===0&&(p--,v=u[p]);let y=l.length-d-1,x=c;for(;y>=0;){let _=Math.min(x,v);if(l[p]===void 0)break;if(l[p].copyCellsFrom(l[y],x-_,v-_,_,!0),v-=_,v===0&&(p--,v=u[p]),x-=_,x===0){y--;let w=Math.max(y,0);x=pl(l,w,this._cols)}}for(let _=0;_<l.length;_++)u[_]<e&&l[_].setCell(u[_],r);let b=d-f;for(;b-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+i)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+d,this.ybase+t-1)}if(n.length>0){let o=[],a=[];for(let v=0;v<this.lines.length;v++)a.push(this.lines.get(v));let l=this.lines.length,c=l-1,u=0,d=n[u];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+i);let f=0;for(let v=Math.min(this.lines.maxLength-1,l+i-1);v>=0;v--)if(d&&d.start>c+f){for(let y=d.newLines.length-1;y>=0;y--)this.lines.set(v--,d.newLines[y]);v++,o.push({index:c+1,amount:d.newLines.length}),f+=d.newLines.length,d=n[++u]}else this.lines.set(v,a[c--]);let m=0;for(let v=o.length-1;v>=0;v--)o[v].index+=m,this.lines.onInsertEmitter.fire(o[v]),m+=o[v].amount;let p=Math.max(0,l+i-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(e,t,s=0,r){let n=this.lines.get(e);return n?n.translateToString(t,s,r):""}getWrappedRangeForLine(e){let t=e,s=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;s+1<this.lines.length&&this.lines.get(s+1).isWrapped;)s++;return{first:t,last:s}}setupTabStops(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose();this.markers.length=0,this._isClearing=!1}addMarker(e){let t=new bY(e);return this.markers.push(t),t.register(this.lines.onTrim(s=>{t.line-=s,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(s=>{t.line>=s.index&&(t.line+=s.amount)})),t.register(this.lines.onDelete(s=>{t.line>=s.index&&t.line<s.index+s.amount&&t.dispose(),t.line>s.index&&(t.line-=s.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}},wY=class extends oe{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this._register(new W),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new j2(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new j2(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}},Aj=2,Bj=1,qg=class extends oe{constructor(e){super(),this.isUserScrolling=!1,this._onResize=this._register(new W),this.onResize=this._onResize.event,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,Aj),this.rows=Math.max(e.rawOptions.rows||0,Bj),this.buffers=this._register(new wY(e,this)),this._register(this.buffers.onBufferActivate(t=>{this._onScroll.fire(t.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(e,t){let s=this.cols!==e,r=this.rows!==t;this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t,colsChanged:s,rowsChanged:r})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let s=this.buffer,r;r=this._cachedBlankLine,(!r||r.length!==this.cols||r.getFg(0)!==e.fg||r.getBg(0)!==e.bg)&&(r=s.getBlankLine(e,t),this._cachedBlankLine=r),r.isWrapped=t;let n=s.ybase+s.scrollTop,i=s.ybase+s.scrollBottom;if(s.scrollTop===0){let o=s.lines.isFull;i===s.lines.length-1?o?s.lines.recycle().copyFrom(r):s.lines.push(r.clone()):s.lines.splice(i+1,0,r.clone()),o?this.isUserScrolling&&(s.ydisp=Math.max(s.ydisp-1,0)):(s.ybase++,this.isUserScrolling||s.ydisp++)}else{let o=i-n+1;s.lines.shiftElements(n+1,o-1,-1),s.lines.set(i,r.clone())}this.isUserScrolling||(s.ydisp=s.ybase),this._onScroll.fire(s.ydisp)}scrollLines(e,t){let s=this.buffer;if(e<0){if(s.ydisp===0)return;this.isUserScrolling=!0}else e+s.ydisp>=s.ybase&&(this.isUserScrolling=!1);let r=s.ydisp;s.ydisp=Math.max(Math.min(s.ydisp+e,s.ybase),0),r!==s.ydisp&&(t||this._onScroll.fire(s.ydisp))}};qg=$e([q(0,It)],qg);var Ci={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:au,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},SY=["normal","bold","100","200","300","400","500","600","700","800","900"],CY=class extends oe{constructor(e){super(),this._onOptionChange=this._register(new W),this.onOptionChange=this._onOptionChange.event;let t={...Ci};for(let s in e)if(s in t)try{let r=e[s];t[s]=this._sanitizeAndValidateOption(s,r)}catch(r){console.error(r)}this.rawOptions=t,this.options={...t},this._setupOptions(),this._register(je(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(e,t){return this.onOptionChange(s=>{s===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(s=>{e.indexOf(s)!==-1&&t()})}_setupOptions(){let e=s=>{if(!(s in Ci))throw new Error(`No option with key "${s}"`);return this.rawOptions[s]},t=(s,r)=>{if(!(s in Ci))throw new Error(`No option with key "${s}"`);r=this._sanitizeAndValidateOption(s,r),this.rawOptions[s]!==r&&(this.rawOptions[s]=r,this._onOptionChange.fire(s))};for(let s in this.rawOptions){let r={get:e.bind(this,s),set:t.bind(this,s)};Object.defineProperty(this.options,s,r)}}_sanitizeAndValidateOption(e,t){switch(e){case"cursorStyle":if(t||(t=Ci[e]),!kY(t))throw new Error(`"${t}" is not a valid value for ${e}`);break;case"wordSeparator":t||(t=Ci[e]);break;case"fontWeight":case"fontWeightBold":if(typeof t=="number"&&1<=t&&t<=1e3)break;t=SY.includes(t)?t:Ci[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(`${e} cannot be less than 1, value: ${t}`);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(t*10)/10));break;case"scrollback":if(t=Math.min(t,4294967295),t<0)throw new Error(`${e} cannot be less than 0, value: ${t}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${t}`);break;case"rows":case"cols":if(!t&&t!==0)throw new Error(`${e} must be numeric, value: ${t}`);break;case"windowsPty":t=t??{};break}return t}};function kY(e){return e==="block"||e==="underline"||e==="bar"}function da(e,t=5){if(typeof e!="object")return e;let s=Array.isArray(e)?[]:{};for(let r in e)s[r]=t<=1?e[r]:e[r]&&da(e[r],t-1);return s}var P2=Object.freeze({insertMode:!1}),T2=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),Yg=class extends oe{constructor(e,t,s){super(),this._bufferService=e,this._logService=t,this._optionsService=s,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new W),this.onData=this._onData.event,this._onUserInput=this._register(new W),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new W),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new W),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=da(P2),this.decPrivateModes=da(T2)}reset(){this.modes=da(P2),this.decPrivateModes=da(T2)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;let s=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&s.ybase!==s.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`),this._logService.trace("sending data (codes)",()=>e.split("").map(r=>r.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`),this._logService.trace("sending binary (codes)",()=>e.split("").map(t=>t.charCodeAt(0))),this._onBinary.fire(e))}};Yg=$e([q(0,Bt),q(1,rj),q(2,It)],Yg);var L2={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>e.button===4||e.action!==1?!1:(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>e.action!==32},DRAG:{events:23,restrict:e=>!(e.action===32&&e.button===3)},ANY:{events:31,restrict:e=>!0}};function wp(e,t){let s=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return e.button===4?(s|=64,s|=e.action):(s|=e.button&3,e.button&4&&(s|=64),e.button&8&&(s|=128),e.action===32?s|=32:e.action===0&&!t&&(s|=3)),s}var Sp=String.fromCharCode,M2={DEFAULT:e=>{let t=[wp(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1B[M${Sp(t[0])}${Sp(t[1])}${Sp(t[2])}`},SGR:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${wp(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${wp(e,!0)};${e.x};${e.y}${t}`}},Xg=class extends oe{constructor(e,t,s){super(),this._bufferService=e,this._coreService=t,this._optionsService=s,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new W),this.onProtocolChange=this._onProtocolChange.event;for(let r of Object.keys(L2))this.addProtocol(r,L2[r]);for(let r of Object.keys(M2))this.addEncoding(r,M2[r]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(e,t,s){if(e.deltaY===0||e.shiftKey||t===void 0||s===void 0)return 0;let r=t/s,n=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(n/=r+0,Math.abs(e.deltaY)<50&&(n*=.3),this._wheelPartialScroll+=n,n=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._bufferService.rows),n}_applyScrollModifier(e,t){return t.altKey||t.ctrlKey||t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,e,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(e&1),up:!!(e&2),drag:!!(e&4),move:!!(e&8),wheel:!!(e&16)}}_equalEvents(e,t,s){if(s){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return!(e.button!==t.button||e.action!==t.action||e.ctrl!==t.ctrl||e.alt!==t.alt||e.shift!==t.shift)}};Xg=$e([q(0,Bt),q(1,xi),q(2,It)],Xg);var Cp=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],EY=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],Je;function NY(e,t){let s=0,r=t.length-1,n;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=s;)if(n=s+r>>1,e>t[n][1])s=n+1;else if(e<t[n][0])r=n-1;else return!0;return!1}var jY=class{constructor(){if(this.version="6",!Je){Je=new Uint8Array(65536),Je.fill(1),Je[0]=0,Je.fill(0,1,32),Je.fill(0,127,160),Je.fill(2,4352,4448),Je[9001]=2,Je[9002]=2,Je.fill(2,11904,42192),Je[12351]=1,Je.fill(2,44032,55204),Je.fill(2,63744,64256),Je.fill(2,65040,65050),Je.fill(2,65072,65136),Je.fill(2,65280,65377),Je.fill(2,65504,65511);for(let e=0;e<Cp.length;++e)Je.fill(0,Cp[e][0],Cp[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?Je[e]:NY(e,EY)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let s=this.wcwidth(e),r=s===0&&t!==0;if(r){let n=Xn.extractWidth(t);n===0?r=!1:n>s&&(s=n)}return Xn.createPropertyValue(0,s,r)}},Xn=class dh{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new W,this.onChange=this._onChange.event;let t=new jY;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,s,r=!1){return(t&16777215)<<3|(s&3)<<1|(r?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let s=0,r=0,n=t.length;for(let i=0;i<n;++i){let o=t.charCodeAt(i);if(55296<=o&&o<=56319){if(++i>=n)return s+this.wcwidth(o);let c=t.charCodeAt(i);56320<=c&&c<=57343?o=(o-55296)*1024+c-56320+65536:s+=this.wcwidth(c)}let a=this.charProperties(o,r),l=dh.extractWidth(a);dh.extractShouldJoin(a)&&(l-=dh.extractWidth(r)),s+=l,r=a}return s}charProperties(t,s){return this._activeProvider.charProperties(t,s)}},PY=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}};function O2(e){var r;let t=(r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1))==null?void 0:r.get(e.cols-1),s=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);s&&t&&(s.isWrapped=t[3]!==0&&t[3]!==32)}var Qo=2147483647,TY=256,Ij=class Gg{constructor(t=32,s=32){if(this.maxLength=t,this.maxSubParamsLength=s,s>TY)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(t),this.length=0,this._subParams=new Int32Array(s),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(t),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(t){let s=new Gg;if(!t.length)return s;for(let r=Array.isArray(t[0])?1:0;r<t.length;++r){let n=t[r];if(Array.isArray(n))for(let i=0;i<n.length;++i)s.addSubParam(n[i]);else s.addParam(n)}return s}clone(){let t=new Gg(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t}toArray(){let t=[];for(let s=0;s<this.length;++s){t.push(this.params[s]);let r=this._subParamsIdx[s]>>8,n=this._subParamsIdx[s]&255;n-r>0&&t.push(Array.prototype.slice.call(this._subParams,r,n))}return t}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(t){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=t>Qo?Qo:t}addSubParam(t){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=t>Qo?Qo:t,this._subParamsIdx[this.length-1]++}}hasSubParams(t){return(this._subParamsIdx[t]&255)-(this._subParamsIdx[t]>>8)>0}getSubParams(t){let s=this._subParamsIdx[t]>>8,r=this._subParamsIdx[t]&255;return r-s>0?this._subParams.subarray(s,r):null}getSubParamsAll(){let t={};for(let s=0;s<this.length;++s){let r=this._subParamsIdx[s]>>8,n=this._subParamsIdx[s]&255;n-r>0&&(t[s]=this._subParams.slice(r,n))}return t}addDigit(t){let s;if(this._rejectDigits||!(s=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let r=this._digitIsSub?this._subParams:this.params,n=r[s-1];r[s-1]=~n?Math.min(n*10+t,Qo):t}},Zo=[],LY=class{constructor(){this._state=0,this._active=Zo,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let s=this._handlers[e];return s.push(t),{dispose:()=>{let r=s.indexOf(t);r!==-1&&s.splice(r,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Zo}reset(){if(this._state===2)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=Zo,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Zo,!this._active.length)this._handlerFb(this._id,"START");else for(let e=this._active.length-1;e>=0;e--)this._active[e].start()}_put(e,t,s){if(!this._active.length)this._handlerFb(this._id,"PUT",Xu(e,t,s));else for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,s)}start(){this.reset(),this._state=1}put(e,t,s){if(this._state!==3){if(this._state===1)for(;t<s;){let r=e[t++];if(r===59){this._state=2,this._start();break}if(r<48||57<r){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+r-48}this._state===2&&s-t>0&&this._put(e,t,s)}}end(e,t=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",e);else{let s=!1,r=this._active.length-1,n=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,s=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&s===!1){for(;r>=0&&(s=this._active[r].end(e),s!==!0);r--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,s;r--}for(;r>=0;r--)if(s=this._active[r].end(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,s}this._active=Zo,this._id=-1,this._state=0}}},Qt=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,s){this._hitLimit||(this._data+=Xu(e,t,s),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(s=>(this._data="",this._hitLimit=!1,s));return this._data="",this._hitLimit=!1,t}},Jo=[],MY=class{constructor(){this._handlers=Object.create(null),this._active=Jo,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Jo}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let s=this._handlers[e];return s.push(t),{dispose:()=>{let r=s.indexOf(t);r!==-1&&s.splice(r,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=Jo,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||Jo,!this._active.length)this._handlerFb(this._ident,"HOOK",t);else for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(t)}put(e,t,s){if(!this._active.length)this._handlerFb(this._ident,"PUT",Xu(e,t,s));else for(let r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,s)}unhook(e,t=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",e);else{let s=!1,r=this._active.length-1,n=!1;if(this._stack.paused&&(r=this._stack.loopPosition-1,s=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&s===!1){for(;r>=0&&(s=this._active[r].unhook(e),s!==!0);r--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!1,s;r--}for(;r>=0;r--)if(s=this._active[r].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=r,this._stack.fallThrough=!0,s}this._active=Jo,this._ident=0}},fa=new Ij;fa.addParam(0);var R2=class{constructor(e){this._handler=e,this._data="",this._params=fa,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():fa,this._data="",this._hitLimit=!1}put(e,t,s){this._hitLimit||(this._data+=Xu(e,t,s),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(s=>(this._params=fa,this._data="",this._hitLimit=!1,s));return this._params=fa,this._data="",this._hitLimit=!1,t}},OY=class{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,s,r){this.table[t<<8|e]=s<<4|r}addMany(e,t,s,r){for(let n=0;n<e.length;n++)this.table[t<<8|e[n]]=s<<4|r}},hs=160,RY=function(){let e=new OY(4095),t=Array.apply(null,Array(256)).map((a,l)=>l),s=(a,l)=>t.slice(a,l),r=s(32,127),n=s(0,24);n.push(25),n.push.apply(n,s(28,32));let i=s(0,14),o;e.setDefault(1,0),e.addMany(r,0,2,0);for(o in i)e.addMany([24,26,153,154],o,3,0),e.addMany(s(128,144),o,3,0),e.addMany(s(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(r,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(s(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(r,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(s(64,127),3,7,0),e.addMany(s(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(s(48,60),4,8,4),e.addMany(s(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(s(32,64),6,0,6),e.add(127,6,0,6),e.addMany(s(64,127),6,0,0),e.addMany(s(32,48),3,9,5),e.addMany(s(32,48),5,9,5),e.addMany(s(48,64),5,0,6),e.addMany(s(64,127),5,7,0),e.addMany(s(32,48),4,9,5),e.addMany(s(32,48),1,9,2),e.addMany(s(32,48),2,9,2),e.addMany(s(48,127),2,10,0),e.addMany(s(48,80),1,10,0),e.addMany(s(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(s(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(s(28,32),9,0,9),e.addMany(s(32,48),9,9,12),e.addMany(s(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(s(32,128),11,0,11),e.addMany(s(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(s(28,32),10,0,10),e.addMany(s(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(s(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(s(28,32),12,0,12),e.addMany(s(32,48),12,9,12),e.addMany(s(48,64),12,0,11),e.addMany(s(64,127),12,12,13),e.addMany(s(64,127),10,12,13),e.addMany(s(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(r,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(hs,0,2,0),e.add(hs,8,5,8),e.add(hs,6,0,6),e.add(hs,11,0,11),e.add(hs,13,13,13),e}(),DY=class extends oe{constructor(e=RY){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new Ij,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(t,s,r)=>{},this._executeHandlerFb=t=>{},this._csiHandlerFb=(t,s)=>{},this._escHandlerFb=t=>{},this._errorHandlerFb=t=>t,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(je(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new LY),this._dcsParser=this._register(new MY),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let s=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(s=e.prefix.charCodeAt(0),s&&60>s||s>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let n=0;n<e.intermediates.length;++n){let i=e.intermediates.charCodeAt(n);if(32>i||i>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");s<<=8,s|=i}}if(e.final.length!==1)throw new Error("final must be a single byte");let r=e.final.charCodeAt(0);if(t[0]>r||r>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return s<<=8,s|=r,s}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(e&255)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let s=this._identifier(e,[48,126]);this._escHandlers[s]===void 0&&(this._escHandlers[s]=[]);let r=this._escHandlers[s];return r.push(t),{dispose:()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let s=this._identifier(e);this._csiHandlers[s]===void 0&&(this._csiHandlers[s]=[]);let r=this._csiHandlers[s];return r.push(t),{dispose:()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,s,r,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=s,this._parseStack.transition=r,this._parseStack.chunkPos=n}parse(e,t,s){let r=0,n=0,i=0,o;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,i=this._parseStack.chunkPos+1;else{if(s===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let a=this._parseStack.handlers,l=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(s===!1&&l>-1){for(;l>=0&&(o=a[l](this._params),o!==!0);l--)if(o instanceof Promise)return this._parseStack.handlerPos=l,o}this._parseStack.handlers=[];break;case 4:if(s===!1&&l>-1){for(;l>=0&&(o=a[l](),o!==!0);l--)if(o instanceof Promise)return this._parseStack.handlerPos=l,o}this._parseStack.handlers=[];break;case 6:if(r=e[this._parseStack.chunkPos],o=this._dcsParser.unhook(r!==24&&r!==26,s),o)return o;r===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(r=e[this._parseStack.chunkPos],o=this._oscParser.end(r!==24&&r!==26,s),o)return o;r===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,i=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let a=i;a<t;++a){switch(r=e[a],n=this._transitions.table[this.currentState<<8|(r<160?r:hs)],n>>4){case 2:for(let f=a+1;;++f){if(f>=t||(r=e[f])<32||r>126&&r<hs){this._printHandler(e,a,f),a=f-1;break}if(++f>=t||(r=e[f])<32||r>126&&r<hs){this._printHandler(e,a,f),a=f-1;break}if(++f>=t||(r=e[f])<32||r>126&&r<hs){this._printHandler(e,a,f),a=f-1;break}if(++f>=t||(r=e[f])<32||r>126&&r<hs){this._printHandler(e,a,f),a=f-1;break}}break;case 3:this._executeHandlers[r]?this._executeHandlers[r]():this._executeHandlerFb(r),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:a,code:r,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let l=this._csiHandlers[this._collect<<8|r],c=l?l.length-1:-1;for(;c>=0&&(o=l[c](this._params),o!==!0);c--)if(o instanceof Promise)return this._preserveStack(3,l,c,n,a),o;c<0&&this._csiHandlerFb(this._collect<<8|r,this._params),this.precedingJoinState=0;break;case 8:do switch(r){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(r-48)}while(++a<t&&(r=e[a])>47&&r<60);a--;break;case 9:this._collect<<=8,this._collect|=r;break;case 10:let u=this._escHandlers[this._collect<<8|r],d=u?u.length-1:-1;for(;d>=0&&(o=u[d](),o!==!0);d--)if(o instanceof Promise)return this._preserveStack(4,u,d,n,a),o;d<0&&this._escHandlerFb(this._collect<<8|r),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|r,this._params);break;case 13:for(let f=a+1;;++f)if(f>=t||(r=e[f])===24||r===26||r===27||r>127&&r<hs){this._dcsParser.put(e,a,f),a=f-1;break}break;case 14:if(o=this._dcsParser.unhook(r!==24&&r!==26),o)return this._preserveStack(6,[],0,n,a),o;r===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let f=a+1;;f++)if(f>=t||(r=e[f])<32||r>127&&r<hs){this._oscParser.put(e,a,f),a=f-1;break}break;case 6:if(o=this._oscParser.end(r!==24&&r!==26),o)return this._preserveStack(5,[],0,n,a),o;r===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=n&15}}},AY=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,BY=/^[\da-f]+$/;function D2(e){if(!e)return;let t=e.toLowerCase();if(t.indexOf("rgb:")===0){t=t.slice(4);let s=AY.exec(t);if(s){let r=s[1]?15:s[4]?255:s[7]?4095:65535;return[Math.round(parseInt(s[1]||s[4]||s[7]||s[10],16)/r*255),Math.round(parseInt(s[2]||s[5]||s[8]||s[11],16)/r*255),Math.round(parseInt(s[3]||s[6]||s[9]||s[12],16)/r*255)]}}else if(t.indexOf("#")===0&&(t=t.slice(1),BY.exec(t)&&[3,6,9,12].includes(t.length))){let s=t.length/3,r=[0,0,0];for(let n=0;n<3;++n){let i=parseInt(t.slice(s*n,s*n+s),16);r[n]=s===1?i<<4:s===2?i:s===3?i>>4:i>>8}return r}}function kp(e,t){let s=e.toString(16),r=s.length<2?"0"+s:s;switch(t){case 4:return s[0];case 8:return r;case 12:return(r+r).slice(0,3);default:return r+r}}function IY(e,t=16){let[s,r,n]=e;return`rgb:${kp(s,t)}/${kp(r,t)}/${kp(n,t)}`}var $Y={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Br=131072,A2=10;function B2(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var I2=5e3,$2=0,FY=class extends oe{constructor(e,t,s,r,n,i,o,a,l=new DY){super(),this._bufferService=e,this._charsetService=t,this._coreService=s,this._logService=r,this._optionsService=n,this._oscLinkService=i,this._coreMouseService=o,this._unicodeService=a,this._parser=l,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new iK,this._utf8Decoder=new oK,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=Ke.clone(),this._eraseAttrDataInternal=Ke.clone(),this._onRequestBell=this._register(new W),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new W),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new W),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new W),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new W),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new W),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new W),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new W),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new W),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new W),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new W),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new W),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new Qg(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(c=>this._activeBuffer=c.activeBuffer)),this._parser.setCsiHandlerFallback((c,u)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(c),params:u.toArray()})}),this._parser.setEscHandlerFallback(c=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(c)})}),this._parser.setExecuteHandlerFallback(c=>{this._logService.debug("Unknown EXECUTE code: ",{code:c})}),this._parser.setOscHandlerFallback((c,u,d)=>{this._logService.debug("Unknown OSC code: ",{identifier:c,action:u,data:d})}),this._parser.setDcsHandlerFallback((c,u,d)=>{u==="HOOK"&&(d=d.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(c),action:u,payload:d})}),this._parser.setPrintHandler((c,u,d)=>this.print(c,u,d)),this._parser.registerCsiHandler({final:"@"},c=>this.insertChars(c)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},c=>this.scrollLeft(c)),this._parser.registerCsiHandler({final:"A"},c=>this.cursorUp(c)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},c=>this.scrollRight(c)),this._parser.registerCsiHandler({final:"B"},c=>this.cursorDown(c)),this._parser.registerCsiHandler({final:"C"},c=>this.cursorForward(c)),this._parser.registerCsiHandler({final:"D"},c=>this.cursorBackward(c)),this._parser.registerCsiHandler({final:"E"},c=>this.cursorNextLine(c)),this._parser.registerCsiHandler({final:"F"},c=>this.cursorPrecedingLine(c)),this._parser.registerCsiHandler({final:"G"},c=>this.cursorCharAbsolute(c)),this._parser.registerCsiHandler({final:"H"},c=>this.cursorPosition(c)),this._parser.registerCsiHandler({final:"I"},c=>this.cursorForwardTab(c)),this._parser.registerCsiHandler({final:"J"},c=>this.eraseInDisplay(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},c=>this.eraseInDisplay(c,!0)),this._parser.registerCsiHandler({final:"K"},c=>this.eraseInLine(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},c=>this.eraseInLine(c,!0)),this._parser.registerCsiHandler({final:"L"},c=>this.insertLines(c)),this._parser.registerCsiHandler({final:"M"},c=>this.deleteLines(c)),this._parser.registerCsiHandler({final:"P"},c=>this.deleteChars(c)),this._parser.registerCsiHandler({final:"S"},c=>this.scrollUp(c)),this._parser.registerCsiHandler({final:"T"},c=>this.scrollDown(c)),this._parser.registerCsiHandler({final:"X"},c=>this.eraseChars(c)),this._parser.registerCsiHandler({final:"Z"},c=>this.cursorBackwardTab(c)),this._parser.registerCsiHandler({final:"`"},c=>this.charPosAbsolute(c)),this._parser.registerCsiHandler({final:"a"},c=>this.hPositionRelative(c)),this._parser.registerCsiHandler({final:"b"},c=>this.repeatPrecedingCharacter(c)),this._parser.registerCsiHandler({final:"c"},c=>this.sendDeviceAttributesPrimary(c)),this._parser.registerCsiHandler({prefix:">",final:"c"},c=>this.sendDeviceAttributesSecondary(c)),this._parser.registerCsiHandler({final:"d"},c=>this.linePosAbsolute(c)),this._parser.registerCsiHandler({final:"e"},c=>this.vPositionRelative(c)),this._parser.registerCsiHandler({final:"f"},c=>this.hVPosition(c)),this._parser.registerCsiHandler({final:"g"},c=>this.tabClear(c)),this._parser.registerCsiHandler({final:"h"},c=>this.setMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"h"},c=>this.setModePrivate(c)),this._parser.registerCsiHandler({final:"l"},c=>this.resetMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"l"},c=>this.resetModePrivate(c)),this._parser.registerCsiHandler({final:"m"},c=>this.charAttributes(c)),this._parser.registerCsiHandler({final:"n"},c=>this.deviceStatus(c)),this._parser.registerCsiHandler({prefix:"?",final:"n"},c=>this.deviceStatusPrivate(c)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},c=>this.softReset(c)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},c=>this.setCursorStyle(c)),this._parser.registerCsiHandler({final:"r"},c=>this.setScrollRegion(c)),this._parser.registerCsiHandler({final:"s"},c=>this.saveCursor(c)),this._parser.registerCsiHandler({final:"t"},c=>this.windowOptions(c)),this._parser.registerCsiHandler({final:"u"},c=>this.restoreCursor(c)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},c=>this.insertColumns(c)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},c=>this.deleteColumns(c)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},c=>this.selectProtected(c)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},c=>this.requestMode(c,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},c=>this.requestMode(c,!1)),this._parser.setExecuteHandler(I.BEL,()=>this.bell()),this._parser.setExecuteHandler(I.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(I.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(I.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(I.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(I.BS,()=>this.backspace()),this._parser.setExecuteHandler(I.HT,()=>this.tab()),this._parser.setExecuteHandler(I.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(I.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(hh.IND,()=>this.index()),this._parser.setExecuteHandler(hh.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(hh.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new Qt(c=>(this.setTitle(c),this.setIconName(c),!0))),this._parser.registerOscHandler(1,new Qt(c=>this.setIconName(c))),this._parser.registerOscHandler(2,new Qt(c=>this.setTitle(c))),this._parser.registerOscHandler(4,new Qt(c=>this.setOrReportIndexedColor(c))),this._parser.registerOscHandler(8,new Qt(c=>this.setHyperlink(c))),this._parser.registerOscHandler(10,new Qt(c=>this.setOrReportFgColor(c))),this._parser.registerOscHandler(11,new Qt(c=>this.setOrReportBgColor(c))),this._parser.registerOscHandler(12,new Qt(c=>this.setOrReportCursorColor(c))),this._parser.registerOscHandler(104,new Qt(c=>this.restoreIndexedColor(c))),this._parser.registerOscHandler(110,new Qt(c=>this.restoreFgColor(c))),this._parser.registerOscHandler(111,new Qt(c=>this.restoreBgColor(c))),this._parser.registerOscHandler(112,new Qt(c=>this.restoreCursorColor(c))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let c in nt)this._parser.registerEscHandler({intermediates:"(",final:c},()=>this.selectCharset("("+c)),this._parser.registerEscHandler({intermediates:")",final:c},()=>this.selectCharset(")"+c)),this._parser.registerEscHandler({intermediates:"*",final:c},()=>this.selectCharset("*"+c)),this._parser.registerEscHandler({intermediates:"+",final:c},()=>this.selectCharset("+"+c)),this._parser.registerEscHandler({intermediates:"-",final:c},()=>this.selectCharset("-"+c)),this._parser.registerEscHandler({intermediates:".",final:c},()=>this.selectCharset("."+c)),this._parser.registerEscHandler({intermediates:"/",final:c},()=>this.selectCharset("/"+c));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(c=>(this._logService.error("Parsing error: ",c),c)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new R2((c,u)=>this.requestStatusString(c,u)))}getAttrData(){return this._curAttrData}_preserveStack(e,t,s,r){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=s,this._parseStack.position=r}_logSlowResolvingAsync(e){this._logService.logLevel<=3&&Promise.race([e,new Promise((t,s)=>setTimeout(()=>s("#SLOW_TIMEOUT"),I2))]).catch(t=>{if(t!=="#SLOW_TIMEOUT")throw t;console.warn(`async parser handler taking longer than ${I2} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let s,r=this._activeBuffer.x,n=this._activeBuffer.y,i=0,o=this._parseStack.paused;if(o){if(s=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(s),s;r=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>Br&&(i=this._parseStack.position+Br)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof e=="string"?` "${e}"`:` "${Array.prototype.map.call(e,c=>String.fromCharCode(c)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof e=="string"?e.split("").map(c=>c.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<Br&&(this._parseBuffer=new Uint32Array(Math.min(e.length,Br))),o||this._dirtyRowTracker.clearRange(),e.length>Br)for(let c=i;c<e.length;c+=Br){let u=c+Br<e.length?c+Br:e.length,d=typeof e=="string"?this._stringDecoder.decode(e.substring(c,u),this._parseBuffer):this._utf8Decoder.decode(e.subarray(c,u),this._parseBuffer);if(s=this._parser.parse(this._parseBuffer,d))return this._preserveStack(r,n,d,c),this._logSlowResolvingAsync(s),s}else if(!o){let c=typeof e=="string"?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(s=this._parser.parse(this._parseBuffer,c))return this._preserveStack(r,n,c,0),this._logSlowResolvingAsync(s),s}(this._activeBuffer.x!==r||this._activeBuffer.y!==n)&&this._onCursorMove.fire();let a=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),l=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);l<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(l,this._bufferService.rows-1),end:Math.min(a,this._bufferService.rows-1)})}print(e,t,s){let r,n,i=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,c=this._coreService.modes.insertMode,u=this._curAttrData,d=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&s-t>0&&d.getWidth(this._activeBuffer.x-1)===2&&d.setCellFromCodepoint(this._activeBuffer.x-1,0,1,u);let f=this._parser.precedingJoinState;for(let m=t;m<s;++m){if(r=e[m],r<127&&i){let x=i[String.fromCharCode(r)];x&&(r=x.charCodeAt(0))}let p=this._unicodeService.charProperties(r,f);n=Xn.extractWidth(p);let v=Xn.extractShouldJoin(p),y=v?Xn.extractWidth(f):0;if(f=p,o&&this._onA11yChar.fire(Vr(r)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+n-y>a){if(l){let x=d,b=this._activeBuffer.x-y;for(this._activeBuffer.x=y,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),d=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),y>0&&d instanceof ua&&d.copyCellsFrom(x,b,0,y,!1);b<a;)x.setCellFromCodepoint(b++,0,1,u)}else if(this._activeBuffer.x=a-1,n===2)continue}if(v&&this._activeBuffer.x){let x=d.getWidth(this._activeBuffer.x-1)?1:2;d.addCodepointToCell(this._activeBuffer.x-x,r,n);for(let b=n-y;--b>=0;)d.setCellFromCodepoint(this._activeBuffer.x++,0,0,u);continue}if(c&&(d.insertCells(this._activeBuffer.x,n-y,this._activeBuffer.getNullCell(u)),d.getWidth(a-1)===2&&d.setCellFromCodepoint(a-1,0,1,u)),d.setCellFromCodepoint(this._activeBuffer.x++,r,n,u),n>0)for(;--n;)d.setCellFromCodepoint(this._activeBuffer.x++,0,0,u)}this._parser.precedingJoinState=f,this._activeBuffer.x<a&&s-t>0&&d.getWidth(this._activeBuffer.x)===0&&!d.hasContent(this._activeBuffer.x)&&d.setCellFromCodepoint(this._activeBuffer.x,0,1,u),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return e.final==="t"&&!e.prefix&&!e.intermediates?this._parser.registerCsiHandler(e,s=>B2(s.params[0],this._optionsService.rawOptions.windowOptions)?t(s):!0):this._parser.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new R2(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new Qt(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return t===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:t===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return t===1&&(this._curAttrData.bg|=536870912),(t===2||t===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,s,r=!1,n=!1){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);i.replaceCells(t,s,this._activeBuffer.getNullCell(this._eraseAttrData()),n),r&&(i.isWrapped=!1)}_resetBufferLine(e,t=!1){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s&&(s.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),s.isWrapped=!1)}eraseInDisplay(e,t=!1){var r;this._restrictCursor(this._bufferService.cols);let s;switch(e.params[0]){case 0:for(s=this._activeBuffer.y,this._dirtyRowTracker.markDirty(s),this._eraseInBufferLine(s++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);s<this._bufferService.rows;s++)this._resetBufferLine(s,t);this._dirtyRowTracker.markDirty(s);break;case 1:for(s=this._activeBuffer.y,this._dirtyRowTracker.markDirty(s),this._eraseInBufferLine(s,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(s+1).isWrapped=!1);s--;)this._resetBufferLine(s,t);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(s=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,s-1);s--&&!((r=this._activeBuffer.lines.get(this._activeBuffer.ybase+s))!=null&&r.getTrimmedLength()););for(;s>=0;s--)this._bufferService.scroll(this._eraseAttrData())}else{for(s=this._bufferService.rows,this._dirtyRowTracker.markDirty(s-1);s--;)this._resetBufferLine(s,t);this._dirtyRowTracker.markDirty(0)}break;case 3:let n=this._activeBuffer.lines.length-this._bufferService.rows;n>0&&(this._activeBuffer.lines.trimStart(n),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-n,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-n,0),this._onScroll.fire(0));break}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let s=this._activeBuffer.ybase+this._activeBuffer.y,r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-r+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(s,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let s=this._activeBuffer.ybase+this._activeBuffer.y,r;for(r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-r;t--;)this._activeBuffer.lines.splice(s,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(Ke));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let s=this._activeBuffer.scrollTop;s<=this._activeBuffer.scrollBottom;++s){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+s);r.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),r.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let s=this._activeBuffer.scrollTop;s<=this._activeBuffer.scrollBottom;++s){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+s);r.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),r.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let s=this._activeBuffer.scrollTop;s<=this._activeBuffer.scrollBottom;++s){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+s);r.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),r.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let s=this._activeBuffer.scrollTop;s<=this._activeBuffer.scrollBottom;++s){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+s);r.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),r.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){let t=this._parser.precedingJoinState;if(!t)return!0;let s=e.params[0]||1,r=Xn.extractWidth(t),n=this._activeBuffer.x-r,i=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(n),o=new Uint32Array(i.length*s),a=0;for(let c=0;c<i.length;){let u=i.codePointAt(c)||0;o[a++]=u,c+=u>65535?2:1}let l=a;for(let c=1;c<s;++c)o.copyWithin(l,0,a),l+=a;return this.print(o,0,l),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(I.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(I.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(I.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(I.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(I.ESC+"[>83;40003;0c")),!0}_is(e){return(this._optionsService.rawOptions.termName+"").indexOf(e)===0}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,In),this._charsetService.setgCharset(1,In),this._charsetService.setgCharset(2,In),this._charsetService.setgCharset(3,In);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),e.params[t]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(e,t){(v=>(v[v.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",v[v.SET=1]="SET",v[v.RESET=2]="RESET",v[v.PERMANENTLY_SET=3]="PERMANENTLY_SET",v[v.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(void 0||(s={}));let r=this._coreService.decPrivateModes,{activeProtocol:n,activeEncoding:i}=this._coreMouseService,o=this._coreService,{buffers:a,cols:l}=this._bufferService,{active:c,alt:u}=a,d=this._optionsService.rawOptions,f=(v,y)=>(o.triggerDataEvent(`${I.ESC}[${t?"":"?"}${v};${y}$y`),!0),m=v=>v?1:2,p=e.params[0];return t?p===2?f(p,4):p===4?f(p,m(o.modes.insertMode)):p===12?f(p,3):p===20?f(p,m(d.convertEol)):f(p,0):p===1?f(p,m(r.applicationCursorKeys)):p===3?f(p,d.windowOptions.setWinLines?l===80?2:l===132?1:0:0):p===6?f(p,m(r.origin)):p===7?f(p,m(r.wraparound)):p===8?f(p,3):p===9?f(p,m(n==="X10")):p===12?f(p,m(d.cursorBlink)):p===25?f(p,m(!o.isCursorHidden)):p===45?f(p,m(r.reverseWraparound)):p===66?f(p,m(r.applicationKeypad)):p===67?f(p,4):p===1e3?f(p,m(n==="VT200")):p===1002?f(p,m(n==="DRAG")):p===1003?f(p,m(n==="ANY")):p===1004?f(p,m(r.sendFocus)):p===1005?f(p,4):p===1006?f(p,m(i==="SGR")):p===1015?f(p,4):p===1016?f(p,m(i==="SGR_PIXELS")):p===1048?f(p,1):p===47||p===1047||p===1049?f(p,m(c===u)):p===2004?f(p,m(r.bracketedPasteMode)):p===2026?f(p,m(r.synchronizedOutput)):f(p,0)}_updateAttrColor(e,t,s,r,n){return t===2?(e|=50331648,e&=-16777216,e|=Ml.fromColorRGB([s,r,n])):t===5&&(e&=-50331904,e|=33554432|s&255),e}_extractColor(e,t,s){let r=[0,0,-1,0,0,0],n=0,i=0;do{if(r[i+n]=e.params[t+i],e.hasSubParams(t+i)){let o=e.getSubParams(t+i),a=0;do r[1]===5&&(n=1),r[i+a+1+n]=o[a];while(++a<o.length&&a+i+1+n<r.length);break}if(r[1]===5&&i+n>=2||r[1]===2&&i+n>=5)break;r[1]&&(n=1)}while(++i+t<e.length&&i+n<r.length);for(let o=2;o<r.length;++o)r[o]===-1&&(r[o]=0);switch(r[0]){case 38:s.fg=this._updateAttrColor(s.fg,r[1],r[3],r[4],r[5]);break;case 48:s.bg=this._updateAttrColor(s.bg,r[1],r[3],r[4],r[5]);break;case 58:s.extended=s.extended.clone(),s.extended.underlineColor=this._updateAttrColor(s.extended.underlineColor,r[1],r[3],r[4],r[5])}return i}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,e===0&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=Ke.fg,e.bg=Ke.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(e.length===1&&e.params[0]===0)return this._processSGR0(this._curAttrData),!0;let t=e.length,s,r=this._curAttrData;for(let n=0;n<t;n++)s=e.params[n],s>=30&&s<=37?(r.fg&=-50331904,r.fg|=16777216|s-30):s>=40&&s<=47?(r.bg&=-50331904,r.bg|=16777216|s-40):s>=90&&s<=97?(r.fg&=-50331904,r.fg|=16777216|s-90|8):s>=100&&s<=107?(r.bg&=-50331904,r.bg|=16777216|s-100|8):s===0?this._processSGR0(r):s===1?r.fg|=134217728:s===3?r.bg|=67108864:s===4?(r.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,r)):s===5?r.fg|=536870912:s===7?r.fg|=67108864:s===8?r.fg|=1073741824:s===9?r.fg|=2147483648:s===2?r.bg|=134217728:s===21?this._processUnderline(2,r):s===22?(r.fg&=-134217729,r.bg&=-134217729):s===23?r.bg&=-67108865:s===24?(r.fg&=-268435457,this._processUnderline(0,r)):s===25?r.fg&=-536870913:s===27?r.fg&=-67108865:s===28?r.fg&=-1073741825:s===29?r.fg&=2147483647:s===39?(r.fg&=-67108864,r.fg|=Ke.fg&16777215):s===49?(r.bg&=-67108864,r.bg|=Ke.bg&16777215):s===38||s===48||s===58?n+=this._extractColor(e,n,r):s===53?r.bg|=1073741824:s===55?r.bg&=-1073741825:s===59?(r.extended=r.extended.clone(),r.extended.underlineColor=-1,r.updateExtended()):s===100?(r.fg&=-67108864,r.fg|=Ke.fg&16777215,r.bg&=-67108864,r.bg|=Ke.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",s);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${I.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,s=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${I.ESC}[${t};${s}R`);break}return!0}deviceStatusPrivate(e){switch(e.params[0]){case 6:let t=this._activeBuffer.y+1,s=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${I.ESC}[?${t};${s}R`);break}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=Ke.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.length===0?1:e.params[0];if(t===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(t){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let s=t%2===1;this._coreService.decPrivateModes.cursorBlink=s}return!0}setScrollRegion(e){let t=e.params[0]||1,s;return(e.length<2||(s=e.params[1])>this._bufferService.rows||s===0)&&(s=this._bufferService.rows),s>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=s-1,this._setCursor(0,0)),!0}windowOptions(e){if(!B2(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:t!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${I.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(t===0||t===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>A2&&this._windowTitleStack.shift()),(t===0||t===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>A2&&this._iconNameStack.shift());break;case 23:(t===0||t===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(t===0||t===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],s=e.split(";");for(;s.length>1;){let r=s.shift(),n=s.shift();if(/^\d+$/.exec(r)){let i=parseInt(r);if(F2(i))if(n==="?")t.push({type:0,index:i});else{let o=D2(n);o&&t.push({type:1,index:i,color:o})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.indexOf(";");if(t===-1)return!0;let s=e.slice(0,t).trim(),r=e.slice(t+1);return r?this._createHyperlink(s,r):s.trim()?!1:this._finishHyperlink()}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();let s=e.split(":"),r,n=s.findIndex(i=>i.startsWith("id="));return n!==-1&&(r=s[n].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:r,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let s=e.split(";");for(let r=0;r<s.length&&!(t>=this._specialColors.length);++r,++t)if(s[r]==="?")this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let n=D2(s[r]);n&&this._onColor.fire([{type:1,index:this._specialColors[t],color:n}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],s=e.split(";");for(let r=0;r<s.length;++r)if(/^\d+$/.exec(s[r])){let n=parseInt(s[r]);F2(n)&&t.push({type:2,index:n})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,In),!0}selectCharset(e){return e.length!==2?(this.selectDefaultCharset(),!0):(e[0]==="/"||this._charsetService.setgCharset($Y[e[0]],nt[e[1]]||In),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=Ke.clone(),this._eraseAttrDataInternal=Ke.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new _s;e.content=1<<22|69,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let s=this._activeBuffer.ybase+this._activeBuffer.y+t,r=this._activeBuffer.lines.get(s);r&&(r.fill(e),r.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let s=o=>(this._coreService.triggerDataEvent(`${I.ESC}${o}${I.ESC}\\`),!0),r=this._bufferService.buffer,n=this._optionsService.rawOptions;return s(e==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:e==='"p'?'P1$r61;1"p':e==="r"?`P1$r${r.scrollTop+1};${r.scrollBottom+1}r`:e==="m"?"P1$r0m":e===" q"?`P1$r${{block:2,underline:4,bar:6}[n.cursorStyle]-(n.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}},Qg=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&($2=e,e=t,t=$2),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};Qg=$e([q(0,Bt)],Qg);function F2(e){return 0<=e&&e<256}var zY=5e7,z2=12,HY=50,VY=class extends oe{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new W),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(t!==void 0&&this._syncCalls>t){this._syncCalls=0;return}if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let s;for(;s=this._writeBuffer.shift();){this._action(s);let r=this._callbacks.shift();r&&r()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>zY)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let s=e||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let r=this._writeBuffer[this._bufferOffset],n=this._action(r,t);if(n){let o=a=>performance.now()-s>=z2?setTimeout(()=>this._innerWrite(0,a)):this._innerWrite(s,a);n.catch(a=>(queueMicrotask(()=>{throw a}),Promise.resolve(!1))).then(o);return}let i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=r.length,performance.now()-s>=z2)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>HY&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},Zg=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(e.id===void 0){let a=t.addMarker(t.ybase+t.y),l={data:e,id:this._nextId++,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(l,a)),this._dataByLinkId.set(l.id,l),l.id}let s=e,r=this._getEntryIdKey(s),n=this._entriesWithId.get(r);if(n)return this.addLineToLink(n.id,t.ybase+t.y),n.id;let i=t.addMarker(t.ybase+t.y),o={id:this._nextId++,key:this._getEntryIdKey(s),data:s,lines:[i]};return i.onDispose(()=>this._removeMarkerFromLink(o,i)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(e,t){let s=this._dataByLinkId.get(e);if(s&&s.lines.every(r=>r.line!==t)){let r=this._bufferService.buffer.addMarker(t);s.lines.push(r),r.onDispose(()=>this._removeMarkerFromLink(s,r))}}getLinkData(e){var t;return(t=this._dataByLinkId.get(e))==null?void 0:t.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let s=e.lines.indexOf(t);s!==-1&&(e.lines.splice(s,1),e.lines.length===0&&(e.data.id!==void 0&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};Zg=$e([q(0,Bt)],Zg);var H2=!1,WY=class extends oe{constructor(e){super(),this._windowsWrappingHeuristics=this._register(new uo),this._onBinary=this._register(new W),this.onBinary=this._onBinary.event,this._onData=this._register(new W),this.onData=this._onData.event,this._onLineFeed=this._register(new W),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new W),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new W),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new W),this._instantiationService=new pY,this.optionsService=this._register(new CY(e)),this._instantiationService.setService(It,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(qg)),this._instantiationService.setService(Bt,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Kg)),this._instantiationService.setService(rj,this._logService),this.coreService=this._register(this._instantiationService.createInstance(Yg)),this._instantiationService.setService(xi,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(Xg)),this._instantiationService.setService(sj,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(Xn)),this._instantiationService.setService(hK,this.unicodeService),this._charsetService=this._instantiationService.createInstance(PY),this._instantiationService.setService(cK,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(Zg),this._instantiationService.setService(nj,this._oscLinkService),this._inputHandler=this._register(new FY(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(vt.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(vt.forward(this._bufferService.onResize,this._onResize)),this._register(vt.forward(this.coreService.onData,this._onData)),this._register(vt.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new VY((t,s)=>this._inputHandler.parse(t,s))),this._register(vt.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new W),this._onScroll.event(e=>{var t;(t=this._onScrollApi)==null||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=3&&!H2&&(this._logService.warn("writeSync is unreliable and will be removed soon."),H2=!0),this._writeBuffer.writeSync(e,t)}input(e,t=!0){this.coreService.triggerDataEvent(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,Aj),t=Math.max(t,Bj),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t){this._bufferService.scrollLines(e,t)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&t.buildNumber!==void 0&&t.buildNumber!==void 0?e=t.backend==="conpty"&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(O2.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>(O2(this._bufferService),!1))),this._windowsWrappingHeuristics.value=je(()=>{for(let t of e)t.dispose()})}}},UY={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function KY(e,t,s,r){var o;let n={type:0,cancel:!1,key:void 0},i=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:e.key==="UIKeyInputUpArrow"?t?n.key=I.ESC+"OA":n.key=I.ESC+"[A":e.key==="UIKeyInputLeftArrow"?t?n.key=I.ESC+"OD":n.key=I.ESC+"[D":e.key==="UIKeyInputRightArrow"?t?n.key=I.ESC+"OC":n.key=I.ESC+"[C":e.key==="UIKeyInputDownArrow"&&(t?n.key=I.ESC+"OB":n.key=I.ESC+"[B");break;case 8:n.key=e.ctrlKey?"\b":I.DEL,e.altKey&&(n.key=I.ESC+n.key);break;case 9:if(e.shiftKey){n.key=I.ESC+"[Z";break}n.key=I.HT,n.cancel=!0;break;case 13:n.key=e.altKey?I.ESC+I.CR:I.CR,n.cancel=!0;break;case 27:n.key=I.ESC,e.altKey&&(n.key=I.ESC+I.ESC),n.cancel=!0;break;case 37:if(e.metaKey)break;i?n.key=I.ESC+"[1;"+(i+1)+"D":t?n.key=I.ESC+"OD":n.key=I.ESC+"[D";break;case 39:if(e.metaKey)break;i?n.key=I.ESC+"[1;"+(i+1)+"C":t?n.key=I.ESC+"OC":n.key=I.ESC+"[C";break;case 38:if(e.metaKey)break;i?n.key=I.ESC+"[1;"+(i+1)+"A":t?n.key=I.ESC+"OA":n.key=I.ESC+"[A";break;case 40:if(e.metaKey)break;i?n.key=I.ESC+"[1;"+(i+1)+"B":t?n.key=I.ESC+"OB":n.key=I.ESC+"[B";break;case 45:!e.shiftKey&&!e.ctrlKey&&(n.key=I.ESC+"[2~");break;case 46:i?n.key=I.ESC+"[3;"+(i+1)+"~":n.key=I.ESC+"[3~";break;case 36:i?n.key=I.ESC+"[1;"+(i+1)+"H":t?n.key=I.ESC+"OH":n.key=I.ESC+"[H";break;case 35:i?n.key=I.ESC+"[1;"+(i+1)+"F":t?n.key=I.ESC+"OF":n.key=I.ESC+"[F";break;case 33:e.shiftKey?n.type=2:e.ctrlKey?n.key=I.ESC+"[5;"+(i+1)+"~":n.key=I.ESC+"[5~";break;case 34:e.shiftKey?n.type=3:e.ctrlKey?n.key=I.ESC+"[6;"+(i+1)+"~":n.key=I.ESC+"[6~";break;case 112:i?n.key=I.ESC+"[1;"+(i+1)+"P":n.key=I.ESC+"OP";break;case 113:i?n.key=I.ESC+"[1;"+(i+1)+"Q":n.key=I.ESC+"OQ";break;case 114:i?n.key=I.ESC+"[1;"+(i+1)+"R":n.key=I.ESC+"OR";break;case 115:i?n.key=I.ESC+"[1;"+(i+1)+"S":n.key=I.ESC+"OS";break;case 116:i?n.key=I.ESC+"[15;"+(i+1)+"~":n.key=I.ESC+"[15~";break;case 117:i?n.key=I.ESC+"[17;"+(i+1)+"~":n.key=I.ESC+"[17~";break;case 118:i?n.key=I.ESC+"[18;"+(i+1)+"~":n.key=I.ESC+"[18~";break;case 119:i?n.key=I.ESC+"[19;"+(i+1)+"~":n.key=I.ESC+"[19~";break;case 120:i?n.key=I.ESC+"[20;"+(i+1)+"~":n.key=I.ESC+"[20~";break;case 121:i?n.key=I.ESC+"[21;"+(i+1)+"~":n.key=I.ESC+"[21~";break;case 122:i?n.key=I.ESC+"[23;"+(i+1)+"~":n.key=I.ESC+"[23~";break;case 123:i?n.key=I.ESC+"[24;"+(i+1)+"~":n.key=I.ESC+"[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)e.keyCode>=65&&e.keyCode<=90?n.key=String.fromCharCode(e.keyCode-64):e.keyCode===32?n.key=I.NUL:e.keyCode>=51&&e.keyCode<=55?n.key=String.fromCharCode(e.keyCode-51+27):e.keyCode===56?n.key=I.DEL:e.keyCode===219?n.key=I.ESC:e.keyCode===220?n.key=I.FS:e.keyCode===221&&(n.key=I.GS);else if((!s||r)&&e.altKey&&!e.metaKey){let a=(o=UY[e.keyCode])==null?void 0:o[e.shiftKey?1:0];if(a)n.key=I.ESC+a;else if(e.keyCode>=65&&e.keyCode<=90){let l=e.ctrlKey?e.keyCode-64:e.keyCode+32,c=String.fromCharCode(l);e.shiftKey&&(c=c.toUpperCase()),n.key=I.ESC+c}else if(e.keyCode===32)n.key=I.ESC+(e.ctrlKey?I.NUL:" ");else if(e.key==="Dead"&&e.code.startsWith("Key")){let l=e.code.slice(3,4);e.shiftKey||(l=l.toLowerCase()),n.key=I.ESC+l,n.cancel=!0}}else s&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.metaKey?e.keyCode===65&&(n.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&e.key.length===1?n.key=e.key:e.key&&e.ctrlKey&&(e.key==="_"&&(n.key=I.US),e.key==="@"&&(n.key=I.NUL));break}return n}var He=0,qY=class{constructor(e){this._getKey=e,this._array=[],this._insertedValues=[],this._flushInsertedTask=new lu,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new lu,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(e){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(e)}_flushInserted(){let e=this._insertedValues.sort((n,i)=>this._getKey(n)-this._getKey(i)),t=0,s=0,r=new Array(this._array.length+this._insertedValues.length);for(let n=0;n<r.length;n++)s>=this._array.length||this._getKey(e[t])<=this._getKey(this._array[s])?(r[n]=e[t],t++):r[n]=this._array[s++];this._array=r,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(e){if(this._flushCleanupInserted(),this._array.length===0)return!1;let t=this._getKey(e);if(t===void 0||(He=this._search(t),He===-1)||this._getKey(this._array[He])!==t)return!1;do if(this._array[He]===e)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(He),!0;while(++He<this._array.length&&this._getKey(this._array[He])===t);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let e=this._deletedIndices.sort((n,i)=>n-i),t=0,s=new Array(this._array.length-e.length),r=0;for(let n=0;n<this._array.length;n++)e[t]===n?t++:s[r++]=this._array[n];this._array=s,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(He=this._search(e),!(He<0||He>=this._array.length)&&this._getKey(this._array[He])===e))do yield this._array[He];while(++He<this._array.length&&this._getKey(this._array[He])===e)}forEachByKey(e,t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(He=this._search(e),!(He<0||He>=this._array.length)&&this._getKey(this._array[He])===e))do t(this._array[He]);while(++He<this._array.length&&this._getKey(this._array[He])===e)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(e){let t=0,s=this._array.length-1;for(;s>=t;){let r=t+s>>1,n=this._getKey(this._array[r]);if(n>e)s=r-1;else if(n<e)t=r+1;else{for(;r>0&&this._getKey(this._array[r-1])===e;)r--;return r}}return t}},Ep=0,V2=0,YY=class extends oe{constructor(){super(),this._decorations=new qY(e=>e==null?void 0:e.marker.line),this._onDecorationRegistered=this._register(new W),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new W),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(je(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(e){if(e.marker.isDisposed)return;let t=new XY(e);if(t){let s=t.marker.onDispose(()=>t.dispose()),r=t.onDispose(()=>{r.dispose(),t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),s.dispose())});this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,s){let r=0,n=0;for(let i of this._decorations.getKeyIterator(t))r=i.options.x??0,n=r+(i.options.width??1),e>=r&&e<n&&(!s||(i.options.layer??"bottom")===s)&&(yield i)}forEachDecorationAtCell(e,t,s,r){this._decorations.forEachByKey(t,n=>{Ep=n.options.x??0,V2=Ep+(n.options.width??1),e>=Ep&&e<V2&&(!s||(n.options.layer??"bottom")===s)&&r(n)})}},XY=class extends fn{constructor(e){super(),this.options=e,this.onRenderEmitter=this.add(new W),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new W),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=Te.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=Te.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},GY=1e3,QY=class{constructor(e,t=GY){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,s){this._rowCount=s,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t;let r=performance.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){let n=r-this._lastRefreshMs,i=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},i)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},W2=20,cu=class extends oe{constructor(e,t,s,r){super(),this._terminal=e,this._coreBrowserService=s,this._renderService=r,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let n=this._coreBrowserService.mainDocument;this._accessibilityContainer=n.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=n.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);if(this._topBoundaryFocusListener=i=>this._handleBoundaryFocus(i,0),this._bottomBoundaryFocusListener=i=>this._handleBoundaryFocus(i,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=n.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new QY(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(i=>this._handleResize(i.rows))),this._register(this._terminal.onRender(i=>this._refreshRows(i.start,i.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(i=>this._handleChar(i))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(i=>this._handleTab(i))),this._register(this._terminal.onKey(i=>this._handleKey(i.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(te(n,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(je(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<W2+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,e===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===W2+1&&(this._liveRegion.textContent+=xg.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(e){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let s=this._terminal.buffer,r=s.lines.length.toString();for(let n=e;n<=t;n++){let i=s.lines.get(s.ydisp+n),o=[],a=(i==null?void 0:i.translateToString(!0,void 0,void 0,o))||"",l=(s.ydisp+n+1).toString(),c=this._rowElements[n];c&&(a.length===0?(c.textContent="",this._rowColumns.set(c,[0,1])):(c.textContent=a,this._rowColumns.set(c,o)),c.setAttribute("aria-posinset",l),c.setAttribute("aria-setsize",r),this._alignRowWidth(c))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let s=e.target,r=this._rowElements[t===0?1:this._rowElements.length-2],n=s.getAttribute("aria-posinset"),i=t===0?"1":`${this._terminal.buffer.lines.length}`;if(n===i||e.relatedTarget!==r)return;let o,a;if(t===0?(o=s,a=this._rowElements.pop(),this._rowContainer.removeChild(a)):(o=this._rowElements.shift(),a=s,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),a.removeEventListener("focus",this._bottomBoundaryFocusListener),t===0){let l=this._createAccessibilityTreeNode();this._rowElements.unshift(l),this._rowContainer.insertAdjacentElement("afterbegin",l)}else{let l=this._createAccessibilityTreeNode();this._rowElements.push(l),this._rowContainer.appendChild(l)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===0?-1:1),this._rowElements[t===0?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleSelectionChange(){var a;if(this._rowElements.length===0)return;let e=this._coreBrowserService.mainDocument.getSelection();if(!e)return;if(e.isCollapsed){this._rowContainer.contains(e.anchorNode)&&this._terminal.clearSelection();return}if(!e.anchorNode||!e.focusNode){console.error("anchorNode and/or focusNode are null");return}let t={node:e.anchorNode,offset:e.anchorOffset},s={node:e.focusNode,offset:e.focusOffset};if((t.node.compareDocumentPosition(s.node)&Node.DOCUMENT_POSITION_PRECEDING||t.node===s.node&&t.offset>s.offset)&&([t,s]=[s,t]),t.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(t={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(t.node))return;let r=this._rowElements.slice(-1)[0];if(s.node.compareDocumentPosition(r)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(s={node:r,offset:((a=r.textContent)==null?void 0:a.length)??0}),!this._rowContainer.contains(s.node))return;let n=({node:l,offset:c})=>{let u=l instanceof Text?l.parentNode:l,d=parseInt(u==null?void 0:u.getAttribute("aria-posinset"),10)-1;if(isNaN(d))return console.warn("row is invalid. Race condition?"),null;let f=this._rowColumns.get(u);if(!f)return console.warn("columns is null. Race condition?"),null;let m=c<f.length?f[c]:f.slice(-1)[0]+1;return m>=this._terminal.cols&&(++d,m=0),{row:d,column:m}},i=n(t),o=n(s);if(!(!i||!o)){if(i.row>o.row||i.row===o.row&&i.column>=o.column)throw new Error("invalid range");this._terminal.select(i.column,i.row,(o.row-i.row)*this._terminal.cols-i.column+o.column)}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=this._coreBrowserService.mainDocument.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e]),this._alignRowWidth(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(e){var n,i;e.style.transform="";let t=e.getBoundingClientRect().width,s=(i=(n=this._rowColumns.get(e))==null?void 0:n.slice(-1))==null?void 0:i[0];if(!s)return;let r=s*this._renderService.dimensions.css.cell.width;e.style.transform=`scaleX(${r/t})`}};cu=$e([q(1,ix),q(2,Lr),q(3,Mr)],cu);var Jg=class extends oe{constructor(e,t,s,r,n){super(),this._element=e,this._mouseService=t,this._renderService=s,this._bufferService=r,this._linkProviderService=n,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new W),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new W),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(je(()=>{var i;di(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,(i=this._activeProviderReplies)==null||i.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(te(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(te(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(te(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(te(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(e){this._lastMouseEvent=e;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let s=e.composedPath();for(let r=0;r<s.length;r++){let n=s[r];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}(!this._lastBufferCell||t.x!==this._lastBufferCell.x||t.y!==this._lastBufferCell.y)&&(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized){this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var r,n;(!this._activeProviderReplies||!t)&&((r=this._activeProviderReplies)==null||r.forEach(i=>{i==null||i.forEach(o=>{o.link.dispose&&o.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let s=!1;for(let[i,o]of this._linkProviderService.linkProviders.entries())t?(n=this._activeProviderReplies)!=null&&n.get(i)&&(s=this._checkLinkProviderResult(i,e,s)):o.provideLinks(e.y,a=>{var c,u;if(this._isMouseOut)return;let l=a==null?void 0:a.map(d=>({link:d}));(c=this._activeProviderReplies)==null||c.set(i,l),s=this._checkLinkProviderResult(i,e,s),((u=this._activeProviderReplies)==null?void 0:u.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let s=new Set;for(let r=0;r<t.size;r++){let n=t.get(r);if(n)for(let i=0;i<n.length;i++){let o=n[i],a=o.link.range.start.y<e?0:o.link.range.start.x,l=o.link.range.end.y>e?this._bufferService.cols:o.link.range.end.x;for(let c=a;c<=l;c++){if(s.has(c)){n.splice(i--,1);break}s.add(c)}}}}_checkLinkProviderResult(e,t,s){var i;if(!this._activeProviderReplies)return s;let r=this._activeProviderReplies.get(e),n=!1;for(let o=0;o<e;o++)(!this._activeProviderReplies.has(o)||this._activeProviderReplies.get(o))&&(n=!0);if(!n&&r){let o=r.find(a=>this._linkAtPosition(a.link,t));o&&(s=!0,this._handleNewLink(o))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!s)for(let o=0;o<this._activeProviderReplies.size;o++){let a=(i=this._activeProviderReplies.get(o))==null?void 0:i.find(l=>this._linkAtPosition(l.link,t));if(a){s=!0,this._handleNewLink(a);break}}return s}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink&&ZY(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){!this._currentLink||!this._lastMouseEvent||(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,di(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(e){if(!this._lastMouseEvent)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0?!0:e.link.decorations.underline,pointerCursor:e.link.decorations===void 0?!0:e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var s,r;return(r=(s=this._currentLink)==null?void 0:s.state)==null?void 0:r.decorations.pointerCursor},set:s=>{var r;(r=this._currentLink)!=null&&r.state&&this._currentLink.state.decorations.pointerCursor!==s&&(this._currentLink.state.decorations.pointerCursor=s,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",s))}},underline:{get:()=>{var s,r;return(r=(s=this._currentLink)==null?void 0:s.state)==null?void 0:r.decorations.underline},set:s=>{var r,n,i;(r=this._currentLink)!=null&&r.state&&((i=(n=this._currentLink)==null?void 0:n.state)==null?void 0:i.decorations.underline)!==s&&(this._currentLink.state.decorations.underline=s,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,s))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(s=>{if(!this._currentLink)return;let r=s.start===0?0:s.start+1+this._bufferService.buffer.ydisp,n=this._bufferService.buffer.ydisp+1+s.end;if(this._currentLink.link.range.start.y>=r&&this._currentLink.link.range.end.y<=n&&(this._clearCurrentLink(r,n),this._lastMouseEvent)){let i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._askForLink(i,!1)}})))}_linkHover(e,t,s){var r;(r=this._currentLink)!=null&&r.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(s,t.text)}_fireUnderlineEvent(e,t){let s=e.range,r=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(s.start.x-1,s.start.y-r-1,s.end.x,s.end.y-r-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)}_linkLeave(e,t,s){var r;(r=this._currentLink)!=null&&r.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(s,t.text)}_linkAtPosition(e,t){let s=e.range.start.y*this._bufferService.cols+e.range.start.x,r=e.range.end.y*this._bufferService.cols+e.range.end.x,n=t.y*this._bufferService.cols+t.x;return s<=n&&n<=r}_positionFromMouseEvent(e,t,s){let r=s.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(r)return{x:r[0],y:r[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,s,r,n){return{x1:e,y1:t,x2:s,y2:r,cols:this._bufferService.cols,fg:n}}};Jg=$e([q(1,ox),q(2,Mr),q(3,Bt),q(4,oj)],Jg);function ZY(e,t){return e.text===t.text&&e.range.start.x===t.range.start.x&&e.range.start.y===t.range.start.y&&e.range.end.x===t.range.end.x&&e.range.end.y===t.range.end.y}var JY=class extends WY{constructor(e={}){super(e),this._linkifier=this._register(new uo),this.browser=kj,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new uo),this._onCursorMove=this._register(new W),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new W),this.onKey=this._onKey.event,this._onRender=this._register(new W),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new W),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new W),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new W),this.onBell=this._onBell.event,this._onFocus=this._register(new W),this._onBlur=this._register(new W),this._onA11yCharEmitter=this._register(new W),this._onA11yTabEmitter=this._register(new W),this._onWillOpen=this._register(new W),this._setup(),this._decorationService=this._instantiationService.createInstance(YY),this._instantiationService.setService(Ol,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(Hq),this._instantiationService.setService(oj,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(_g)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(t=>this.refresh((t==null?void 0:t.start)??0,(t==null?void 0:t.end)??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(t=>this._reportWindowsOptions(t))),this._register(this._inputHandler.onColor(t=>this._handleColorEvent(t))),this._register(vt.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(vt.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(vt.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(vt.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(t=>this._afterResize(t.cols,t.rows))),this._register(je(()=>{var t,s;this._customKeyEventHandler=void 0,(s=(t=this.element)==null?void 0:t.parentNode)==null||s.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(e){if(this._themeService)for(let t of e){let s,r="";switch(t.index){case 256:s="foreground",r="10";break;case 257:s="background",r="11";break;case 258:s="cursor",r="12";break;default:s="ansi",r="4;"+t.index}switch(t.type){case 0:let n=Ce.toColorRGB(s==="ansi"?this._themeService.colors.ansi[t.index]:this._themeService.colors[s]);this.coreService.triggerDataEvent(`${I.ESC}]${r};${IY(n)}${Sj.ST}`);break;case 1:if(s==="ansi")this._themeService.modifyColors(i=>i.ansi[t.index]=Ye.toColor(...t.color));else{let i=s;this._themeService.modifyColors(o=>o[i]=Ye.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(cu,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return(e=this.textarea)==null?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let s=Math.min(this.buffer.x,this.cols-1),r=this._renderService.dimensions.css.cell.height,n=t.getWidth(s),i=this._renderService.dimensions.css.cell.width*n,o=this.buffer.y*this._renderService.dimensions.css.cell.height,a=s*this._renderService.dimensions.css.cell.width;this.textarea.style.left=a+"px",this.textarea.style.top=o+"px",this.textarea.style.width=i+"px",this.textarea.style.height=r+"px",this.textarea.style.lineHeight=r+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(te(this.element,"copy",t=>{this.hasSelection()&&rK(t,this._selectionService)}));let e=t=>nK(t,this.textarea,this.coreService,this.optionsService);this._register(te(this.textarea,"paste",e)),this._register(te(this.element,"paste",e)),Ej?this._register(te(this.element,"mousedown",t=>{t.button===2&&e2(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(te(this.element,"contextmenu",t=>{e2(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),px&&this._register(te(this.element,"auxclick",t=>{t.button===1&&Q3(t,this.textarea,this.screenElement)}))}_bindKeys(){this._register(te(this.textarea,"keyup",e=>this._keyUp(e),!0)),this._register(te(this.textarea,"keydown",e=>this._keyDown(e),!0)),this._register(te(this.textarea,"keypress",e=>this._keyPress(e),!0)),this._register(te(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(te(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this._register(te(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(te(this.textarea,"input",e=>this._inputEvent(e),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var n;if(!e)throw new Error("Terminal requires a parent element.");if(e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((n=this.element)==null?void 0:n.ownerDocument.defaultView)&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=e.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let t=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(te(this.screenElement,"mousemove",i=>this.updateCursorStyle(i))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement);let s=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",vg.get()),Pj||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>s.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(Fq,this.textarea,e.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(Lr,this._coreBrowserService),this._register(te(this.textarea,"focus",i=>this._handleTextAreaFocus(i))),this._register(te(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(zg,this._document,this._helperContainer),this._instantiationService.setService(Gu,this._charSizeService),this._themeService=this._instantiationService.createInstance(Ug),this._instantiationService.setService(No,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(ou),this._instantiationService.setService(ij,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(Vg,this.rows,this.screenElement)),this._instantiationService.setService(Mr,this._renderService),this._register(this._renderService.onRenderedViewportChange(i=>this._onRender.fire(i))),this.onResize(i=>this._renderService.resize(i.cols,i.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Ig,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Hg),this._instantiationService.setService(ox,this._mouseService);let r=this._linkifier.value=this._register(this._instantiationService.createInstance(Jg,this.screenElement));this.element.appendChild(t);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(Ag,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(i=>{super.scrollLines(i,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(Wg,this.element,this.screenElement,r)),this._instantiationService.setService(dK,this._selectionService),this._register(this._selectionService.onRequestScrollLines(i=>this.scrollLines(i.amount,i.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(i=>this._renderService.handleSelectionChanged(i.start,i.end,i.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(i=>{this.textarea.value=i,this.textarea.focus(),this.textarea.select()})),this._register(vt.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{var i;this._selectionService.refresh(),(i=this._viewport)==null||i.queueSync()})),this._register(this._instantiationService.createInstance(Bg,this.screenElement)),this._register(te(this.element,"mousedown",i=>this._selectionService.handleMouseDown(i))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(cu,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",i=>this._handleScreenReaderModeOptionChange(i))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(iu,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",i=>{!this._overviewRulerRenderer&&i&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(iu,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(Fg,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let e=this,t=this.element;function s(i){var c,u,d,f,m;let o=e._mouseService.getMouseReportCoords(i,e.screenElement);if(!o)return!1;let a,l;switch(i.overrideType||i.type){case"mousemove":l=32,i.buttons===void 0?(a=3,i.button!==void 0&&(a=i.button<3?i.button:3)):a=i.buttons&1?0:i.buttons&4?1:i.buttons&2?2:3;break;case"mouseup":l=0,a=i.button<3?i.button:3;break;case"mousedown":l=1,a=i.button<3?i.button:3;break;case"wheel":if(e._customWheelEventHandler&&e._customWheelEventHandler(i)===!1)return!1;let p=i.deltaY;if(p===0||e.coreMouseService.consumeWheelEvent(i,(f=(d=(u=(c=e._renderService)==null?void 0:c.dimensions)==null?void 0:u.device)==null?void 0:d.cell)==null?void 0:f.height,(m=e._coreBrowserService)==null?void 0:m.dpr)===0)return!1;l=p<0?0:1,a=4;break;default:return!1}return l===void 0||a===void 0||a>4?!1:e.coreMouseService.triggerMouseEvent({col:o.col,row:o.row,x:o.x,y:o.y,button:a,action:l,ctrl:i.ctrlKey,alt:i.altKey,shift:i.shiftKey})}let r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},n={mouseup:i=>(s(i),i.buttons||(this._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.removeEventListener("mousemove",r.mousedrag)),this.cancel(i)),wheel:i=>(s(i),this.cancel(i,!0)),mousedrag:i=>{i.buttons&&s(i)},mousemove:i=>{i.buttons||s(i)}};this._register(this.coreMouseService.onProtocolChange(i=>{i?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(i)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),i&8?r.mousemove||(t.addEventListener("mousemove",n.mousemove),r.mousemove=n.mousemove):(t.removeEventListener("mousemove",r.mousemove),r.mousemove=null),i&16?r.wheel||(t.addEventListener("wheel",n.wheel,{passive:!1}),r.wheel=n.wheel):(t.removeEventListener("wheel",r.wheel),r.wheel=null),i&2?r.mouseup||(r.mouseup=n.mouseup):(this._document.removeEventListener("mouseup",r.mouseup),r.mouseup=null),i&4?r.mousedrag||(r.mousedrag=n.mousedrag):(this._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(te(t,"mousedown",i=>{if(i.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(i)))return s(i),r.mouseup&&this._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&this._document.addEventListener("mousemove",r.mousedrag),this.cancel(i)})),this._register(te(t,"wheel",i=>{var o,a,l,c,u;if(!r.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(i)===!1)return!1;if(!this.buffer.hasScrollback){if(i.deltaY===0)return!1;if(e.coreMouseService.consumeWheelEvent(i,(c=(l=(a=(o=e._renderService)==null?void 0:o.dimensions)==null?void 0:a.device)==null?void 0:l.cell)==null?void 0:c.height,(u=e._coreBrowserService)==null?void 0:u.dpr)===0)return this.cancel(i,!0);let d=I.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(i.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(d,!0),this.cancel(i,!0)}}},{passive:!1}))}refresh(e,t){var s;(s=this._renderService)==null||s.refreshRows(e,t)}updateCursorStyle(e){var t;(t=this._selectionService)!=null&&t.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){this._viewport?this._viewport.scrollLines(e):super.scrollLines(e,t),this.refresh(0,this.rows-1)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){e&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}paste(e){G3(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}attachCustomWheelEventHandler(e){this._customWheelEventHandler=e}registerLinkProvider(e){return this._linkProviderService.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(e,t,s){this._selectionService.setSelection(e,t,s)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;(e=this._selectionService)==null||e.clearSelection()}selectAll(){var e;(e=this._selectionService)==null||e.selectAll()}selectLines(e,t){var s;(s=this._selectionService)==null||s.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!t&&(e.key==="Dead"||e.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let s=KY(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),s.type===3||s.type===2){let r=this.rows-1;return this.scrollLines(s.type===2?-r:r),this.cancel(e,!0)}if(s.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,e)||(s.cancel&&this.cancel(e,!0),!s.key)||e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((s.key===I.ETX||s.key===I.CR)&&(this.textarea.value=""),this._onKey.fire({key:s.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(s.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey)return this.cancel(e,!0);this._keyDownHandled=!0}_isThirdLevelShift(e,t){let s=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return t.type==="keypress"?s:s&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)&&(eX(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(e.which===null||e.which===void 0)t=e.keyCode;else if(e.which!==0&&e.charCode!==0)t=e.which;else return!1;return!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)?!1:(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(e){if(e.data&&e.inputType==="insertText"&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){if(e===this.cols&&t===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(e,t)}_afterResize(e,t){var s;(s=this._charSizeService)==null||s.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(Ke));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){var t;this.options.rows=this.rows,this.options.cols=this.cols;let e=this._customKeyEventHandler;this._setup(),super.reset(),(t=this._selectionService)==null||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=e,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;(e=this._renderService)==null||e.clearTextureAtlas()}_reportFocus(){var e;(e=this.element)!=null&&e.classList.contains("focus")?this.coreService.triggerDataEvent(I.ESC+"[I"):this.coreService.triggerDataEvent(I.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case 0:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),s=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${I.ESC}[4;${s};${t}t`);break;case 1:let r=this._renderService.dimensions.css.cell.width.toFixed(0),n=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${I.ESC}[6;${n};${r}t`);break}}cancel(e,t){if(!(!this.options.cancelEvents&&!t))return e.preventDefault(),e.stopPropagation(),!1}};function eX(e){return e.keyCode===16||e.keyCode===17||e.keyCode===18}var tX=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let s={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(s),t.dispose=()=>this._wrappedAddonDispose(s),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let s=0;s<this._addons.length;s++)if(this._addons[s]===e){t=s;break}if(t===-1)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},sX=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new _s)}translateToString(e,t,s){return this._line.translateToString(e,t,s)}},U2=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new sX(t)}getNullCell(){return new _s}},rX=class extends oe{constructor(e){super(),this._core=e,this._onBufferChange=this._register(new W),this.onBufferChange=this._onBufferChange.event,this._normal=new U2(this._core.buffers.normal,"normal"),this._alternate=new U2(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},nX=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,s=>t(s.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(s,r)=>t(s,r.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}},iX=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}},oX=["cols","rows"],Ks=0,aX=class extends oe{constructor(e){super(),this._core=this._register(new JY(e)),this._addonManager=this._register(new tX),this._publicOptions={...this._core.options};let t=r=>this._core.options[r],s=(r,n)=>{this._checkReadonlyOptions(r),this._core.options[r]=n};for(let r in this._core.options){let n={get:t.bind(this,r),set:s.bind(this,r)};Object.defineProperty(this._publicOptions,r,n)}}_checkReadonlyOptions(e){if(oX.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new nX(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new iX(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new rX(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any";break}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,synchronizedOutputMode:e.synchronizedOutput,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}input(e,t=!0){this._core.input(e,t)}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}attachCustomWheelEventHandler(e){this._core.attachCustomWheelEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){return this._checkProposedApi(),this._verifyPositiveIntegers(e.x??0,e.width??0,e.height??0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,s){this._verifyIntegers(e,t,s),this._core.select(e,t,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write(`\r
`,t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return{get promptLabel(){return vg.get()},set promptLabel(e){vg.set(e)},get tooMuchOutput(){return xg.get()},set tooMuchOutput(e){xg.set(e)}}}_verifyIntegers(...e){for(Ks of e)if(Ks===1/0||isNaN(Ks)||Ks%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(Ks of e)if(Ks&&(Ks===1/0||isNaN(Ks)||Ks%1!==0||Ks<0))throw new Error("This API only accepts positive integers")}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var lX=2,cX=1,hX=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;(this._terminal.rows!==e.rows||this._terminal.cols!==e.cols)&&(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){var d;if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core._renderService.dimensions;if(e.css.cell.width===0||e.css.cell.height===0)return;let t=this._terminal.options.scrollback===0?0:((d=this._terminal.options.overviewRuler)==null?void 0:d.width)||14,s=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(s.getPropertyValue("height")),n=Math.max(0,parseInt(s.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),o={top:parseInt(i.getPropertyValue("padding-top")),bottom:parseInt(i.getPropertyValue("padding-bottom")),right:parseInt(i.getPropertyValue("padding-right")),left:parseInt(i.getPropertyValue("padding-left"))},a=o.top+o.bottom,l=o.right+o.left,c=r-a,u=n-l-t;return{cols:Math.max(lX,Math.floor(u/e.css.cell.width)),rows:Math.max(cX,Math.floor(c/e.css.cell.height))}}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var uX=class{constructor(e,t,s,r={}){this._terminal=e,this._regex=t,this._handler=s,this._options=r}provideLinks(e,t){let s=fX.computeLink(e,this._regex,this._terminal,this._handler);t(this._addCallbacks(s))}_addCallbacks(e){return e.map(t=>(t.leave=this._options.leave,t.hover=(s,r)=>{if(this._options.hover){let{range:n}=t;this._options.hover(s,r,n)}},t))}};function dX(e){try{let t=new URL(e),s=t.password&&t.username?`${t.protocol}//${t.username}:${t.password}@${t.host}`:t.username?`${t.protocol}//${t.username}@${t.host}`:`${t.protocol}//${t.host}`;return e.toLocaleLowerCase().startsWith(s.toLocaleLowerCase())}catch{return!1}}var fX=class fh{static computeLink(t,s,r,n){let i=new RegExp(s.source,(s.flags||"")+"g"),[o,a]=fh._getWindowedLineStrings(t-1,r),l=o.join(""),c,u=[];for(;c=i.exec(l);){let d=c[0];if(!dX(d))continue;let[f,m]=fh._mapStrIdx(r,a,0,c.index),[p,v]=fh._mapStrIdx(r,f,m,d.length);if(f===-1||m===-1||p===-1||v===-1)continue;let y={start:{x:m+1,y:f+1},end:{x:v,y:p+1}};u.push({range:y,text:d,activate:n})}return u}static _getWindowedLineStrings(t,s){let r,n=t,i=t,o=0,a="",l=[];if(r=s.buffer.active.getLine(t)){let c=r.translateToString(!0);if(r.isWrapped&&c[0]!==" "){for(o=0;(r=s.buffer.active.getLine(--n))&&o<2048&&(a=r.translateToString(!0),o+=a.length,l.push(a),!(!r.isWrapped||a.indexOf(" ")!==-1)););l.reverse()}for(l.push(c),o=0;(r=s.buffer.active.getLine(++i))&&r.isWrapped&&o<2048&&(a=r.translateToString(!0),o+=a.length,l.push(a),a.indexOf(" ")===-1););}return[l,n]}static _mapStrIdx(t,s,r,n){let i=t.buffer.active,o=i.getNullCell(),a=r;for(;n;){let l=i.getLine(s);if(!l)return[-1,-1];for(let c=a;c<l.length;++c){l.getCell(c,o);let u=o.getChars();if(o.getWidth()&&(n-=u.length||1,c===l.length-1&&u==="")){let d=i.getLine(s+1);d&&d.isWrapped&&(d.getCell(0,o),o.getWidth()===2&&(n+=1))}if(n<0)return[s,c]}s++,a=0}return[s,a]}},pX=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function mX(e,t){let s=window.open();if(s){try{s.opener=null}catch{}s.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}var gX=class{constructor(e=mX,t={}){this._handler=e,this._options=t}activate(e){this._terminal=e;let t=this._options,s=t.urlRegex||pX;this._linkProvider=this._terminal.registerLinkProvider(new uX(this._terminal,s,this._handler,t))}dispose(){var e;(e=this._linkProvider)==null||e.dispose()}};const vX={background:"#0a0a0f",foreground:"#e0e0e8",cursor:"#00f0ff",cursorAccent:"#0a0a0f",selectionBackground:"#00f0ff30",selectionForeground:"#ffffff",black:"#0a0a0f",red:"#ff3860",green:"#00e676",yellow:"#ffdd57",blue:"#3d7aed",magenta:"#ff66c4",cyan:"#00f0ff",white:"#e0e0e8",brightBlack:"#4a4a5a",brightRed:"#ff5c7c",brightGreen:"#69f0ae",brightYellow:"#ffeb3b",brightBlue:"#6c9eff",brightMagenta:"#ff8fd4",brightCyan:"#66ffff",brightWhite:"#ffffff"};let xX=0;function yX({socket:e,nodeId:t,isLocal:s=!1,host:r,username:n,onConnected:i,onDisconnected:o,onError:a,className:l=""}){const c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),m=g.useMemo(()=>`term_${Date.now()}_${++xX}`,[]),p=g.useRef(i),v=g.useRef(o),y=g.useRef(a);return p.current=i,v.current=o,y.current=a,g.useEffect(()=>{if(!c.current||!e||u.current)return;const x=new aX({theme:vX,fontFamily:'"JetBrains Mono", "Fira Code", "Cascadia Code", monospace',fontSize:13,lineHeight:1.25,cursorBlink:!0,cursorStyle:"bar",allowTransparency:!0,scrollback:1e4,convertEol:!0}),b=new hX,_=new gX;x.loadAddon(b),x.loadAddon(_),x.open(c.current),u.current=x,d.current=b,setTimeout(()=>{try{b.fit()}catch{}},50),x.onData(C=>e.emit("terminal:data",{sessionId:m,data:C})),x.onResize(({cols:C,rows:N})=>e.emit("terminal:resize",{sessionId:m,cols:C,rows:N}));const w=C=>{if(typeof C=="object"&&C.sessionId){if(C.sessionId!==m)return;x.write(C.data)}else x.write(C)},S=C=>{var N;C&&C.sessionId&&C.sessionId!==m||(x.focus(),setTimeout(()=>{try{b.fit(),e.emit("terminal:resize",{sessionId:m,cols:x.cols,rows:x.rows})}catch{}},150),(N=p.current)==null||N.call(p,C))},E=C=>{var N;C&&C.sessionId&&C.sessionId!==m||(N=y.current)==null||N.call(y,C)},k=C=>{var N;C&&C.sessionId&&C.sessionId!==m||(x.writeln(`\r
\x1B[31m Session ended \x1B[0m`),(N=v.current)==null||N.call(v))};return e.on("terminal:data",w),e.on("terminal:connected",S),e.on("terminal:error",E),e.on("terminal:closed",k),f.current=()=>{e.off("terminal:data",w),e.off("terminal:connected",S),e.off("terminal:error",E),e.off("terminal:closed",k)},e.emit("terminal:connect",{sessionId:m,nodeId:t,isLocal:s,host:r||void 0,username:n||void 0}),()=>{var C;(C=f.current)==null||C.call(f),e&&e.emit("terminal:disconnect",{sessionId:m}),u.current&&(u.current.dispose(),u.current=null)}},[e,t,s,r,n,m]),g.useEffect(()=>{const x=()=>{var b;try{(b=d.current)==null||b.fit()}catch{}};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),g.useEffect(()=>{if(!c.current)return;let x;if(typeof ResizeObserver<"u"){const b=new ResizeObserver(()=>{var _;try{(_=d.current)==null||_.fit()}catch{}});b.observe(c.current),x=()=>b.disconnect()}else{const b=setInterval(()=>{var _;try{(_=d.current)==null||_.fit()}catch{}},1e3);x=()=>clearInterval(b)}return x},[]),h.jsx("div",{ref:c,className:`bg-[#0a0a0f] ${l}`,style:{padding:"6px",height:"100%",minHeight:"200px"}})}const _X=({node:e,selected:t,onSelect:s,disabled:r})=>h.jsx("button",{onClick:()=>!r&&s(e),disabled:r,className:Os("w-full text-left px-4 py-3 border-[3px] transition-all",t?"border-neon-cyan bg-neon-cyan/10 shadow-brutal-cyan":r?"border-tx/5 bg-brutal-card/50 opacity-40 cursor-not-allowed":"border-tx/8 bg-brutal-card hover:border-neon-cyan/40 hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-brutal-sm"),children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:Os("w-2.5 h-2.5 rounded-none flex-shrink-0",e.status==="online"?"bg-green-500 animate-pulse":"bg-tx/20")}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-sm font-black uppercase tracking-tight text-tx truncate",children:e.hostname||e.id}),h.jsx("div",{className:"text-[10px] font-mono text-tx/30 truncate",children:e.ip||e.id})]})]}),!e.console_enabled&&h.jsx(ci,{className:"w-3.5 h-3.5 text-tx/20 flex-shrink-0"})]})}),bX=({socket:e,node:t,panelId:s,onClose:r,isSplit:n})=>{const[i,o]=g.useState("connecting"),[a,l]=g.useState(null),c=!!t.isLocal;return h.jsxs(re.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},className:"flex flex-col h-full border-[3px] border-neon-cyan/15 overflow-hidden",style:{boxShadow:"4px 4px 0 rgba(0,240,255,0.06)"},children:[h.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-[#0a0a0f] border-b-[3px] border-neon-cyan/10 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsxs("div",{className:"flex gap-1",children:[h.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-neon-pink/60"}),h.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/60"}),h.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/60"})]}),h.jsx("span",{className:"text-[10px] font-mono font-bold uppercase tracking-widest text-neon-cyan/50",children:t.hostname||t.id}),i==="connected"&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),h.jsx("span",{className:"text-[9px] font-mono text-green-500/50",children:"LIVE"})]}),i==="connecting"&&h.jsx("span",{className:"text-[9px] font-mono text-yellow-500/50 animate-pulse",children:"CONNECTING..."})]}),n&&h.jsx("button",{onClick:()=>r(s),className:"p-0.5 hover:bg-tx/10 transition-colors",children:h.jsx(Tl,{className:"w-3.5 h-3.5 text-tx/30 hover:text-neon-pink"})})]}),a&&h.jsxs("div",{className:"px-3 py-2 bg-neon-pink/10 border-b-[2px] border-neon-pink/20 flex items-center gap-2",children:[h.jsx(jr,{className:"w-3.5 h-3.5 text-neon-pink flex-shrink-0"}),h.jsx("span",{className:"text-[11px] font-mono text-neon-pink truncate",children:a})]}),h.jsx("div",{className:"flex-1 min-h-0",children:h.jsx(yX,{socket:e,nodeId:t.id,isLocal:c,host:t.ip||void 0,username:t.ssh_user||void 0,onConnected:()=>{o("connected"),l(null)},onDisconnected:()=>o("disconnected"),onError:u=>{l(u.message),o("error")}})})]})};function wX({socket:e}){const[t,s]=g.useState(!1),[r,n]=g.useState(!1),[i,o]=g.useState(null),[a,l]=g.useState(!0),[c,u]=g.useState([]),[d,f]=g.useState(!0),[m,p]=g.useState([]),[v,y]=g.useState(!1);g.useEffect(()=>{U.get("/api/auth/me").then(S=>{var k;const E=!!((k=S.data.user)!=null&&k.totpEnabled);o(E)}).catch(()=>o(!1))},[]),g.useEffect(()=>{if(!t)return;(async()=>{var k;try{const[C,N]=await Promise.all([U.get("/api/console/config"),U.get("/api/console/nodes")]);l(((k=C.data.config)==null?void 0:k.enabled)!==!1),u(N.data.nodes||[])}catch{}finally{f(!1)}})();const E=setInterval(async()=>{try{const k=await U.get("/api/console/nodes");u(k.data.nodes||[])}catch{}},15e3);return()=>clearInterval(E)},[t]);const x=g.useCallback(()=>{s(!0),n(!1)},[]),b=g.useCallback(S=>{m.some(E=>E.node.id===S.id)||(v&&m.length>=2?p(E=>[E[0],{id:Date.now(),node:S}]):v&&m.length===1?p(E=>[...E,{id:Date.now(),node:S}]):p([{id:Date.now(),node:S}]))},[m,v]),_=g.useCallback(S=>{p(E=>E.filter(k=>k.id!==S))},[]),w=g.useCallback(()=>{y(S=>(S&&m.length>1&&p(E=>[E[0]]),!S))},[m]);return i===null?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"text-tx/30 font-mono text-sm animate-pulse",children:"Loading..."})}):t?a?h.jsxs("div",{className:"flex flex-col h-[calc(100vh-7.5rem)]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(un,{className:"w-7 h-7 text-neon-cyan"}),h.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight text-tx",children:"Console"}),h.jsxs("span",{className:"text-[10px] font-mono font-bold uppercase tracking-widest text-tx/20 border border-tx/10 px-2 py-0.5",children:[c.length," node",c.length!==1?"s":""]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("button",{onClick:w,className:Os("flex items-center gap-2 px-3 py-2 text-[10px] font-black uppercase tracking-widest border-[3px] transition-all",v?"border-neon-cyan bg-neon-cyan/10 text-neon-cyan":"border-tx/10 text-tx/30 hover:border-neon-cyan/30 hover:text-neon-cyan"),children:[h.jsx(j9,{className:"w-4 h-4"}),v?"Split On":"Split View"]})})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1 min-h-0",children:[h.jsxs("div",{className:"w-full md:w-56 flex-shrink-0 flex flex-col md:min-h-0 max-h-40 md:max-h-none overflow-y-auto md:overflow-visible",children:[h.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-tx/20 mb-2 px-1",children:"Nodes"}),h.jsx("div",{className:"flex-1 overflow-y-auto space-y-1.5 custom-scrollbar pr-1",children:d?h.jsx("div",{className:"text-xs text-tx/20 font-mono animate-pulse px-2",children:"Loading nodes..."}):c.length===0?h.jsx("div",{className:"text-xs text-tx/20 font-mono px-2",children:"No nodes registered"}):c.map(S=>h.jsx(_X,{node:S,selected:m.some(E=>E.node.id===S.id),onSelect:b,disabled:!S.console_enabled||S.status!=="online"},S.id))}),h.jsx("div",{className:"mt-3 pt-3 border-t-[2px] border-tx/5 flex-shrink-0",children:h.jsxs("div",{className:"text-[9px] font-mono text-tx/15 leading-relaxed space-y-1",children:[h.jsx("div",{children:"Click a node to open terminal"}),h.jsx("div",{children:"Use Split View for 2 terminals"}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ci,{className:"w-2.5 h-2.5"})," = console disabled"]})]})})]}),h.jsx("div",{className:"flex-1 min-w-0 min-h-0",children:m.length===0?h.jsx("div",{className:"h-full flex items-center justify-center border-[3px] border-dashed border-tx/8 bg-brutal-card/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx(un,{className:"w-16 h-16 text-tx/8 mx-auto mb-4"}),h.jsx("p",{className:"text-sm font-bold uppercase tracking-widest text-tx/15",children:"Select a node to open terminal"}),h.jsx("p",{className:"text-[10px] font-mono text-tx/10 mt-2",children:"SSH connection uses auto-generated Nexus keypair"})]})}):h.jsx("div",{className:Os("h-full gap-3",v&&m.length===2?"grid grid-cols-1 lg:grid-cols-2":"flex flex-col"),children:h.jsx(Xt,{mode:"sync",children:m.map(S=>h.jsx(bX,{socket:e,node:S.node,panelId:S.id,onClose:_,isSplit:v&&m.length>1},S.id))})})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-[3px] border-tx/10 bg-brutal-card p-8 max-w-md text-center",children:[h.jsx(ci,{className:"w-12 h-12 text-tx/20 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-tx mb-2",children:"Console Disabled"}),h.jsx("p",{className:"text-sm text-tx/30 font-mono",children:"The console has been disabled globally. Enable it in setup or Settings."})]})}):h.jsxs("div",{className:"relative h-full",children:[h.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{filter:"blur(12px) brightness(0.4)"},children:h.jsxs("div",{className:"p-8 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(un,{className:"w-7 h-7 text-neon-cyan"}),h.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight text-tx",children:"Console"})]}),[1,2,3].map(S=>h.jsx("div",{className:"h-16 border-[3px] border-tx/10 bg-brutal-card"},S)),h.jsx("div",{className:"h-[300px] border-[3px] border-neon-cyan/10 bg-[#0a0a0f]"})]})}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black/40 backdrop-blur-sm",children:h.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-[3px] border-neon-cyan/40 bg-brutal-card p-8 max-w-md w-full mx-4",style:{boxShadow:"8px 8px 0 rgba(0,240,255,0.1)"},children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"p-3 bg-neon-cyan/10 border-[3px] border-neon-cyan/30",children:h.jsx(gt,{className:"w-8 h-8 text-neon-cyan"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-tx",children:"Security Gate"}),h.jsx("p",{className:"text-xs text-tx/30 font-mono mt-1",children:i?"2FA verification required for console access":"2FA must be enabled to access console"})]})]}),i?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm text-tx/40 mb-6",children:"The console provides direct shell access to your nodes. Verify your identity with two-factor authentication to proceed."}),h.jsx("button",{onClick:()=>n(!0),className:"w-full py-3 bg-neon-cyan/10 border-[3px] border-neon-cyan text-neon-cyan font-black uppercase tracking-widest text-sm hover:bg-neon-cyan/20 transition-all",style:{boxShadow:"4px 4px 0 rgba(0,240,255,0.15)"},children:"Verify 2FA"})]}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm text-tx/40 mb-6",children:"Two-factor authentication must be enabled on your account before you can access the console. Go to Settings  Security  Two-Factor Auth to set it up."}),h.jsx("a",{href:"/settings/security",className:"block w-full py-3 bg-neon-pink/10 border-[3px] border-neon-pink text-neon-pink font-black uppercase tracking-widest text-sm hover:bg-neon-pink/20 transition-all text-center",style:{boxShadow:"4px 4px 0 rgba(255,56,96,0.15)"},children:"Go to Security Settings"})]})]})}),i&&h.jsx(Y3,{isOpen:r,onClose:()=>n(!1),onVerified:x,title:"Console Access",description:"Enter your 2FA code to access the terminal console."})]})}const Pc=e=>{if(!e)return"0 B";const t=1024,s=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+s[r]},Tc=({label:e,value:t,sub:s,icon:r,color:n,active:i,onClick:o})=>h.jsxs("button",{onClick:o,className:`border-[3px] p-4 bg-brutal-card transition-all text-left w-full hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-brutal ${i?"shadow-brutal translate-x-[-2px] translate-y-[-2px]":""}`,style:{borderColor:`${n}${i?"":"30"}`,boxShadow:i?`4px 4px 0 ${n}40`:void 0},children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest text-tx/30",children:e}),r&&h.jsx(r,{className:"w-4 h-4",style:{color:n}})]}),h.jsx("div",{className:"text-2xl font-black tracking-tighter",style:{color:n},children:t}),s&&h.jsx("div",{className:"text-[9px] font-mono text-tx/25 mt-0.5",children:s})]});function SX({socket:e}){var j,B,V,Y,D,K,X;const{agentId:t}=Zv(),[s,r]=g.useState(null),[n,i]=g.useState([]),[o,a]=g.useState(null),[l,c]=g.useState(!0),[u,d]=g.useState(""),[f,m]=g.useState("cpu"),[p,v]=g.useState("desc"),[y,x]=g.useState("all"),[b,_]=g.useState(null),w=localStorage.getItem("token"),S=g.useCallback(async()=>{var z,Z;try{const[de,Fe]=await Promise.all([U.get(`/api/nodes/${t}`,{headers:{Authorization:`Bearer ${w}`}}),U.get(`/api/metrics/${t}/latest?limit=1`,{headers:{Authorization:`Bearer ${w}`}})]);if(de.data.success&&r(de.data.node),Fe.data.success&&((z=Fe.data.metrics)==null?void 0:z.length)>0){const Qe=Fe.data.metrics[0].data;a(Qe),(Z=Qe==null?void 0:Qe.processes)!=null&&Z.list&&i(Qe.processes.list)}}catch(de){console.error("Failed to fetch process data:",de)}finally{c(!1)}},[t,w]);g.useEffect(()=>{S();const z=setInterval(S,5e3);return e&&e.on("nodes:update",Z=>{const de=Z.find(Fe=>Fe.id===t);de&&r(Fe=>Fe&&{...Fe,status:de.status})}),()=>{clearInterval(z),e&&e.off("nodes:update")}},[t,e,S]);const E=async z=>{var Z,de;if(confirm(`Kill process ${z}?`)){_(z);try{await U.post(`/api/nodes/${t}/processes/${z}/kill`,{},{headers:{Authorization:`Bearer ${w}`}}),setTimeout(S,1e3)}catch(Fe){alert("Failed to kill process: "+(((de=(Z=Fe.response)==null?void 0:Z.data)==null?void 0:de.message)||Fe.message))}finally{_(null)}}},k=async(z,Z)=>{_(z);try{await U.post(`/api/nodes/${t}/processes/${z}/signal`,{signal:Z},{headers:{Authorization:`Bearer ${w}`}}),setTimeout(S,1e3)}catch{if(Z==="SIGTERM"||Z==="SIGKILL"){E(z);return}alert("Signal not supported")}finally{_(null)}},C=z=>{f===z?v(Z=>Z==="asc"?"desc":"asc"):(m(z),v("desc"))},P=(()=>{let z=[...n];if(u){const Z=u.toLowerCase();z=z.filter(de=>(de.name||"").toLowerCase().includes(Z)||String(de.pid).includes(Z))}return y==="high-cpu"?z=z.filter(Z=>(Z.cpu||0)>10):y==="high-mem"&&(z=z.filter(Z=>(Z.mem||0)>5)),z.sort((Z,de)=>{const Fe=Z[f]||0,Qe=de[f]||0;return p==="desc"?Qe-Fe:Fe-Qe}),z})(),M=(s==null?void 0:s.status)==="online",T=((j=o==null?void 0:o.cpu)==null?void 0:j.usage)||0,L=((B=o==null?void 0:o.memory)==null?void 0:B.usagePercent)||0,$=((V=o==null?void 0:o.swap)==null?void 0:V.usagePercent)||0,O=((Y=o==null?void 0:o.processes)==null?void 0:Y.all)||0,A=((D=o==null?void 0:o.processes)==null?void 0:D.running)||0,F=({field:z})=>f!==z?null:p==="desc"?h.jsx(o$,{className:"w-3 h-3 inline"}):h.jsx(C$,{className:"w-3 h-3 inline"});return h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs(gn,{to:`/nodes/${t}`,className:"inline-flex items-center gap-2 text-neon-pink/60 hover:text-neon-pink text-xs font-bold uppercase tracking-wider mb-4 transition-colors",children:[h.jsx(FN,{className:"w-4 h-4"})," Back to ",(s==null?void 0:s.hostname)||"Node"]}),h.jsx("header",{className:"mb-6 border-b-[3px] border-neon-purple/20 pb-4",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[h.jsx(ng,{className:"w-8 h-8 text-neon-purple shrink-0",strokeWidth:2.5}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black uppercase tracking-tighter leading-[0.9]",children:[h.jsx("span",{className:"text-tx",children:"Node"})," ",h.jsx("span",{className:"text-neon-purple",style:{textShadow:"0 0 25px var(--neon-purple)"},children:"Processes"})]}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/30 mt-1 tracking-wider uppercase flex items-center gap-3",children:[h.jsx("span",{children:(s==null?void 0:s.hostname)||t.substring(0,16)}),h.jsx("span",{className:`px-2 py-0.5 border text-[8px] font-bold uppercase tracking-widest ${M?"border-neon-cyan/40 text-neon-cyan":"border-red-500/40 text-red-400"}`,children:M?" ONLINE":" OFFLINE"})]})]}),h.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 border-2 border-tx/10 text-tx/30 hover:text-neon-purple hover:border-neon-purple/30 transition-all font-bold uppercase text-[9px] tracking-widest",children:[h.jsx($u,{className:`w-3 h-3 ${l?"animate-spin":""}`})," Refresh"]})]})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[h.jsx(Tc,{label:"CPU",value:`${T.toFixed(1)}%`,icon:z0,color:"var(--neon-pink)",sub:((X=(K=s==null?void 0:s.system_info)==null?void 0:K.cpu)==null?void 0:X.brand)||"",active:y==="high-cpu",onClick:()=>x(z=>z==="high-cpu"?"all":"high-cpu")}),h.jsx(Tc,{label:"Memory",value:`${L.toFixed(1)}%`,icon:H0,color:"var(--neon-cyan)",sub:o!=null&&o.memory?`${Pc(o.memory.active||0)} / ${Pc(o.memory.total)}`:"",active:y==="high-mem",onClick:()=>x(z=>z==="high-mem"?"all":"high-mem")}),h.jsx(Tc,{label:"Swap",value:`${$.toFixed(1)}%`,icon:Pl,color:"var(--neon-purple)",sub:o!=null&&o.swap?`${Pc(o.swap.used||0)} / ${Pc(o.swap.total)}`:"",onClick:()=>{}}),h.jsx(Tc,{label:"Processes",value:O,icon:F0,color:"var(--neon-yellow)",sub:`${A} running`,onClick:()=>x("all")})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center mb-4",children:[h.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[h.jsx("input",{type:"text",value:u,onChange:z=>d(z.target.value),placeholder:"Search by name or PID...",className:"w-full bg-brutal-card border-[3px] border-tx/10 text-tx px-4 py-2 pl-9 font-mono text-xs focus:outline-none focus:border-neon-purple/40 transition-colors"}),h.jsx(YN,{className:"w-3.5 h-3.5 absolute left-3 top-1/2 -translate-y-1/2 text-tx/30"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:y,onChange:z=>x(z.target.value),className:"appearance-none bg-brutal-card border-[3px] border-tx/10 text-tx px-4 py-2 pr-8 font-bold uppercase text-[10px] tracking-widest focus:outline-none focus:border-neon-purple/40 transition-colors cursor-pointer",children:[h.jsx("option",{value:"all",children:"All Processes"}),h.jsx("option",{value:"high-cpu",children:"High CPU (>10%)"}),h.jsx("option",{value:"high-mem",children:"High Memory (>5%)"})]}),h.jsx(UN,{className:"w-3 h-3 absolute right-2.5 top-1/2 -translate-y-1/2 text-tx/30 pointer-events-none"})]}),h.jsxs("div",{className:"font-mono text-[10px] text-tx/20 tracking-wider uppercase",children:[P.length," of ",n.length]})]}),h.jsxs("div",{className:"border-[3px] border-neon-purple/15 bg-brutal-card shadow-brutal overflow-hidden",children:[h.jsxs("div",{className:"hidden sm:grid grid-cols-12 gap-2 px-4 py-2.5 text-[9px] font-bold uppercase tracking-widest text-tx/25 border-b-[3px] border-neon-purple/10 bg-neon-purple/[0.03]",children:[h.jsxs("div",{className:"col-span-1 cursor-pointer hover:text-neon-purple",onClick:()=>C("pid"),children:["PID ",h.jsx(F,{field:"pid"})]}),h.jsx("div",{className:"col-span-4",children:"Name"}),h.jsxs("div",{className:"col-span-2 text-right cursor-pointer hover:text-neon-pink",onClick:()=>C("cpu"),children:["CPU % ",h.jsx(F,{field:"cpu"})]}),h.jsxs("div",{className:"col-span-2 text-right cursor-pointer hover:text-neon-cyan",onClick:()=>C("mem"),children:["MEM % ",h.jsx(F,{field:"mem"})]}),h.jsx("div",{className:"col-span-3 text-right",children:"Actions"})]}),h.jsx("div",{className:"max-h-[calc(100vh-500px)] min-h-[200px] overflow-y-auto custom-scrollbar",children:l?h.jsx("div",{className:"p-8 text-center font-mono text-tx/20",children:"Loading processes..."}):P.length===0?h.jsxs("div",{className:"p-8 text-center",children:[h.jsx(ng,{className:"w-8 h-8 text-tx/10 mx-auto mb-3"}),h.jsx("div",{className:"font-mono text-tx/20 text-sm",children:u?"No matching processes":"No process data available"})]}):P.map((z,Z)=>h.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:Z*.01},className:"flex flex-col sm:grid sm:grid-cols-12 gap-1 sm:gap-2 px-4 py-2 text-xs border-b border-neon-purple/[0.04] hover:bg-neon-purple/[0.03] transition-colors sm:items-center group",children:[h.jsxs("div",{className:"sm:col-span-1 font-mono text-tx/30",children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"PID "}),z.pid]}),h.jsx("div",{className:"sm:col-span-4 font-bold text-tx/80 truncate",title:z.name,children:z.name}),h.jsxs("div",{className:"flex sm:contents gap-4",children:[h.jsxs("div",{className:"sm:col-span-2 sm:text-right font-mono font-bold",style:{color:(z.cpu||0)>50?"var(--neon-pink)":(z.cpu||0)>10?"var(--neon-yellow)":"var(--neon-cyan)"},children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"CPU "}),(z.cpu||0).toFixed(1),"%"]}),h.jsxs("div",{className:"sm:col-span-2 sm:text-right font-mono text-tx/40",children:[h.jsx("span",{className:"sm:hidden text-tx/20",children:"MEM "}),(z.mem||0).toFixed(1),"%"]})]}),h.jsx("div",{className:"sm:col-span-3 flex sm:justify-end gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:b===z.pid?h.jsx("span",{className:"text-[9px] font-mono text-neon-yellow animate-pulse",children:"Working..."}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>k(z.pid,"SIGSTOP"),className:"px-2 py-1 border border-neon-yellow/30 text-neon-yellow/60 hover:bg-neon-yellow/10 text-[8px] font-bold uppercase tracking-wider transition-all",title:"Stop (SIGSTOP)",children:h.jsx(K$,{className:"w-3 h-3"})}),h.jsx("button",{onClick:()=>k(z.pid,"SIGCONT"),className:"px-2 py-1 border border-neon-cyan/30 text-neon-cyan/60 hover:bg-neon-cyan/10 text-[8px] font-bold uppercase tracking-wider transition-all",title:"Resume (SIGCONT)",children:h.jsx(XN,{className:"w-3 h-3"})}),h.jsx("button",{onClick:()=>E(z.pid),className:"px-2 py-1 border border-red-500/30 text-red-500/60 hover:bg-red-500/10 text-[8px] font-bold uppercase tracking-wider transition-all",title:"Kill (SIGKILL)",children:h.jsx(G9,{className:"w-3 h-3"})})]})})]},`${z.pid}-${Z}`))})]}),h.jsxs("div",{className:"font-mono text-[9px] text-tx/15 mt-3 flex gap-4 uppercase tracking-wider",children:[h.jsx("span",{children:"Click stat cards to filter"}),h.jsx("span",{children:"Click column headers to sort"}),h.jsx("span",{children:"Hover rows for actions"}),h.jsx("span",{children:"Auto-refresh: 5s"})]})]})}const CX={1:Ss,2:Kn,3:KN,4:ci,5:VN},K2=[{id:1,label:"Generate"},{id:2,label:"Scan QR"},{id:3,label:"Enter OTP"},{id:4,label:"Login"},{id:5,label:"Complete"}];function kX({currentStep:e,pairingStep:t}){let s=e;return t==="otp_verified"&&(s=4),t==="completed"&&(s=5),h.jsx("div",{className:"flex items-center justify-between mb-6",children:K2.map((r,n)=>h.jsxs("div",{className:"flex items-center flex-1",children:[h.jsxs("div",{className:"flex flex-col items-center flex-1",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold border-2 transition-all ${r.id<s?"bg-green-500/20 border-green-500 text-green-400":r.id===s?"bg-neon-cyan/20 border-neon-cyan text-neon-cyan animate-pulse":"bg-gray-800 border-gray-600 text-gray-500"}`,children:(()=>{const i=r.id<s?ye:CX[r.id];return h.jsx(i,{className:"w-5 h-5"})})()}),h.jsx("span",{className:`text-[10px] mt-1 font-bold tracking-wider uppercase ${r.id<=s?"text-gray-300":"text-gray-600"}`,children:r.label})]}),n<K2.length-1&&h.jsx("div",{className:`h-0.5 flex-1 mx-1 mt-[-16px] transition-all ${r.id<s?"bg-green-500/50":"bg-gray-700"}`})]},r.id))})}function EX({otp:e,timeRemaining:t,total:s=60}){const r=t/s*100,n=t<=10;return h.jsxs("div",{className:`p-5 rounded-lg border-2 transition-all ${n?"border-red-500/60 bg-red-500/5":"border-neon-cyan/30 bg-neon-cyan/5"}`,children:[h.jsxs("div",{className:"text-center mb-3",children:[h.jsx("p",{className:"text-xs font-bold tracking-[4px] uppercase text-gray-400 mb-2",children:"One-Time Password"}),h.jsx("div",{className:"flex justify-center gap-2",children:e.split("").map((i,o)=>h.jsx("div",{className:`w-12 h-14 flex items-center justify-center rounded border-2 text-2xl font-mono font-black ${n?"border-red-500/50 text-red-400 bg-red-500/10":"border-neon-cyan/40 text-neon-cyan bg-neon-cyan/10"}`,children:i},o))})]}),h.jsxs("div",{className:"mt-3",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[h.jsxs("span",{className:"text-gray-400 flex items-center gap-1",children:[h.jsx(WN,{className:"w-3 h-3"})," Expires in"]}),h.jsxs("span",{className:`font-mono font-bold ${n?"text-red-400":"text-gray-300"}`,children:[t,"s"]})]}),h.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-1000 rounded-full ${n?"bg-red-500":"bg-neon-cyan"}`,style:{width:`${r}%`}})})]}),h.jsxs("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:["Tell the mobile user this OTP  they must enter it within ",s,"s"]})]})}function NX(){const[e,t]=g.useState(null),[s,r]=g.useState(null),[n,i]=g.useState(null),[o,a]=g.useState(null),[l,c]=g.useState(0),[u,d]=g.useState(1),[f,m]=g.useState(null),[p,v]=g.useState(!1),[y,x]=g.useState(""),[b,_]=g.useState([]),[w,S]=g.useState(!0),[E,k]=g.useState(""),C=g.useRef(null);g.useEffect(()=>(M(),()=>{C.current&&clearInterval(C.current)}),[]),g.useEffect(()=>{if(!o)return;const O=setInterval(()=>{const A=Math.max(0,Math.floor((o-Date.now())/1e3));c(A),A===0&&P()},1e3);return()=>clearInterval(O)},[o]);const N=g.useCallback(O=>{C.current&&clearInterval(C.current),C.current=setInterval(async()=>{try{const A=await U.get(`/api/mobile/pairing-status/${O}`);A.data.status==="completed_or_expired"&&A.data.pending===!1?(d(5),m("completed"),clearInterval(C.current),M(),setTimeout(()=>P(),5e3)):A.data.status==="otp_verified"&&(d(4),m("otp_verified"))}catch{}},2e3)},[]),P=()=>{t(null),r(null),i(null),a(null),c(0),d(1),m(null),x(""),C.current&&clearInterval(C.current)},M=async()=>{S(!0);try{const O=await U.get("/api/mobile/paired-devices");_(O.data.devices||[])}catch(O){console.error("Failed to fetch paired devices:",O)}finally{S(!1)}},T=async()=>{var O,A;x(""),v(!0),P();try{const F={};E.trim()&&(F.serverUrl=E.trim());const j=await U.post("/api/mobile/init-pairing",F);t(j.data.qrCode),r(j.data.challengeId),i(j.data.otp),a(j.data.expiresAt),c(j.data.otpExpiresIn),d(2),m("waiting_otp"),N(j.data.challengeId)}catch(F){x(((A=(O=F.response)==null?void 0:O.data)==null?void 0:A.error)||"Failed to initiate pairing")}finally{v(!1)}},L=async(O,A)=>{var F,j;if(confirm(`Unpair "${A}"? The device will lose access immediately.`))try{await U.delete(`/api/mobile/unpair/${O}`),M()}catch(B){alert(((j=(F=B.response)==null?void 0:F.data)==null?void 0:j.error)||"Failed to unpair device")}},$=O=>O?new Date(O).toLocaleString():"";return h.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-black flex items-center gap-3 mb-2 tracking-tight",children:[h.jsx(Kn,{className:"w-8 h-8 text-neon-pink"}),"Secure Mobile Pairing"]}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Multi-factor device pairing  QR scan + OTP + credentials + 2FA"})]}),h.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-gray-800",children:[h.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(gt,{className:"w-5 h-5 text-neon-cyan"}),"Pair New Device"]}),e&&h.jsx(kX,{currentStep:u,pairingStep:f}),y&&h.jsxs("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-300 text-sm flex items-start gap-2",children:[h.jsx(jr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),y]}),u===5?h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20 border-2 border-green-500 flex items-center justify-center",children:h.jsx(VN,{className:"w-8 h-8 text-green-400"})}),h.jsx("h3",{className:"text-xl font-bold text-green-400 mb-2",children:"Device Paired Successfully"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"The mobile device now has secure access."})]}):e?h.jsxs("div",{children:[h.jsxs("div",{className:"text-center mb-5",children:[h.jsx("p",{className:"text-xs font-bold tracking-[3px] uppercase text-gray-400 mb-3",children:"Step 1  Scan this QR code with the Nexus mobile app"}),h.jsx("div",{className:"bg-white p-3 rounded-lg inline-block",children:h.jsx("img",{src:e,alt:"Pairing QR Code",className:"w-56 h-56"})})]}),h.jsxs("div",{className:"mb-5",children:[h.jsx("p",{className:"text-xs font-bold tracking-[3px] uppercase text-gray-400 mb-3",children:"Step 2  Share this OTP with the mobile user"}),h.jsx(EX,{otp:n,timeRemaining:l})]}),h.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 p-4 rounded-lg mb-4",children:[h.jsxs("p",{className:"text-xs font-bold text-gray-300 mb-2 flex items-center gap-1",children:[h.jsx(ci,{className:"w-3 h-3"})," Pairing Steps"]}),h.jsxs("ol",{className:"text-xs text-gray-400 space-y-1.5",children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-neon-cyan font-bold",children:"1."}),"Mobile user scans the QR code above"]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-neon-cyan font-bold",children:"2."}),"Tell them the 6-digit OTP shown above"]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-neon-cyan font-bold",children:"3."}),"They log in with their Nexus credentials"]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-neon-cyan font-bold",children:"4."}),"They enter their 2FA code to complete pairing"]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${f==="otp_verified"?"bg-yellow-400":"bg-neon-cyan"}`}),h.jsx("span",{className:"text-xs text-gray-400 font-mono",children:f==="otp_verified"?"OTP verified  waiting for login...":"Waiting for mobile device..."})]}),h.jsx("button",{onClick:P,className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded text-xs text-gray-400 hover:text-gray-200 hover:border-gray-500 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"text-center py-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-xl bg-neon-cyan/10 border-2 border-neon-cyan/30 flex items-center justify-center",children:h.jsx(rF,{className:"w-10 h-10 text-neon-cyan"})}),h.jsx("p",{className:"text-gray-400 mb-1",children:"No active pairing session"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Generate a QR code and OTP to start the secure pairing process"})]}),h.jsxs("div",{className:"mb-4 text-left",children:[h.jsx("label",{className:"text-[10px] font-bold tracking-[3px] uppercase text-gray-500 mb-1 block",children:"Server URL Override (optional)"}),h.jsx("input",{type:"text",value:E,onChange:O=>k(O.target.value),placeholder:"e.g. http://192.168.1.100:8080",className:"w-full bg-background-dark border-2 border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-300 placeholder-gray-600 focus:border-neon-cyan/50 focus:outline-none"}),h.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"Override if the auto-detected URL is incorrect (e.g. behind NAT/proxy)"})]}),h.jsx("button",{onClick:T,disabled:p,className:"w-full px-6 py-3 bg-neon-cyan text-gray-900 font-black text-sm tracking-wider uppercase rounded hover:bg-neon-cyan/90 disabled:opacity-50 transition-all",children:p?"Generating...":"Start Pairing"})]})]}),h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-gray-800",children:[h.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center justify-between",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Ss,{className:"w-5 h-5 text-green-400"}),"Paired Devices"]}),h.jsx("span",{className:"text-sm font-normal text-gray-500 font-mono",children:b.length})]}),w?h.jsxs("div",{className:"text-center py-12 text-gray-500",children:[h.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-gray-600 border-t-neon-cyan rounded-full mx-auto mb-3"}),"Loading devices..."]}):b.length===0?h.jsxs("div",{className:"text-center py-12 text-gray-500",children:[h.jsx(Kn,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),h.jsx("p",{className:"font-bold",children:"No devices paired"}),h.jsx("p",{className:"text-xs mt-2 text-gray-600",children:"Start the pairing process to connect a mobile device"})]}):h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-1",children:b.map(O=>h.jsx("div",{className:"bg-background-dark p-4 rounded-lg border border-gray-700 hover:border-neon-cyan/30 transition-all group",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Kn,{className:"w-4 h-4 text-neon-cyan flex-shrink-0"}),h.jsx("h3",{className:"font-bold text-sm truncate",children:O.deviceName})]}),h.jsxs("div",{className:"text-[10px] text-gray-500 space-y-0.5 font-mono",children:[h.jsxs("p",{children:["ID: ",O.id]}),h.jsxs("p",{children:["Paired by: ",h.jsx("span",{className:"text-gray-400",children:O.pairedBy})]}),h.jsxs("p",{children:["Paired: ",h.jsx("span",{className:"text-gray-400",children:$(O.pairedAt)})]}),O.lastUsed&&h.jsxs("p",{children:["Last used: ",h.jsx("span",{className:"text-gray-400",children:$(O.lastUsed*1e3)})]})]})]}),h.jsx("button",{onClick:()=>L(O.id,O.deviceName),className:"p-2 text-gray-600 hover:text-red-400 hover:bg-red-500/10 rounded transition-all opacity-0 group-hover:opacity-100",title:"Unpair device",children:h.jsx(Nr,{className:"w-4 h-4"})})]})},O.id))})]})]}),h.jsxs("div",{className:"mt-6 bg-gray-800/40 border border-gray-700 p-5 rounded-lg",children:[h.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2 text-sm",children:[h.jsx(gt,{className:"w-4 h-4 text-neon-cyan"}),"Security Layers"]}),h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[{Icon:Kn,label:"QR Challenge",desc:"Cryptographic challenge via QR code"},{Icon:KN,label:"OTP Verification",desc:"6-digit code, 60s expiry, 3 attempts max"},{Icon:Ss,label:"Credentials",desc:"Username + password verification"},{Icon:gt,label:"2FA Required",desc:"TOTP authenticator or recovery code"}].map((O,A)=>h.jsxs("div",{className:"bg-background-dark/50 p-3 rounded border border-gray-700/50",children:[h.jsx(O.Icon,{className:"w-5 h-5 text-neon-cyan mb-1"}),h.jsx("p",{className:"text-xs font-bold text-gray-300",children:O.label}),h.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:O.desc})]},A))})]})]})}const as=({icon:e,label:t,path:s,active:r,collapsed:n,onClick:i})=>{const o=h.jsxs("div",{className:Os("flex items-center gap-3 px-4 py-3 border-2 transition-all duration-100 font-bold text-sm uppercase tracking-tight",n&&"justify-center px-0",r?"bg-neon-pink translate-x-[-3px] translate-y-[-3px] shadow-brutal border-neon-pink":"bg-brutal-card text-tx/60 border-tx/[0.06] hover:border-neon-pink/40 hover:text-tx"),style:r?{color:"var(--on-neon-pink)"}:void 0,title:n?t:void 0,children:[h.jsx(e,{className:"w-5 h-5 shrink-0",strokeWidth:2.5}),!n&&h.jsx("span",{className:"truncate",children:t})]});return i?h.jsx("button",{onClick:i,className:"block w-full mb-[-2px] relative z-10 group text-left",children:o}):h.jsx(gn,{to:s,className:"block mb-[-2px] relative z-10 group",children:o})},q2=({icon:e,label:t,path:s,active:r,collapsed:n})=>h.jsx(gn,{to:s,className:"block group",title:n?t:void 0,children:h.jsxs("div",{className:Os("flex items-center gap-2.5 py-2 border-l-2 transition-all text-xs font-bold uppercase tracking-wider",n?"justify-center px-2 border-l-0":"pl-10 pr-4",r?"border-neon-cyan text-neon-cyan bg-neon-cyan/5":"border-tx/5 text-tx/35 hover:text-neon-cyan hover:border-neon-cyan/40"),children:[h.jsx(e,{className:"w-3.5 h-3.5 shrink-0",strokeWidth:2.5}),!n&&h.jsx("span",{children:t})]})});function jX({socket:e}){const t=xo(),s=yo(),{logout:r}=Fu(),[n,i]=g.useState(()=>{try{return localStorage.getItem("nexus-sidebar")==="collapsed"}catch{return!1}}),[o,a]=g.useState(!1),[l,c]=g.useState([]),[u,d]=g.useState(null),[f,m]=g.useState(!1);g.useEffect(()=>{const x=async()=>{try{const _=await U.get("/api/nodes");c(_.data.nodes||[])}catch{}};x();const b=setInterval(x,15e3);return e&&e.on("nodes:update",_=>c(_)),()=>{clearInterval(b),e&&e.off("nodes:update")}},[e]),g.useEffect(()=>{localStorage.setItem("nexus-sidebar",n?"collapsed":"expanded")},[n]),g.useEffect(()=>{t.pathname.startsWith("/settings")&&m(!0)},[t.pathname]),g.useEffect(()=>{const x=t.pathname.match(/^\/nodes\/([^/]+)\/processes/);x&&d(x[1])},[t.pathname]),g.useEffect(()=>{a(!1)},[t.pathname]);const p=x=>x==="/"?t.pathname==="/":t.pathname===x||t.pathname.startsWith(x+"/"),v=[{icon:Iu,label:"Themes",path:"/settings/themes"},{icon:zN,label:"Updates",path:"/settings/updates"},{icon:Ss,label:"API Keys",path:"/settings/api-keys"},{icon:V0,label:"Users",path:"/settings/users"}],y=n?"w-[72px]":"w-72";return h.jsx("div",{className:"min-h-screen bg-brutal-bg text-tx font-brutal selection:bg-neon-pink selection:text-white",children:h.jsxs("div",{className:"flex h-screen overflow-hidden",children:[o&&h.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden",onClick:()=>a(!1)}),h.jsxs("aside",{className:Os("border-r-[3px] border-neon-pink/20 flex flex-col bg-brutal-surface transition-all duration-200 shrink-0","hidden lg:flex",y),children:[h.jsx("div",{className:Os("border-b-[3px] border-neon-pink/20 bg-gradient-to-br from-neon-pink/10 to-neon-purple/10",n?"p-3 flex items-center justify-center":"p-6"),children:n?h.jsx("h1",{className:"text-xl font-black tracking-tighter italic text-neon-pink",style:{textShadow:"0 0 20px var(--neon-pink)"},children:"N"}):h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-4xl font-black tracking-tighter italic text-neon-pink",style:{textShadow:"0 0 30px var(--neon-pink)"},children:"NEXUS"}),h.jsx("p",{className:"text-[9px] font-bold uppercase mt-2 border border-neon-cyan/30 inline-block px-2 py-1 bg-brutal-bg/60 text-neon-cyan tracking-[0.25em]",children:"SYS_MONITOR // RAW"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("button",{onClick:()=>i(x=>!x),className:Os("w-full flex items-center gap-2 px-3 py-2 border-2 border-tx/[0.06] bg-brutal-card text-tx/30 hover:text-neon-pink hover:border-neon-pink/30 transition-all text-[10px] font-bold uppercase tracking-widest",n&&"justify-center"),children:n?h.jsx(x$,{className:"w-4 h-4"}):h.jsxs(h.Fragment,{children:[h.jsx(d$,{className:"w-4 h-4"}),h.jsx("span",{children:"Collapse"})]})}),!n&&h.jsx("div",{className:"bg-neon-pink px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[-2deg] tracking-widest",style:{color:"var(--on-neon-pink)"},children:"Navigation"}),h.jsx(as,{icon:yw,label:"Overview",path:"/",active:p("/"),collapsed:n}),h.jsx(as,{icon:Yh,label:"Nodes",path:"/nodes",active:t.pathname.startsWith("/nodes"),collapsed:n}),h.jsx(as,{icon:qh,label:"Logs",path:"/logs",active:p("/logs"),collapsed:n}),h.jsx(as,{icon:un,label:"Console",path:"/console",active:p("/console"),collapsed:n}),h.jsx(as,{icon:Kn,label:"Mobile",path:"/mobile-pairing",active:p("/mobile-pairing"),collapsed:n}),h.jsxs("div",{children:[h.jsx(as,{icon:Z1,label:"Settings",active:t.pathname.startsWith("/settings"),collapsed:n,onClick:()=>{n?s("/settings/themes"):(m(x=>!x),f||s("/settings/themes"))}}),h.jsx(Xt,{children:f&&!n&&h.jsx(re.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},className:"overflow-hidden",children:v.map(x=>h.jsx(q2,{icon:x.icon,label:x.label,path:x.path,active:p(x.path),collapsed:n},x.path))})})]})]}),!n&&h.jsxs("div",{className:"mt-10 space-y-3",children:[h.jsx("div",{className:"bg-neon-cyan/80 px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[1deg] tracking-widest",style:{color:"var(--on-neon-cyan)"},children:"System"}),h.jsxs("div",{className:"border-[3px] border-neon-cyan/20 p-4 bg-brutal-card shadow-brutal-cyan",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold uppercase text-xs text-neon-cyan",children:[h.jsx("div",{className:"w-2.5 h-2.5 bg-neon-cyan border border-neon-cyan/60 rounded-none animate-pulse"}),"Online"]}),h.jsxs("div",{className:"text-[10px] uppercase leading-relaxed text-tx/40 font-mono",children:["Nodes: ",l.filter(x=>x.status==="online").length,"/",l.length,h.jsx("br",{}),"Stream: 5s interval",h.jsx("br",{}),"Auth: JWT secured"]})]})]})]}),h.jsxs("div",{className:"p-3 border-t-[3px] border-neon-pink/20 bg-brutal-surface",children:[h.jsxs("button",{onClick:r,className:Os("w-full py-2.5 border-2 border-red-500/50 bg-red-500/10 text-red-400 font-bold uppercase tracking-widest text-xs flex items-center justify-center gap-2 hover:bg-red-500/20 hover:translate-x-[2px] hover:translate-y-[2px] active:translate-x-[4px] active:translate-y-[4px] shadow-brutal-sm active:shadow-none transition-all",n&&"px-0"),children:[h.jsx(v1,{className:"w-4 h-4"}),!n&&"Disconnect"]}),!n&&h.jsx("div",{className:"text-center text-[8px] mt-2 tracking-[0.4em] text-tx/15 font-bold uppercase",children:"Dronzer Studios"})]})]}),h.jsxs("aside",{className:Os("fixed inset-y-0 left-0 z-50 w-72 border-r-[3px] border-neon-pink/20 flex flex-col bg-brutal-surface transition-transform duration-300 lg:hidden",o?"translate-x-0":"-translate-x-full"),children:[h.jsxs("div",{className:"p-6 border-b-[3px] border-neon-pink/20 bg-gradient-to-br from-neon-pink/10 to-neon-purple/10",children:[h.jsx("h1",{className:"text-4xl font-black tracking-tighter italic text-neon-pink",style:{textShadow:"0 0 30px var(--neon-pink)"},children:"NEXUS"}),h.jsx("p",{className:"text-[9px] font-bold uppercase mt-2 border border-neon-cyan/30 inline-block px-2 py-1 bg-brutal-bg/60 text-neon-cyan tracking-[0.25em]",children:"SYS_MONITOR // RAW"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"bg-neon-pink px-2 py-1 text-[10px] font-bold uppercase inline-block rotate-[-2deg] tracking-widest",style:{color:"var(--on-neon-pink)"},children:"Navigation"}),h.jsx(as,{icon:yw,label:"Overview",path:"/",active:p("/"),collapsed:!1}),h.jsx(as,{icon:Yh,label:"Nodes",path:"/nodes",active:t.pathname.startsWith("/nodes"),collapsed:!1}),h.jsx(as,{icon:qh,label:"Logs",path:"/logs",active:p("/logs"),collapsed:!1}),h.jsx(as,{icon:un,label:"Console",path:"/console",active:p("/console"),collapsed:!1}),h.jsx(as,{icon:Kn,label:"Mobile",path:"/mobile-pairing",active:p("/mobile-pairing"),collapsed:!1}),h.jsxs("div",{children:[h.jsx(as,{icon:Z1,label:"Settings",active:t.pathname.startsWith("/settings"),collapsed:!1,onClick:()=>{m(x=>!x),f||s("/settings/themes")}}),h.jsx(Xt,{children:f&&h.jsx(re.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},className:"overflow-hidden",children:v.map(x=>h.jsx(q2,{icon:x.icon,label:x.label,path:x.path,active:p(x.path),collapsed:!1},x.path))})})]})]})}),h.jsx("div",{className:"p-3 border-t-[3px] border-neon-pink/20 bg-brutal-surface",children:h.jsxs("button",{onClick:r,className:"w-full py-2.5 border-2 border-red-500/50 bg-red-500/10 text-red-400 font-bold uppercase tracking-widest text-xs flex items-center justify-center gap-2 hover:bg-red-500/20 transition-all",children:[h.jsx(v1,{className:"w-4 h-4"}),"Disconnect"]})})]}),h.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-brutal-bg overflow-hidden relative",children:[h.jsxs("header",{className:"h-11 border-b-[3px] border-neon-pink/20 bg-neon-pink/[0.07] flex items-center overflow-hidden whitespace-nowrap",children:[h.jsx("button",{onClick:()=>a(!0),className:"lg:hidden flex-shrink-0 px-3 py-2 text-neon-pink hover:bg-neon-pink/10 transition-colors",children:h.jsx(e$,{className:"w-5 h-5"})}),h.jsxs("div",{className:"animate-marquee flex items-center gap-12 font-bold font-mono text-[11px] uppercase tracking-widest text-neon-pink/50",children:[h.jsx("span",{children:"/// SYSTEM STATUS: OPERATIONAL"}),h.jsx("span",{children:"/// NEXUS MONITORING ACTIVE"}),h.jsx("span",{children:"/// REAL-TIME METRICS STREAM"}),h.jsx("span",{children:"/// WEBSOCKET: CONNECTED"}),h.jsx("span",{children:"/// PROTOCOL: SECURE"}),h.jsx("span",{children:"/// SYSTEM STATUS: OPERATIONAL"}),h.jsx("span",{children:"/// NEXUS MONITORING ACTIVE"}),h.jsx("span",{children:"/// REAL-TIME METRICS STREAM"}),h.jsx("span",{children:"/// WEBSOCKET: CONNECTED"}),h.jsx("span",{children:"/// PROTOCOL: SECURE"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8",children:h.jsx(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{type:"spring",stiffness:100,damping:20},children:h.jsxs(bm,{children:[h.jsx(Zt,{path:"/",element:h.jsx(n7,{socket:e})}),h.jsx(Zt,{path:"/nodes",element:h.jsx(o7,{socket:e})}),h.jsx(Zt,{path:"/nodes/:agentId",element:h.jsx(zU,{socket:e})}),h.jsx(Zt,{path:"/nodes/:agentId/processes",element:h.jsx(SX,{socket:e})}),h.jsx(Zt,{path:"/console",element:h.jsx(wX,{socket:e})}),h.jsx(Zt,{path:"/logs",element:h.jsx(HU,{socket:e})}),h.jsx(Zt,{path:"/mobile-pairing",element:h.jsx(NX,{})}),h.jsx(Zt,{path:"/settings",element:h.jsx(yE,{to:"/settings/themes",replace:!0})}),h.jsx(Zt,{path:"/settings/:tab",element:h.jsx(ZU,{})})]})},t.pathname)}),h.jsx("div",{className:"absolute top-16 right-8 w-12 h-12 border-t-[3px] border-r-[3px] border-neon-pink/[0.08] pointer-events-none hidden md:block"}),h.jsx("div",{className:"absolute bottom-8 right-8 w-12 h-12 border-b-[3px] border-r-[3px] border-neon-cyan/[0.08] pointer-events-none hidden md:block"})]})]})})}function PX(){var mx;const{theme:e,loadBuiltIn:t}=nx(),[s,r]=g.useState(1),[n,i]=g.useState(!1),[o,a]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState(""),[p,v]=g.useState(null),[y,x]=g.useState(""),[b,_]=g.useState(""),[w,S]=g.useState(""),[E,k]=g.useState([]),[C,N]=g.useState(!1),[P,M]=g.useState(""),[T,L]=g.useState(""),[$,O]=g.useState(80),[A,F]=g.useState(85),[j,B]=g.useState(90),[V,Y]=g.useState(!1),[D,K]=g.useState(15),[X,z]=g.useState((e==null?void 0:e.id)||"dark"),Z=7,de=J=>{z(J),t(J)},Fe=async J=>{var pe;if(J.preventDefault(),a(""),u!==f){a("Passwords do not match");return}i(!0);try{const De=await U.post("/api/onboarding/step1",{username:l,password:u});v(De.data.userId),r(4)}catch(De){const ze=(pe=De.response)==null?void 0:pe.data;ze!=null&&ze.details?a(ze.details.join(", ")):ze!=null&&ze.message?a(`${ze.error}: ${ze.message}`):a((ze==null?void 0:ze.error)||"Failed to create account")}finally{i(!1)}},Qe=async()=>{var J,pe;a(""),i(!0);try{const De=await U.post("/api/onboarding/step2",{action:"generate",userId:p});x(De.data.secret),_(De.data.qrCode)}catch(De){a(((pe=(J=De.response)==null?void 0:J.data)==null?void 0:pe.error)||"Failed to generate 2FA secret")}finally{i(!1)}},yi=async J=>{var pe,De;J.preventDefault(),a(""),i(!0);try{const ze=await U.post("/api/onboarding/step2",{action:"verify",userId:p,totpCode:w});k(ze.data.recoveryCodes)}catch(ze){a(((De=(pe=ze.response)==null?void 0:pe.data)==null?void 0:De.error)||"Invalid 2FA code")}finally{i(!1)}},kn=async()=>{var J,pe;a(""),i(!0),Y(!1);try{await U.post("/api/onboarding/test-discord",{botToken:P,userId:T}),Y(!0)}catch(De){a(((pe=(J=De.response)==null?void 0:J.data)==null?void 0:pe.error)||"Failed to send test alert")}finally{i(!1)}},zs=async()=>{var J,pe;a(""),i(!0);try{await U.post("/api/onboarding/step3",{enabled:C,botToken:P,userId:T,thresholds:{cpu:$,memory:A,disk:j}}),r(6)}catch(De){a(((pe=(J=De.response)==null?void 0:J.data)==null?void 0:pe.error)||"Failed to save alert configuration")}finally{i(!1)}},fe=async()=>{var J,pe;a(""),i(!0);try{await U.post("/api/onboarding/step4",{interval:D}),r(7)}catch(De){a(((pe=(J=De.response)==null?void 0:J.data)==null?void 0:pe.error)||"Failed to save metrics interval")}finally{i(!1)}},Po=async()=>{var J,pe,De,ze;i(!0);try{await U.post("/api/onboarding/complete"),window.location.href="/"}catch(gx){const Ju=(pe=(J=gx.response)==null?void 0:J.data)==null?void 0:pe.missing;Ju&&Ju.length>0?a("Setup incomplete: "+Ju.join(", ")):a(((ze=(De=gx.response)==null?void 0:De.data)==null?void 0:ze.error)||"Failed to complete onboarding"),i(!1)}};g.useEffect(()=>{s===4&&p&&!y&&Qe()},[s,p]),g.useEffect(()=>{a("")},[s]);const Al=o?h.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-300",children:o}):null;return h.jsxs("div",{className:"min-h-screen bg-background-dark text-white flex flex-col",children:[h.jsx("div",{className:"bg-background-light border-b border-gray-800",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Setup Progress"}),h.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",s," of ",Z]})]}),h.jsx("div",{className:"w-full bg-background-dark rounded-full h-2",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${s/Z*100}%`}})})]})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:h.jsxs("div",{className:"w-full",children:[s===1&&h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("img",{src:"/favicon.png",alt:"Nexus",className:"w-20 h-20 mx-auto mb-6"}),h.jsx("h1",{className:"text-4xl font-bold text-neon-pink",children:"Welcome to Nexus"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Remote resource monitoring and management platform"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 max-w-3xl mx-auto mt-8",children:[h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-neon-cyan/30",children:[h.jsx(Pl,{className:"w-8 h-8 text-neon-cyan mb-3 mx-auto"}),h.jsx("h3",{className:"font-bold mb-2",children:"Real-time Monitoring"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Track CPU, RAM, disk, and network metrics"})]}),h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-neon-pink/30",children:[h.jsx(gt,{className:"w-8 h-8 text-neon-pink mb-3 mx-auto"}),h.jsx("h3",{className:"font-bold mb-2",children:"Secure Access"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Mandatory 2FA and encrypted connections"})]}),h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-neon-purple/30",children:[h.jsx(jr,{className:"w-8 h-8 text-neon-purple mb-3 mx-auto"}),h.jsx("h3",{className:"font-bold mb-2",children:"Smart Alerts"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when thresholds are exceeded"})]}),h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border-2 border-primary/30",children:[h.jsx(WN,{className:"w-8 h-8 text-primary mb-3 mx-auto"}),h.jsx("h3",{className:"font-bold mb-2",children:"Multi-node Management"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Monitor multiple servers from one dashboard"})]})]}),h.jsx("button",{onClick:()=>r(2),className:"mt-8 px-8 py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 transition-all",children:"Continue to Setup "})]}),s===2&&h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(Iu,{className:"w-12 h-12 text-neon-purple mx-auto mb-4"}),h.jsx("h2",{className:"text-3xl font-bold text-neon-pink mb-2",children:"Choose Your Theme"}),h.jsx("p",{className:"text-gray-400",children:"Pick a look that suits you  you can customize it later in Settings"})]}),h.jsx("div",{className:"space-y-4",children:Object.entries(cs).map(([J,pe])=>h.jsx("button",{onClick:()=>de(J),className:`w-full p-5 rounded-lg border-2 transition-all text-left ${X===J?"border-primary bg-primary/10 ring-2 ring-primary/30":"border-gray-700 hover:border-gray-500"}`,children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"flex gap-1.5 shrink-0",children:[pe.colors.bgPrimary,pe.colors.accent1,pe.colors.accent2,pe.colors.accent3,pe.colors.accent4].map((De,ze)=>h.jsx("div",{className:"w-7 h-7 rounded-full border border-white/20",style:{backgroundColor:De}},ze))}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-bold text-lg",children:pe.name}),h.jsxs("div",{className:"text-sm text-gray-400",children:[J==="dark"&&"Classic dark terminal aesthetic",J==="light"&&"Soft, warm light palette",J==="readyPlayerOne"&&"Vibrant retro-futuristic colors"]})]}),X===J&&h.jsx(ye,{className:"w-6 h-6 text-primary shrink-0"})]})},J))}),h.jsx("button",{onClick:()=>r(3),className:"w-full mt-8 py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 transition-all",children:"Continue "})]}),s===3&&h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("h2",{className:"text-3xl font-bold text-neon-pink mb-2",children:"Administrator Setup"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Create your admin account to manage Nexus"}),Al,h.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),h.jsx("input",{type:"text",value:l,onChange:J=>c(J.target.value),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",required:!0,minLength:3,maxLength:32,pattern:"[a-zA-Z0-9_\\-]+",autoFocus:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-32 characters, letters, numbers, - and _ only"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),h.jsx("input",{type:"password",value:u,onChange:J=>d(J.target.value),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",required:!0,minLength:8})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),h.jsx("input",{type:"password",value:f,onChange:J=>m(J.target.value),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),h.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-gray-700",children:[h.jsx("p",{className:"text-sm font-medium mb-2",children:"Password Requirements:"}),h.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-4 h-4 text-green-400"})," At least 8 characters"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-4 h-4 text-green-400"})," Uppercase & lowercase letters"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-4 h-4 text-green-400"})," At least one number"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-4 h-4 text-green-400"})," At least one special character (@$!%*?&)"]})]})]}),h.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-all",children:n?"Creating Account...":"Continue to 2FA Setup "})]})]}),s===4&&h.jsxs("div",{className:"max-w-lg mx-auto",children:[h.jsx("h2",{className:"text-3xl font-bold text-neon-pink mb-2",children:"Two-Factor Authentication"}),h.jsxs("p",{className:"text-gray-400 mb-6",children:[h.jsxs("span",{className:"text-red-400 font-bold flex items-center gap-1",children:[h.jsx(jr,{className:"w-4 h-4"})," Required:"]})," 2FA cannot be skipped"]}),Al,E.length?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-green-500/20 border border-green-500 rounded-lg p-4",children:[h.jsxs("h3",{className:"font-bold text-green-300 mb-2 flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5"})," 2FA Enabled Successfully!"]}),h.jsx("p",{className:"text-sm text-gray-300",children:"Save these recovery codes in a safe place."})]}),h.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-yellow-500",children:[h.jsxs("h3",{className:"font-bold text-yellow-300 mb-3 flex items-center gap-2",children:[h.jsx(Ss,{className:"w-5 h-5"})," Recovery Codes"]}),h.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Use these codes if you lose access to your authenticator app. Each code can only be used once."}),h.jsx("div",{className:"grid grid-cols-2 gap-2 font-mono text-sm",children:E.map((J,pe)=>h.jsx("div",{className:"bg-background-dark p-2 rounded text-center",children:J},pe))})]}),h.jsx("button",{onClick:()=>r(5),className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 transition-all",children:"I've Saved My Recovery Codes "})]}):h.jsxs("div",{className:"space-y-6",children:[b&&h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Scan this QR code with your authenticator app:"}),h.jsx("div",{className:"inline-block p-4 bg-white rounded-lg",children:h.jsx("img",{src:b,alt:"2FA QR Code",className:"w-64 h-64"})})]}),y&&h.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-gray-700",children:[h.jsx("p",{className:"text-sm font-medium mb-2",children:"Or enter manually:"}),h.jsx("code",{className:"text-xs text-neon-cyan break-all",children:y})]}),h.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-gray-700",children:[h.jsx("p",{className:"text-sm font-medium mb-2",children:"Recommended apps:"}),h.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[h.jsx("li",{children:" Google Authenticator"}),h.jsx("li",{children:" Microsoft Authenticator"}),h.jsx("li",{children:" Authy"}),h.jsx("li",{children:" 1Password"})]})]}),h.jsxs("form",{onSubmit:yi,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enter 6-digit code to verify:"}),h.jsx("input",{type:"text",value:w,onChange:J=>S(J.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,autoComplete:"one-time-code",inputMode:"numeric",required:!0})]}),h.jsx("button",{type:"submit",disabled:n||w.length!==6,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-all",children:n?"Verifying...":"Verify & Continue "})]})]})]}),s===5&&h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("h2",{className:"text-3xl font-bold text-neon-pink mb-2",children:"Alert Notifications"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Get notified via Discord DM when metrics exceed thresholds"}),Al,h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"checkbox",id:"alerts-enabled",checked:C,onChange:J=>N(J.target.checked),className:"w-5 h-5"}),h.jsx("label",{htmlFor:"alerts-enabled",className:"font-medium",children:"Enable Alerts"})]}),C&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-background-light p-4 rounded-lg border border-gray-700",children:[h.jsxs("p",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[h.jsx(o1,{className:"w-4 h-4 text-blue-400"})," Discord Bot Setup"]}),h.jsxs("ol",{className:"text-xs text-gray-400 space-y-1 mb-4",children:[h.jsxs("li",{children:["1. Go to ",h.jsx("a",{href:"https://discord.com/developers/applications",target:"_blank",rel:"noopener noreferrer",className:"text-neon-cyan underline",children:"Discord Developer Portal"})]}),h.jsx("li",{children:"2. Create a new Application  Bot  Copy the bot token"}),h.jsx("li",{children:'3. Enable "Message Content Intent" under Privileged Gateway Intents'}),h.jsx("li",{children:"4. Invite the bot to a server you share using the OAuth2 URL Generator"}),h.jsx("li",{children:"5. Right-click your Discord profile  Copy User ID (enable Developer Mode in settings)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discord Bot Token"}),h.jsx("input",{type:"password",value:P,onChange:J=>M(J.target.value),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",placeholder:"Paste your bot token here"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Discord User ID"}),h.jsx("input",{type:"text",value:T,onChange:J=>L(J.target.value.replace(/\D/g,"")),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g. 123456789012345678"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:kn,disabled:!P||!T||n,className:"px-4 py-2 bg-neon-cyan text-black font-bold rounded-lg hover:bg-neon-cyan/90 disabled:opacity-50 text-sm",children:n?"Testing...":"Send Test DM"}),V&&h.jsxs("span",{className:"ml-3 text-sm text-green-400 flex items-center gap-1 inline-flex",children:[h.jsx(ye,{className:"w-4 h-4"})," Test alert sent! Check your DMs."]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"CPU Threshold (%)"}),h.jsx("input",{type:"number",value:$,onChange:J=>O(Number(J.target.value)),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",min:1,max:100})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Memory Threshold (%)"}),h.jsx("input",{type:"number",value:A,onChange:J=>F(Number(J.target.value)),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",min:1,max:100})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Disk Threshold (%)"}),h.jsx("input",{type:"number",value:j,onChange:J=>B(Number(J.target.value)),className:"w-full px-4 py-2 bg-background-light border border-gray-600 rounded-lg focus:outline-none focus:border-primary",min:1,max:100})]})]})]}),h.jsx("div",{className:"flex gap-4",children:h.jsx("button",{onClick:zs,disabled:n,className:"flex-1 py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-all",children:n?"Saving...":C?"Save & Continue ":"Skip for Now "})})]})]}),s===6&&h.jsxs("div",{className:"max-w-lg mx-auto",children:[h.jsx("h2",{className:"text-3xl font-bold text-neon-pink mb-2",children:"Data Collection Settings"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"How often should metrics be collected?"}),Al,h.jsx("div",{className:"space-y-4",children:[{value:5,label:"5 seconds",desc:"High CPU usage, real-time data"},{value:15,label:"15 seconds",desc:"Recommended balance"},{value:30,label:"30 seconds",desc:"Balanced performance"},{value:60,label:"60 seconds",desc:"Low overhead"}].map(J=>h.jsx("label",{className:`block p-4 rounded-lg border-2 cursor-pointer transition-all ${D===J.value?"border-primary bg-primary/10":"border-gray-700 hover:border-gray-600"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"radio",name:"interval",value:J.value,checked:D===J.value,onChange:()=>K(J.value),className:"w-5 h-5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-bold",children:J.label}),h.jsx("div",{className:"text-sm text-gray-400",children:J.desc})]})]})},J.value))}),h.jsx("div",{className:"mt-6 bg-background-light p-4 rounded-lg border border-blue-500/30",children:h.jsxs("p",{className:"text-sm text-gray-300 flex items-center gap-2",children:[h.jsx(o1,{className:"w-4 h-4 text-blue-400 flex-shrink-0"})," Lower intervals provide real-time data but increase CPU usage on monitored nodes."]})}),h.jsx("button",{onClick:fe,disabled:n,className:"w-full mt-6 py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-all",children:n?"Saving...":"Complete Setup "})]}),s===7&&h.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[h.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-green-500/20 border-2 border-green-500 flex items-center justify-center",children:h.jsx(ye,{className:"w-10 h-10 text-green-400"})}),h.jsx("h1",{className:"text-4xl font-bold text-neon-pink mb-4",children:"Nexus is Ready!"}),h.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Your dashboard is now fully configured and ready to use."}),h.jsxs("div",{className:"bg-background-light p-6 rounded-lg border border-gray-700 mb-8",children:[h.jsx("h3",{className:"font-bold mb-4 text-left",children:"Configuration Summary:"}),h.jsxs("div",{className:"text-left space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5 text-green-400"}),h.jsxs("span",{children:["Theme: ",h.jsx("span",{className:"text-neon-cyan",children:((mx=cs[X])==null?void 0:mx.name)||"Custom"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5 text-green-400"}),h.jsxs("span",{children:["Admin account created: ",h.jsx("span",{className:"text-neon-cyan",children:l})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5 text-green-400"}),h.jsxs("span",{children:["2FA enabled with ",E.length," recovery codes"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5 text-green-400"}),h.jsxs("span",{children:["Alerts ",C?"enabled (Discord bot)":"disabled"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5 text-green-400"}),h.jsxs("span",{children:["Metrics refresh: every ",D," seconds"]})]})]})]}),h.jsxs("div",{className:"bg-blue-500/20 border border-blue-500 p-6 rounded-lg mb-8 text-left",children:[h.jsx("h3",{className:"font-bold text-blue-300 mb-3",children:"Next Steps:"}),h.jsxs("ol",{className:"space-y-2 text-sm text-gray-300",children:[h.jsx("li",{children:"1. Add your first node to start monitoring"}),h.jsx("li",{children:"2. Download the mobile app (optional)"}),h.jsx("li",{children:"3. Scan QR code to pair mobile app"})]})]}),h.jsx("button",{onClick:Po,disabled:n,className:"px-8 py-4 bg-primary text-on-primary font-bold text-lg rounded-lg hover:bg-primary/90 disabled:opacity-50 transition-all",children:n?"Opening Dashboard...":"Open Dashboard "})]})]})})]})}function TX(){yo();const{login:e}=Fu(),[t,s]=g.useState("credentials"),[r,n]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[m,p]=g.useState(""),[v,y]=g.useState(""),[x,b]=g.useState(""),[_,w]=g.useState([]),[S,E]=g.useState(!1),[k,C]=g.useState(null),[N,P]=g.useState(null),[M,T]=g.useState(!1),[L,$]=g.useState(""),[O,A]=g.useState(!1),F=async D=>{var K,X;D.preventDefault(),$(""),T(!0);try{const z=await U.post("/api/auth/login",{username:r,password:i});if(z.data.requires2FASetup){C(z.data.token),P(z.data.user);const Z=await U.post("/api/auth/2fa/enable",{},{headers:{Authorization:`Bearer ${z.data.token}`}});p(Z.data.secret),y(Z.data.qrCode),s("setup2fa")}else z.data.requires2FA?s("totp"):z.data.token&&(e(z.data.user,z.data.token),window.location.href="/")}catch(z){$(((X=(K=z.response)==null?void 0:K.data)==null?void 0:X.error)||"Login failed. Please try again.")}finally{T(!1)}},j=async D=>{var K,X;D.preventDefault(),$(""),T(!0);try{const z=await U.post("/api/auth/login",{username:r,password:i,totpCode:d?void 0:a,recoveryCode:d?c:void 0});e(z.data.user,z.data.token),window.location.href="/"}catch(z){$(((X=(K=z.response)==null?void 0:K.data)==null?void 0:X.error)||"Verification failed."),l(""),u("")}finally{T(!1)}},B=async D=>{var K,X;D.preventDefault(),$(""),T(!0);try{const z=await U.post("/api/auth/2fa/verify-setup",{totpCode:x},{headers:{Authorization:`Bearer ${k}`}});z.data.recoveryCodes?(w(z.data.recoveryCodes),E(!0)):(e(N,k),window.location.href="/")}catch(z){$(((X=(K=z.response)==null?void 0:K.data)==null?void 0:X.error)||"2FA setup failed."),b("")}finally{T(!1)}},V=()=>{e(N,k),window.location.href="/"},Y=D=>{navigator.clipboard.writeText(D),A(!0),setTimeout(()=>A(!1),2e3)};return h.jsx("div",{className:"min-h-screen bg-background-dark text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("img",{src:"/favicon.png",alt:"Nexus",className:"w-16 h-16 mx-auto mb-4"}),h.jsx("h1",{className:"text-4xl font-bold text-neon-pink mb-2",children:"Nexus"}),h.jsx("p",{className:"text-gray-400",children:"Remote Resource Monitoring"})]}),h.jsxs("div",{className:"bg-background-light p-8 rounded-lg border-2 border-gray-800",children:[t==="credentials"&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[h.jsx(ci,{className:"w-6 h-6 text-neon-pink"}),"Sign In"]}),L&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-300 text-sm",children:L}),h.jsxs("form",{onSubmit:F,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(w9,{className:"w-4 h-4"})," Username"]}),h.jsx("input",{type:"text",value:r,onChange:D=>n(D.target.value),className:"w-full px-4 py-2 bg-background-dark border border-gray-600 rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0,autoComplete:"username",disabled:M})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(ci,{className:"w-4 h-4"})," Password"]}),h.jsx("input",{type:"password",value:i,onChange:D=>o(D.target.value),className:"w-full px-4 py-2 bg-background-dark border border-gray-600 rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0,autoComplete:"current-password",disabled:M})]}),h.jsx("button",{type:"submit",disabled:M||!r||!i,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:M?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"})," Signing In..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ss,{className:"w-5 h-5"})," Continue"]})})]})]}),t==="totp"&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[h.jsx(gt,{className:"w-6 h-6 text-neon-cyan"}),"Two-Factor Authentication"]}),L&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-300 text-sm",children:L}),h.jsxs("form",{onSubmit:j,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(gt,{className:"w-4 h-4 text-neon-cyan"}),d?"Recovery Code":"2FA Code"]}),d?h.jsx("input",{type:"text",value:c,onChange:D=>u(D.target.value.toUpperCase()),className:"w-full px-4 py-2 bg-background-dark border border-gray-600 rounded-lg focus:outline-none focus:border-primary transition-colors text-center font-mono",placeholder:"XXXX-XXXX",required:!0,disabled:M,autoFocus:!0}):h.jsx("input",{type:"text",value:a,onChange:D=>l(D.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-2 bg-background-dark border border-gray-600 rounded-lg focus:outline-none focus:border-primary transition-colors text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,required:!0,autoComplete:"one-time-code",disabled:M,autoFocus:!0}),h.jsx("button",{type:"button",onClick:()=>{f(!d),l(""),u("")},className:"mt-2 text-sm text-neon-cyan hover:text-neon-cyan/80 transition-colors",disabled:M,children:d?" Use 2FA Code":"Use Recovery Code "})]}),h.jsx("button",{type:"submit",disabled:M,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:M?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"})," Verifying..."]}):h.jsxs(h.Fragment,{children:[h.jsx(gt,{className:"w-5 h-5"})," Verify & Sign In"]})}),h.jsx("button",{type:"button",onClick:()=>{s("credentials"),$(""),l(""),u("")},className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:" Back to login"})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:h.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 p-3 rounded-lg",children:h.jsxs("p",{className:"text-xs text-gray-300 flex items-start gap-2",children:[h.jsx(gt,{className:"w-4 h-4 text-blue-400 flex-shrink-0 mt-0.5"}),h.jsx("span",{children:"Enter the 6-digit code from your authenticator app, or use a recovery code if you've lost access."})]})})})]}),t==="setup2fa"&&!S&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(gt,{className:"w-6 h-6 text-neon-cyan"}),"Set Up Two-Factor Auth"]}),h.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Scan the QR code with your authenticator app (e.g. Google Authenticator, Authy), then enter the 6-digit code below."}),L&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-300 text-sm",children:L}),v&&h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("img",{src:v,alt:"2FA QR Code",className:"w-48 h-48 rounded-lg border border-gray-700"})}),h.jsxs("div",{className:"mb-4 p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[h.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Manual entry key:"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("code",{className:"text-sm font-mono text-neon-cyan flex-1 break-all",children:m}),h.jsx("button",{onClick:()=>Y(m),className:"text-gray-400 hover:text-white transition-colors p-1",title:"Copy secret",children:O?h.jsx(ye,{className:"w-4 h-4 text-green-400"}):h.jsx(ei,{className:"w-4 h-4"})})]})]}),h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Verification Code"}),h.jsx("input",{type:"text",value:x,onChange:D=>b(D.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-2 bg-background-dark border border-gray-600 rounded-lg focus:outline-none focus:border-primary transition-colors text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,required:!0,disabled:M,autoFocus:!0})]}),h.jsx("button",{type:"submit",disabled:M||x.length!==6,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:M?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"})," Verifying..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ye,{className:"w-5 h-5"})," Verify & Enable 2FA"]})})]})]}),S&&h.jsxs(h.Fragment,{children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[h.jsx(Ss,{className:"w-6 h-6 text-neon-yellow"}),"Recovery Codes"]}),h.jsx("div",{className:"mb-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:h.jsxs("p",{className:"text-xs text-yellow-300",children:[h.jsx("strong",{children:"Save these codes!"})," If you lose access to your authenticator app, you can use these one-time codes to sign in. Each code can only be used once."]})}),h.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:_.map((D,K)=>h.jsx("div",{className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-center font-mono text-sm text-white",children:D},K))}),h.jsxs("button",{onClick:()=>Y(_.join(`
`)),className:"w-full mb-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-sm text-gray-300 hover:text-white transition-colors flex items-center justify-center gap-2",children:[h.jsx(ei,{className:"w-4 h-4"}),O?"Copied!":"Copy All Codes"]}),h.jsxs("button",{onClick:V,className:"w-full py-3 bg-primary text-on-primary font-bold rounded-lg hover:bg-primary/90 transition-all flex items-center justify-center gap-2",children:[h.jsx(ye,{className:"w-5 h-5"})," I've Saved My Codes  Continue"]})]})]}),h.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:h.jsx("p",{children:"Nexus v2.2.8 - Dronzer Studios"})})]})})}const LX=({children:e})=>{const{isAuthenticated:t,loading:s}=Fu();return s?h.jsx("div",{className:"min-h-screen bg-background-dark flex items-center justify-center",children:h.jsx("div",{className:"font-mono text-neon-cyan animate-pulse",children:"Loading auth data..."})}):t?e:h.jsx(yE,{to:"/login",replace:!0})};function MX(){const[e,t]=g.useState(null),[s,r]=g.useState(null),[n,i]=g.useState(!0);g.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await U.get("/api/onboarding/status");r(l.data),l.data.completed&&a()}catch(l){console.error("Failed to check onboarding status:",l),r({completed:!1})}finally{i(!1)}},a=()=>{const l=localStorage.getItem("token"),c=qc(window.location.origin,{path:"/socket.io",transports:["websocket","polling"],auth:{token:l||""}});c.on("connect",()=>console.log("Connected to Nexus server")),c.on("disconnect",()=>console.log("Disconnected from server")),c.on("connect_error",u=>{console.error("Connection error:",u.message),(u.message.includes("Authentication")||u.message.includes("Invalid")||u.message.includes("expired"))&&c.disconnect()}),t(c)};return n?h.jsx(fp,{children:h.jsx("div",{className:"min-h-screen bg-background-dark flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:"/favicon.png",alt:"Nexus",className:"w-16 h-16 mx-auto mb-4"}),h.jsx("div",{className:"font-mono text-neon-pink text-lg uppercase tracking-widest animate-pulse",children:"Initializing Nexus..."})]})})}):s!=null&&s.completed?h.jsx(fp,{children:h.jsx(s7,{children:h.jsx(My,{children:h.jsxs(bm,{children:[h.jsx(Zt,{path:"/login",element:h.jsx(TX,{})}),h.jsx(Zt,{path:"/*",element:h.jsx(LX,{children:h.jsx(jX,{socket:e})})})]})})})}):h.jsx(fp,{children:h.jsx(My,{children:h.jsx(bm,{children:h.jsx(Zt,{path:"/*",element:h.jsx(PX,{})})})})})}Np.createRoot(document.getElementById("root")).render(h.jsx(gl.StrictMode,{children:h.jsx(MX,{})}));
